var LO=Object.defineProperty;var DO=(n,e,t)=>e in n?LO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var He=(n,e,t)=>(DO(n,typeof e!="symbol"?e+"":e,t),t);function FO(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function E3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function kO(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Fg={},OO={get exports(){return Fg},set exports(n){Fg=n}},I0={},H={},NO={get exports(){return H},set exports(n){H=n}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),zO=Symbol.for("react.portal"),UO=Symbol.for("react.fragment"),GO=Symbol.for("react.strict_mode"),HO=Symbol.for("react.profiler"),VO=Symbol.for("react.provider"),WO=Symbol.for("react.context"),jO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),XO=Symbol.for("react.memo"),YO=Symbol.for("react.lazy"),CC=Symbol.iterator;function KO(n){return n===null||typeof n!="object"?null:(n=CC&&n[CC]||n["@@iterator"],typeof n=="function"?n:null)}var T3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P3=Object.assign,B3={};function Pc(n,e,t){this.props=n,this.context=e,this.refs=B3,this.updater=t||T3}Pc.prototype.isReactComponent={};Pc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Pc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function R3(){}R3.prototype=Pc.prototype;function cA(n,e,t){this.props=n,this.context=e,this.refs=B3,this.updater=t||T3}var hA=cA.prototype=new R3;hA.constructor=cA;P3(hA,Pc.prototype);hA.isPureReactComponent=!0;var EC=Array.isArray,I3=Object.prototype.hasOwnProperty,fA={current:null},L3={key:!0,ref:!0,__self:!0,__source:!0};function D3(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I3.call(e,i)&&!L3.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:fd,type:n,key:s,ref:o,props:r,_owner:fA.current}}function QO(n,e){return{$$typeof:fd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function dA(n){return typeof n=="object"&&n!==null&&n.$$typeof===fd}function qO(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var TC=/\/+/g;function zv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qO(""+n.key):e.toString(36)}function ug(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fd:case zO:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+zv(o,0):i,EC(r)?(t="",n!=null&&(t=n.replace(TC,"$&/")+"/"),ug(r,e,t,"",function(u){return u})):r!=null&&(dA(r)&&(r=QO(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(TC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",EC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+zv(s,a);o+=ug(s,e,t,l,r)}else if(l=KO(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+zv(s,a++),o+=ug(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yp(n,e,t){if(n==null)return n;var i=[],r=0;return ug(n,i,"","",function(s){return e.call(t,s,r++)}),i}function ZO(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var wi={current:null},cg={transition:null},$O={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:cg,ReactCurrentOwner:fA};bt.Children={map:Yp,forEach:function(n,e,t){Yp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Yp(n,function(){e++}),e},toArray:function(n){return Yp(n,function(e){return e})||[]},only:function(n){if(!dA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=Pc;bt.Fragment=UO;bt.Profiler=HO;bt.PureComponent=cA;bt.StrictMode=GO;bt.Suspense=JO;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=P3({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)I3.call(e,l)&&!L3.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:fd,type:n.type,key:r,ref:s,props:i,_owner:o}};bt.createContext=function(n){return n={$$typeof:WO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:VO,_context:n},n.Consumer=n};bt.createElement=D3;bt.createFactory=function(n){var e=D3.bind(null,n);return e.type=n,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:jO,render:n}};bt.isValidElement=dA;bt.lazy=function(n){return{$$typeof:YO,_payload:{_status:-1,_result:n},_init:ZO}};bt.memo=function(n,e){return{$$typeof:XO,type:n,compare:e===void 0?null:e}};bt.startTransition=function(n){var e=cg.transition;cg.transition={};try{n()}finally{cg.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(n,e){return wi.current.useCallback(n,e)};bt.useContext=function(n){return wi.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return wi.current.useDeferredValue(n)};bt.useEffect=function(n,e){return wi.current.useEffect(n,e)};bt.useId=function(){return wi.current.useId()};bt.useImperativeHandle=function(n,e,t){return wi.current.useImperativeHandle(n,e,t)};bt.useInsertionEffect=function(n,e){return wi.current.useInsertionEffect(n,e)};bt.useLayoutEffect=function(n,e){return wi.current.useLayoutEffect(n,e)};bt.useMemo=function(n,e){return wi.current.useMemo(n,e)};bt.useReducer=function(n,e,t){return wi.current.useReducer(n,e,t)};bt.useRef=function(n){return wi.current.useRef(n)};bt.useState=function(n){return wi.current.useState(n)};bt.useSyncExternalStore=function(n,e,t){return wi.current.useSyncExternalStore(n,e,t)};bt.useTransition=function(){return wi.current.useTransition()};bt.version="18.2.0";(function(n){n.exports=bt})(NO);const ac=E3(H),O1=FO({__proto__:null,default:ac},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=H,tN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),iN=Object.prototype.hasOwnProperty,rN=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function F3(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)iN.call(e,i)&&!sN.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:tN,type:n,key:s,ref:o,props:r,_owner:rN.current}}I0.Fragment=nN;I0.jsx=F3;I0.jsxs=F3;(function(n){n.exports=I0})(OO);const me=Fg.jsx,ht=Fg.jsxs;var N1={},xf={},oN={get exports(){return xf},set exports(n){xf=n}},tr={},z1={},aN={get exports(){return z1},set exports(n){z1=n}},k3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,U){var G=I.length;I.push(U);e:for(;0<G;){var $=G-1>>>1,V=I[$];if(0<r(V,U))I[$]=U,I[G]=V,G=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var U=I[0],G=I.pop();if(G!==U){I[0]=G;e:for(var $=0,V=I.length,se=V>>>1;$<se;){var he=2*($+1)-1,xe=I[he],Z=he+1,De=I[Z];if(0>r(xe,G))Z<V&&0>r(De,xe)?(I[$]=De,I[Z]=G,$=Z):(I[$]=xe,I[he]=G,$=he);else if(Z<V&&0>r(De,G))I[$]=De,I[Z]=G,$=Z;else break e}}return U}function r(I,U){var G=I.sortIndex-U.sortIndex;return G!==0?G:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var U=t(u);U!==null;){if(U.callback===null)i(u);else if(U.startTime<=I)i(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(u)}}function S(I){if(v=!1,A(I),!g)if(t(l)!==null)g=!0,ee(E);else{var U=t(u);U!==null&&ne(S,U.startTime-I)}}function E(I,U){g=!1,v&&(v=!1,w(C),C=-1),m=!0;var G=p;try{for(A(U),d=t(l);d!==null&&(!(d.expirationTime>U)||I&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var V=$(d.expirationTime<=U);U=n.unstable_now(),typeof V=="function"?d.callback=V:d===t(l)&&i(l),A(U)}else i(l);d=t(l)}if(d!==null)var se=!0;else{var he=t(u);he!==null&&ne(S,he.startTime-U),se=!1}return se}finally{d=null,p=G,m=!1}}var P=!1,R=null,C=-1,B=5,D=-1;function O(){return!(n.unstable_now()-D<B)}function Y(){if(R!==null){var I=n.unstable_now();D=I;var U=!0;try{U=R(!0,I)}finally{U?W():(P=!1,R=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(Y)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=Y,W=function(){X.postMessage(null)}}else W=function(){x(Y,0)};function ee(I){R=I,P||(P=!0,W())}function ne(I,U){C=x(function(){I(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(E))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var G=p;p=U;try{return I()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=p;p=I;try{return U()}finally{p=G}},n.unstable_scheduleCallback=function(I,U,G){var $=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,I={id:f++,callback:U,priorityLevel:I,startTime:G,expirationTime:V,sortIndex:-1},G>$?(I.sortIndex=G,e(u,I),t(l)===null&&I===t(u)&&(v?(w(C),C=-1):v=!0,ne(S,G-$))):(I.sortIndex=V,e(l,I),g||m||(g=!0,ee(E))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var U=p;return function(){var G=p;p=U;try{return I.apply(this,arguments)}finally{p=G}}}})(k3);(function(n){n.exports=k3})(aN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=H,Qi=z1;function Se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N3=new Set,_f={};function Nl(n,e){lc(n,e),lc(n+"Capture",e)}function lc(n,e){for(_f[n]=e,n=0;n<e.length;n++)N3.add(e[n])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U1=Object.prototype.hasOwnProperty,lN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PC={},BC={};function uN(n){return U1.call(BC,n)?!0:U1.call(PC,n)?!1:lN.test(n)?BC[n]=!0:(PC[n]=!0,!1)}function cN(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function hN(n,e,t,i){if(e===null||typeof e>"u"||cN(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zn[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zn[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zn[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zn[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zn[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zn[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zn[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zn[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zn[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var pA=/[\-:]([a-z])/g;function mA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(pA,mA);Zn[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(pA,mA);Zn[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(pA,mA);Zn[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function gA(n,e,t,i){var r=Zn.hasOwnProperty(e)?Zn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hN(e,t,r,i)&&(t=null),i||r===null?uN(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var mo=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),Tu=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),yA=Symbol.for("react.strict_mode"),G1=Symbol.for("react.profiler"),z3=Symbol.for("react.provider"),U3=Symbol.for("react.context"),vA=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),V1=Symbol.for("react.suspense_list"),xA=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),G3=Symbol.for("react.offscreen"),RC=Symbol.iterator;function oh(n){return n===null||typeof n!="object"?null:(n=RC&&n[RC]||n["@@iterator"],typeof n=="function"?n:null)}var pn=Object.assign,Uv;function zh(n){if(Uv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Uv=e&&e[1]||""}return`
`+Uv+n}var Gv=!1;function Hv(n,e){if(!n||Gv)return"";Gv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?zh(n):""}function fN(n){switch(n.tag){case 5:return zh(n.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return n=Hv(n.type,!1),n;case 11:return n=Hv(n.type.render,!1),n;case 1:return n=Hv(n.type,!0),n;default:return""}}function W1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Pu:return"Fragment";case Tu:return"Portal";case G1:return"Profiler";case yA:return"StrictMode";case H1:return"Suspense";case V1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case U3:return(n.displayName||"Context")+".Consumer";case z3:return(n._context.displayName||"Context")+".Provider";case vA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xA:return e=n.displayName||null,e!==null?e:W1(n.type)||"Memo";case No:e=n._payload,n=n._init;try{return W1(n(e))}catch{}}return null}function dN(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W1(e);case 8:return e===yA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ha(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function H3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pN(n){var e=H3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Qp(n){n._valueTracker||(n._valueTracker=pN(n))}function V3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=H3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function kg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function j1(n,e){var t=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function IC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ha(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W3(n,e){e=e.checked,e!=null&&gA(n,"checked",e,!1)}function J1(n,e){W3(n,e);var t=ha(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?X1(n,e.type,t):e.hasOwnProperty("defaultValue")&&X1(n,e.type,ha(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function LC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function X1(n,e,t){(e!=="number"||kg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Uh=Array.isArray;function Xu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ha(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Y1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function DC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Se(92));if(Uh(t)){if(1<t.length)throw Error(Se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ha(t)}}function j3(n,e){var t=ha(e.value),i=ha(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function FC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function J3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?J3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qp,X3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qp=qp||document.createElement("div"),qp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mN=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(n){mN.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Jh[e]=Jh[n]})});function Y3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Jh.hasOwnProperty(n)&&Jh[n]?(""+e).trim():e+"px"}function K3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Y3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var gN=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q1(n,e){if(e){if(gN[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function q1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=null;function _A(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $1=null,Yu=null,Ku=null;function kC(n){if(n=md(n)){if(typeof $1!="function")throw Error(Se(280));var e=n.stateNode;e&&(e=O0(e),$1(n.stateNode,n.type,e))}}function Q3(n){Yu?Ku?Ku.push(n):Ku=[n]:Yu=n}function q3(){if(Yu){var n=Yu,e=Ku;if(Ku=Yu=null,kC(n),e)for(n=0;n<e.length;n++)kC(e[n])}}function Z3(n,e){return n(e)}function $3(){}var Vv=!1;function eB(n,e,t){if(Vv)return n(e,t);Vv=!0;try{return Z3(n,e,t)}finally{Vv=!1,(Yu!==null||Ku!==null)&&($3(),q3())}}function Af(n,e){var t=n.stateNode;if(t===null)return null;var i=O0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Se(231,e,typeof t));return t}var e_=!1;if(oo)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){e_=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{e_=!1}function yN(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var Xh=!1,Og=null,Ng=!1,t_=null,vN={onError:function(n){Xh=!0,Og=n}};function xN(n,e,t,i,r,s,o,a,l){Xh=!1,Og=null,yN.apply(vN,arguments)}function _N(n,e,t,i,r,s,o,a,l){if(xN.apply(this,arguments),Xh){if(Xh){var u=Og;Xh=!1,Og=null}else throw Error(Se(198));Ng||(Ng=!0,t_=u)}}function zl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function tB(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function OC(n){if(zl(n)!==n)throw Error(Se(188))}function wN(n){var e=n.alternate;if(!e){if(e=zl(n),e===null)throw Error(Se(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return OC(r),n;if(s===i)return OC(r),e;s=s.sibling}throw Error(Se(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(t.alternate!==i)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?n:e}function nB(n){return n=wN(n),n!==null?iB(n):null}function iB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=iB(n);if(e!==null)return e;n=n.sibling}return null}var rB=Qi.unstable_scheduleCallback,NC=Qi.unstable_cancelCallback,AN=Qi.unstable_shouldYield,MN=Qi.unstable_requestPaint,Sn=Qi.unstable_now,SN=Qi.unstable_getCurrentPriorityLevel,wA=Qi.unstable_ImmediatePriority,sB=Qi.unstable_UserBlockingPriority,zg=Qi.unstable_NormalPriority,bN=Qi.unstable_LowPriority,oB=Qi.unstable_IdlePriority,L0=null,ys=null;function CN(n){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(L0,n,void 0,(n.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:PN,EN=Math.log,TN=Math.LN2;function PN(n){return n>>>=0,n===0?32:31-(EN(n)/TN|0)|0}var Zp=64,$p=4194304;function Gh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ug(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Gh(a):(s&=o,s!==0&&(i=Gh(s)))}else o=t&~r,o!==0?i=Gh(o):s!==0&&(i=Gh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Xr(e),r=1<<t,i|=n[t],e&=~r;return i}function BN(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RN(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Xr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=BN(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function n_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function aB(){var n=Zp;return Zp<<=1,!(Zp&4194240)&&(Zp=64),n}function Wv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function dd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xr(e),n[e]=t}function IN(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Xr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function AA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Xr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Gt=0;function lB(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var uB,MA,cB,hB,fB,i_=!1,em=[],Zo=null,$o=null,ea=null,Mf=new Map,Sf=new Map,Ho=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zC(n,e){switch(n){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(e.pointerId)}}function lh(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=md(e),e!==null&&MA(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function DN(n,e,t,i,r){switch(e){case"focusin":return Zo=lh(Zo,n,e,t,i,r),!0;case"dragenter":return $o=lh($o,n,e,t,i,r),!0;case"mouseover":return ea=lh(ea,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Mf.set(s,lh(Mf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Sf.set(s,lh(Sf.get(s)||null,n,e,t,i,r)),!0}return!1}function dB(n){var e=ol(n.target);if(e!==null){var t=zl(e);if(t!==null){if(e=t.tag,e===13){if(e=tB(t),e!==null){n.blockedOn=e,fB(n.priority,function(){cB(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=r_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Z1=i,t.target.dispatchEvent(i),Z1=null}else return e=md(t),e!==null&&MA(e),n.blockedOn=t,!1;e.shift()}return!0}function UC(n,e,t){hg(n)&&t.delete(e)}function FN(){i_=!1,Zo!==null&&hg(Zo)&&(Zo=null),$o!==null&&hg($o)&&($o=null),ea!==null&&hg(ea)&&(ea=null),Mf.forEach(UC),Sf.forEach(UC)}function uh(n,e){n.blockedOn===e&&(n.blockedOn=null,i_||(i_=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,FN)))}function bf(n){function e(r){return uh(r,n)}if(0<em.length){uh(em[0],n);for(var t=1;t<em.length;t++){var i=em[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Zo!==null&&uh(Zo,n),$o!==null&&uh($o,n),ea!==null&&uh(ea,n),Mf.forEach(e),Sf.forEach(e),t=0;t<Ho.length;t++)i=Ho[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ho.length&&(t=Ho[0],t.blockedOn===null);)dB(t),t.blockedOn===null&&Ho.shift()}var Qu=mo.ReactCurrentBatchConfig,Gg=!0;function kN(n,e,t,i){var r=Gt,s=Qu.transition;Qu.transition=null;try{Gt=1,SA(n,e,t,i)}finally{Gt=r,Qu.transition=s}}function ON(n,e,t,i){var r=Gt,s=Qu.transition;Qu.transition=null;try{Gt=4,SA(n,e,t,i)}finally{Gt=r,Qu.transition=s}}function SA(n,e,t,i){if(Gg){var r=r_(n,e,t,i);if(r===null)ex(n,e,i,Hg,t),zC(n,i);else if(DN(r,n,e,t,i))i.stopPropagation();else if(zC(n,i),e&4&&-1<LN.indexOf(n)){for(;r!==null;){var s=md(r);if(s!==null&&uB(s),s=r_(n,e,t,i),s===null&&ex(n,e,i,Hg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else ex(n,e,i,null,t)}}var Hg=null;function r_(n,e,t,i){if(Hg=null,n=_A(i),n=ol(n),n!==null)if(e=zl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=tB(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Hg=n,null}function pB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SN()){case wA:return 1;case sB:return 4;case zg:case bN:return 16;case oB:return 536870912;default:return 16}default:return 16}}var Wo=null,bA=null,fg=null;function mB(){if(fg)return fg;var n,e=bA,t=e.length,i,r="value"in Wo?Wo.value:Wo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return fg=r.slice(n,1<i?1-i:void 0)}function dg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tm(){return!0}function GC(){return!1}function nr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tm:GC,this.isPropagationStopped=GC,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tm)},persist:function(){},isPersistent:tm}),e}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CA=nr(Bc),pd=pn({},Bc,{view:0,detail:0}),NN=nr(pd),jv,Jv,ch,D0=pn({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ch&&(ch&&n.type==="mousemove"?(jv=n.screenX-ch.screenX,Jv=n.screenY-ch.screenY):Jv=jv=0,ch=n),jv)},movementY:function(n){return"movementY"in n?n.movementY:Jv}}),HC=nr(D0),zN=pn({},D0,{dataTransfer:0}),UN=nr(zN),GN=pn({},pd,{relatedTarget:0}),Xv=nr(GN),HN=pn({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),VN=nr(HN),WN=pn({},Bc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jN=nr(WN),JN=pn({},Bc,{data:0}),VC=nr(JN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=KN[n])?!!e[n]:!1}function EA(){return QN}var qN=pn({},pd,{key:function(n){if(n.key){var e=XN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=dg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?YN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EA,charCode:function(n){return n.type==="keypress"?dg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ZN=nr(qN),$N=pn({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WC=nr($N),ez=pn({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EA}),tz=nr(ez),nz=pn({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iz=nr(nz),rz=pn({},D0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sz=nr(rz),oz=[9,13,27,32],TA=oo&&"CompositionEvent"in window,Yh=null;oo&&"documentMode"in document&&(Yh=document.documentMode);var az=oo&&"TextEvent"in window&&!Yh,gB=oo&&(!TA||Yh&&8<Yh&&11>=Yh),jC=String.fromCharCode(32),JC=!1;function yB(n,e){switch(n){case"keyup":return oz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vB(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bu=!1;function lz(n,e){switch(n){case"compositionend":return vB(e);case"keypress":return e.which!==32?null:(JC=!0,jC);case"textInput":return n=e.data,n===jC&&JC?null:n;default:return null}}function uz(n,e){if(Bu)return n==="compositionend"||!TA&&yB(n,e)?(n=mB(),fg=bA=Wo=null,Bu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gB&&e.locale!=="ko"?null:e.data;default:return null}}var cz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!cz[n.type]:e==="textarea"}function xB(n,e,t,i){Q3(i),e=Vg(e,"onChange"),0<e.length&&(t=new CA("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Kh=null,Cf=null;function hz(n){BB(n,0)}function F0(n){var e=Lu(n);if(V3(e))return n}function fz(n,e){if(n==="change")return e}var _B=!1;if(oo){var Yv;if(oo){var Kv="oninput"in document;if(!Kv){var YC=document.createElement("div");YC.setAttribute("oninput","return;"),Kv=typeof YC.oninput=="function"}Yv=Kv}else Yv=!1;_B=Yv&&(!document.documentMode||9<document.documentMode)}function KC(){Kh&&(Kh.detachEvent("onpropertychange",wB),Cf=Kh=null)}function wB(n){if(n.propertyName==="value"&&F0(Cf)){var e=[];xB(e,Cf,n,_A(n)),eB(hz,e)}}function dz(n,e,t){n==="focusin"?(KC(),Kh=e,Cf=t,Kh.attachEvent("onpropertychange",wB)):n==="focusout"&&KC()}function pz(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return F0(Cf)}function mz(n,e){if(n==="click")return F0(e)}function gz(n,e){if(n==="input"||n==="change")return F0(e)}function yz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zr=typeof Object.is=="function"?Object.is:yz;function Ef(n,e){if(Zr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!U1.call(e,r)||!Zr(n[r],e[r]))return!1}return!0}function QC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qC(n,e){var t=QC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=QC(t)}}function AB(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AB(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function MB(){for(var n=window,e=kg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=kg(n.document)}return e}function PA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function vz(n){var e=MB(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AB(t.ownerDocument.documentElement,t)){if(i!==null&&PA(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=qC(t,s);var o=qC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xz=oo&&"documentMode"in document&&11>=document.documentMode,Ru=null,s_=null,Qh=null,o_=!1;function ZC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;o_||Ru==null||Ru!==kg(i)||(i=Ru,"selectionStart"in i&&PA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qh&&Ef(Qh,i)||(Qh=i,i=Vg(s_,"onSelect"),0<i.length&&(e=new CA("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ru)))}function nm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Iu={animationend:nm("Animation","AnimationEnd"),animationiteration:nm("Animation","AnimationIteration"),animationstart:nm("Animation","AnimationStart"),transitionend:nm("Transition","TransitionEnd")},Qv={},SB={};oo&&(SB=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function k0(n){if(Qv[n])return Qv[n];if(!Iu[n])return n;var e=Iu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in SB)return Qv[n]=e[t];return n}var bB=k0("animationend"),CB=k0("animationiteration"),EB=k0("animationstart"),TB=k0("transitionend"),PB=new Map,$C="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(n,e){PB.set(n,e),Nl(e,[n])}for(var qv=0;qv<$C.length;qv++){var Zv=$C[qv],_z=Zv.toLowerCase(),wz=Zv[0].toUpperCase()+Zv.slice(1);wa(_z,"on"+wz)}wa(bB,"onAnimationEnd");wa(CB,"onAnimationIteration");wa(EB,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(TB,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Az=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function eE(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,_N(i,e,void 0,n),n.currentTarget=null}function BB(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;eE(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;eE(r,a,u),s=l}}}if(Ng)throw n=t_,Ng=!1,t_=null,n}function Kt(n,e){var t=e[h_];t===void 0&&(t=e[h_]=new Set);var i=n+"__bubble";t.has(i)||(RB(e,n,2,!1),t.add(i))}function $v(n,e,t){var i=0;e&&(i|=4),RB(t,n,i,e)}var im="_reactListening"+Math.random().toString(36).slice(2);function Tf(n){if(!n[im]){n[im]=!0,N3.forEach(function(t){t!=="selectionchange"&&(Az.has(t)||$v(t,!1,n),$v(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[im]||(e[im]=!0,$v("selectionchange",!1,e))}}function RB(n,e,t,i){switch(pB(e)){case 1:var r=kN;break;case 4:r=ON;break;default:r=SA}t=r.bind(null,e,t,n),r=void 0,!e_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function ex(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ol(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}eB(function(){var u=s,f=_A(t),d=[];e:{var p=PB.get(n);if(p!==void 0){var m=CA,g=n;switch(n){case"keypress":if(dg(t)===0)break e;case"keydown":case"keyup":m=ZN;break;case"focusin":g="focus",m=Xv;break;case"focusout":g="blur",m=Xv;break;case"beforeblur":case"afterblur":m=Xv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tz;break;case bB:case CB:case EB:m=VN;break;case TB:m=iz;break;case"scroll":m=NN;break;case"wheel":m=sz;break;case"copy":case"cut":case"paste":m=jN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=WC}var v=(e&4)!==0,x=!v&&n==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,A;_!==null;){A=_;var S=A.stateNode;if(A.tag===5&&S!==null&&(A=S,w!==null&&(S=Af(_,w),S!=null&&v.push(Pf(_,S,A)))),x)break;_=_.return}0<v.length&&(p=new m(p,g,null,t,f),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Z1&&(g=t.relatedTarget||t.fromElement)&&(ol(g)||g[ao]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?ol(g):null,g!==null&&(x=zl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=HC,S="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=WC,S="onPointerLeave",w="onPointerEnter",_="pointer"),x=m==null?p:Lu(m),A=g==null?p:Lu(g),p=new v(S,_+"leave",m,t,f),p.target=x,p.relatedTarget=A,S=null,ol(f)===u&&(v=new v(w,_+"enter",g,t,f),v.target=A,v.relatedTarget=x,S=v),x=S,m&&g)t:{for(v=m,w=g,_=0,A=v;A;A=su(A))_++;for(A=0,S=w;S;S=su(S))A++;for(;0<_-A;)v=su(v),_--;for(;0<A-_;)w=su(w),A--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=su(v),w=su(w)}v=null}else v=null;m!==null&&tE(d,p,m,v,!1),g!==null&&x!==null&&tE(d,x,g,v,!0)}}e:{if(p=u?Lu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=fz;else if(XC(p))if(_B)E=gz;else{E=pz;var P=dz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=mz);if(E&&(E=E(n,u))){xB(d,E,t,f);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&X1(p,"number",p.value)}switch(P=u?Lu(u):window,n){case"focusin":(XC(P)||P.contentEditable==="true")&&(Ru=P,s_=u,Qh=null);break;case"focusout":Qh=s_=Ru=null;break;case"mousedown":o_=!0;break;case"contextmenu":case"mouseup":case"dragend":o_=!1,ZC(d,t,f);break;case"selectionchange":if(xz)break;case"keydown":case"keyup":ZC(d,t,f)}var R;if(TA)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bu?yB(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(gB&&t.locale!=="ko"&&(Bu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Bu&&(R=mB()):(Wo=f,bA="value"in Wo?Wo.value:Wo.textContent,Bu=!0)),P=Vg(u,C),0<P.length&&(C=new VC(C,n,null,t,f),d.push({event:C,listeners:P}),R?C.data=R:(R=vB(t),R!==null&&(C.data=R)))),(R=az?lz(n,t):uz(n,t))&&(u=Vg(u,"onBeforeInput"),0<u.length&&(f=new VC("onBeforeInput","beforeinput",null,t,f),d.push({event:f,listeners:u}),f.data=R))}BB(d,e)})}function Pf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Vg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Af(n,t),s!=null&&i.unshift(Pf(n,s,r)),s=Af(n,e),s!=null&&i.push(Pf(n,s,r))),n=n.return}return i}function su(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function tE(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Af(t,s),l!=null&&o.unshift(Pf(t,l,a))):r||(l=Af(t,s),l!=null&&o.push(Pf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Mz=/\r\n?/g,Sz=/\u0000|\uFFFD/g;function nE(n){return(typeof n=="string"?n:""+n).replace(Mz,`
`).replace(Sz,"")}function rm(n,e,t){if(e=nE(e),nE(n)!==e&&t)throw Error(Se(425))}function Wg(){}var a_=null,l_=null;function u_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,bz=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(n){return iE.resolve(null).then(n).catch(Ez)}:c_;function Ez(n){setTimeout(function(){throw n})}function tx(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),bf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);bf(e)}function ta(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function rE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Rc=Math.random().toString(36).slice(2),gs="__reactFiber$"+Rc,Bf="__reactProps$"+Rc,ao="__reactContainer$"+Rc,h_="__reactEvents$"+Rc,Tz="__reactListeners$"+Rc,Pz="__reactHandles$"+Rc;function ol(n){var e=n[gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ao]||t[gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=rE(n);n!==null;){if(t=n[gs])return t;n=rE(n)}return e}n=t,t=n.parentNode}return null}function md(n){return n=n[gs]||n[ao],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Lu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Se(33))}function O0(n){return n[Bf]||null}var f_=[],Du=-1;function Aa(n){return{current:n}}function Zt(n){0>Du||(n.current=f_[Du],f_[Du]=null,Du--)}function Xt(n,e){Du++,f_[Du]=n.current,n.current=e}var fa={},ui=Aa(fa),Li=Aa(!1),bl=fa;function uc(n,e){var t=n.type.contextTypes;if(!t)return fa;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Di(n){return n=n.childContextTypes,n!=null}function jg(){Zt(Li),Zt(ui)}function sE(n,e,t){if(ui.current!==fa)throw Error(Se(168));Xt(ui,e),Xt(Li,t)}function IB(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Se(108,dN(n)||"Unknown",r));return pn({},t,i)}function Jg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||fa,bl=ui.current,Xt(ui,n),Xt(Li,Li.current),!0}function oE(n,e,t){var i=n.stateNode;if(!i)throw Error(Se(169));t?(n=IB(n,e,bl),i.__reactInternalMemoizedMergedChildContext=n,Zt(Li),Zt(ui),Xt(ui,n)):Zt(Li),Xt(Li,t)}var Xs=null,N0=!1,nx=!1;function LB(n){Xs===null?Xs=[n]:Xs.push(n)}function Bz(n){N0=!0,LB(n)}function Ma(){if(!nx&&Xs!==null){nx=!0;var n=0,e=Gt;try{var t=Xs;for(Gt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Xs=null,N0=!1}catch(r){throw Xs!==null&&(Xs=Xs.slice(n+1)),rB(wA,Ma),r}finally{Gt=e,nx=!1}}return null}var Fu=[],ku=0,Xg=null,Yg=0,_r=[],wr=0,Cl=null,qs=1,Zs="";function Ka(n,e){Fu[ku++]=Yg,Fu[ku++]=Xg,Xg=n,Yg=e}function DB(n,e,t){_r[wr++]=qs,_r[wr++]=Zs,_r[wr++]=Cl,Cl=n;var i=qs;n=Zs;var r=32-Xr(i)-1;i&=~(1<<r),t+=1;var s=32-Xr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,qs=1<<32-Xr(e)+r|t<<r|i,Zs=s+n}else qs=1<<s|t<<r|i,Zs=n}function BA(n){n.return!==null&&(Ka(n,1),DB(n,1,0))}function RA(n){for(;n===Xg;)Xg=Fu[--ku],Fu[ku]=null,Yg=Fu[--ku],Fu[ku]=null;for(;n===Cl;)Cl=_r[--wr],_r[wr]=null,Zs=_r[--wr],_r[wr]=null,qs=_r[--wr],_r[wr]=null}var Yi=null,Ji=null,nn=!1,Gr=null;function FB(n,e){var t=br(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function aE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Yi=n,Ji=ta(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Yi=n,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Cl!==null?{id:qs,overflow:Zs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=br(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Yi=n,Ji=null,!0):!1;default:return!1}}function d_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function p_(n){if(nn){var e=Ji;if(e){var t=e;if(!aE(n,e)){if(d_(n))throw Error(Se(418));e=ta(t.nextSibling);var i=Yi;e&&aE(n,e)?FB(i,t):(n.flags=n.flags&-4097|2,nn=!1,Yi=n)}}else{if(d_(n))throw Error(Se(418));n.flags=n.flags&-4097|2,nn=!1,Yi=n}}}function lE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Yi=n}function sm(n){if(n!==Yi)return!1;if(!nn)return lE(n),nn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!u_(n.type,n.memoizedProps)),e&&(e=Ji)){if(d_(n))throw kB(),Error(Se(418));for(;e;)FB(n,e),e=ta(e.nextSibling)}if(lE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ji=ta(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ji=null}}else Ji=Yi?ta(n.stateNode.nextSibling):null;return!0}function kB(){for(var n=Ji;n;)n=ta(n.nextSibling)}function cc(){Ji=Yi=null,nn=!1}function IA(n){Gr===null?Gr=[n]:Gr.push(n)}var Rz=mo.ReactCurrentBatchConfig;function Nr(n,e){if(n&&n.defaultProps){e=pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Kg=Aa(null),Qg=null,Ou=null,LA=null;function DA(){LA=Ou=Qg=null}function FA(n){var e=Kg.current;Zt(Kg),n._currentValue=e}function m_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function qu(n,e){Qg=n,LA=Ou=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ii=!0),n.firstContext=null)}function Tr(n){var e=n._currentValue;if(LA!==n)if(n={context:n,memoizedValue:e,next:null},Ou===null){if(Qg===null)throw Error(Se(308));Ou=n,Qg.dependencies={lanes:0,firstContext:n}}else Ou=Ou.next=n;return e}var al=null;function kA(n){al===null?al=[n]:al.push(n)}function OB(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,kA(e)):(t.next=r.next,r.next=t),e.interleaved=t,lo(n,i)}function lo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zo=!1;function OA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function io(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function na(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,It&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,lo(n,t)}return r=i.interleaved,r===null?(e.next=e,kA(i)):(e.next=r.next,r.next=e),i.interleaved=e,lo(n,t)}function pg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,AA(n,t)}}function uE(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qg(n,e,t,i){var r=n.updateQueue;zo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(p=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=pn({},d,p);break e;case 2:zo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Tl|=o,n.lanes=o,n.memoizedState=d}}function cE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Se(191,r));r.call(i)}}}var zB=new O3.Component().refs;function g_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var z0={isMounted:function(n){return(n=n._reactInternals)?zl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=xi(),r=ra(n),s=io(i,r);s.payload=e,t!=null&&(s.callback=t),e=na(n,s,r),e!==null&&(Yr(e,n,r,i),pg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=xi(),r=ra(n),s=io(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=na(n,s,r),e!==null&&(Yr(e,n,r,i),pg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xi(),i=ra(n),r=io(t,i);r.tag=2,e!=null&&(r.callback=e),e=na(n,r,i),e!==null&&(Yr(e,n,i,t),pg(e,n,i))}};function hE(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ef(t,i)||!Ef(r,s):!0}function UB(n,e,t){var i=!1,r=fa,s=e.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(r=Di(e)?bl:ui.current,i=e.contextTypes,s=(i=i!=null)?uc(n,r):fa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function fE(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&z0.enqueueReplaceState(e,e.state,null)}function y_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=zB,OA(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Tr(s):(s=Di(e)?bl:ui.current,r.context=uc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&z0.enqueueReplaceState(r,r.state,null),qg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function hh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var i=t.stateNode}if(!i)throw Error(Se(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===zB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,n))}return n}function om(n,e){throw n=Object.prototype.toString.call(e),Error(Se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function dE(n){var e=n._init;return e(n._payload)}function GB(n){function e(w,_){if(n){var A=w.deletions;A===null?(w.deletions=[_],w.flags|=16):A.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function i(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function r(w,_){return w=sa(w,_),w.index=0,w.sibling=null,w}function s(w,_,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<_?(w.flags|=2,_):A):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,A,S){return _===null||_.tag!==6?(_=ux(A,w.mode,S),_.return=w,_):(_=r(_,A),_.return=w,_)}function l(w,_,A,S){var E=A.type;return E===Pu?f(w,_,A.props.children,S,A.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===No&&dE(E)===_.type)?(S=r(_,A.props),S.ref=hh(w,_,A),S.return=w,S):(S=_g(A.type,A.key,A.props,null,w.mode,S),S.ref=hh(w,_,A),S.return=w,S)}function u(w,_,A,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=cx(A,w.mode,S),_.return=w,_):(_=r(_,A.children||[]),_.return=w,_)}function f(w,_,A,S,E){return _===null||_.tag!==7?(_=vl(A,w.mode,S,E),_.return=w,_):(_=r(_,A),_.return=w,_)}function d(w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ux(""+_,w.mode,A),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kp:return A=_g(_.type,_.key,_.props,null,w.mode,A),A.ref=hh(w,null,_),A.return=w,A;case Tu:return _=cx(_,w.mode,A),_.return=w,_;case No:var S=_._init;return d(w,S(_._payload),A)}if(Uh(_)||oh(_))return _=vl(_,w.mode,A,null),_.return=w,_;om(w,_)}return null}function p(w,_,A,S){var E=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return E!==null?null:a(w,_,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kp:return A.key===E?l(w,_,A,S):null;case Tu:return A.key===E?u(w,_,A,S):null;case No:return E=A._init,p(w,_,E(A._payload),S)}if(Uh(A)||oh(A))return E!==null?null:f(w,_,A,S,null);om(w,A)}return null}function m(w,_,A,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(A)||null,a(_,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kp:return w=w.get(S.key===null?A:S.key)||null,l(_,w,S,E);case Tu:return w=w.get(S.key===null?A:S.key)||null,u(_,w,S,E);case No:var P=S._init;return m(w,_,A,P(S._payload),E)}if(Uh(S)||oh(S))return w=w.get(A)||null,f(_,w,S,E,null);om(_,S)}return null}function g(w,_,A,S){for(var E=null,P=null,R=_,C=_=0,B=null;R!==null&&C<A.length;C++){R.index>C?(B=R,R=null):B=R.sibling;var D=p(w,R,A[C],S);if(D===null){R===null&&(R=B);break}n&&R&&D.alternate===null&&e(w,R),_=s(D,_,C),P===null?E=D:P.sibling=D,P=D,R=B}if(C===A.length)return t(w,R),nn&&Ka(w,C),E;if(R===null){for(;C<A.length;C++)R=d(w,A[C],S),R!==null&&(_=s(R,_,C),P===null?E=R:P.sibling=R,P=R);return nn&&Ka(w,C),E}for(R=i(w,R);C<A.length;C++)B=m(R,w,C,A[C],S),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?C:B.key),_=s(B,_,C),P===null?E=B:P.sibling=B,P=B);return n&&R.forEach(function(O){return e(w,O)}),nn&&Ka(w,C),E}function v(w,_,A,S){var E=oh(A);if(typeof E!="function")throw Error(Se(150));if(A=E.call(A),A==null)throw Error(Se(151));for(var P=E=null,R=_,C=_=0,B=null,D=A.next();R!==null&&!D.done;C++,D=A.next()){R.index>C?(B=R,R=null):B=R.sibling;var O=p(w,R,D.value,S);if(O===null){R===null&&(R=B);break}n&&R&&O.alternate===null&&e(w,R),_=s(O,_,C),P===null?E=O:P.sibling=O,P=O,R=B}if(D.done)return t(w,R),nn&&Ka(w,C),E;if(R===null){for(;!D.done;C++,D=A.next())D=d(w,D.value,S),D!==null&&(_=s(D,_,C),P===null?E=D:P.sibling=D,P=D);return nn&&Ka(w,C),E}for(R=i(w,R);!D.done;C++,D=A.next())D=m(R,w,C,D.value,S),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?C:D.key),_=s(D,_,C),P===null?E=D:P.sibling=D,P=D);return n&&R.forEach(function(Y){return e(w,Y)}),nn&&Ka(w,C),E}function x(w,_,A,S){if(typeof A=="object"&&A!==null&&A.type===Pu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Kp:e:{for(var E=A.key,P=_;P!==null;){if(P.key===E){if(E=A.type,E===Pu){if(P.tag===7){t(w,P.sibling),_=r(P,A.props.children),_.return=w,w=_;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===No&&dE(E)===P.type){t(w,P.sibling),_=r(P,A.props),_.ref=hh(w,P,A),_.return=w,w=_;break e}t(w,P);break}else e(w,P);P=P.sibling}A.type===Pu?(_=vl(A.props.children,w.mode,S,A.key),_.return=w,w=_):(S=_g(A.type,A.key,A.props,null,w.mode,S),S.ref=hh(w,_,A),S.return=w,w=S)}return o(w);case Tu:e:{for(P=A.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){t(w,_.sibling),_=r(_,A.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=cx(A,w.mode,S),_.return=w,w=_}return o(w);case No:return P=A._init,x(w,_,P(A._payload),S)}if(Uh(A))return g(w,_,A,S);if(oh(A))return v(w,_,A,S);om(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(t(w,_.sibling),_=r(_,A),_.return=w,w=_):(t(w,_),_=ux(A,w.mode,S),_.return=w,w=_),o(w)):t(w,_)}return x}var hc=GB(!0),HB=GB(!1),gd={},vs=Aa(gd),Rf=Aa(gd),If=Aa(gd);function ll(n){if(n===gd)throw Error(Se(174));return n}function NA(n,e){switch(Xt(If,e),Xt(Rf,n),Xt(vs,gd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=K1(e,n)}Zt(vs),Xt(vs,e)}function fc(){Zt(vs),Zt(Rf),Zt(If)}function VB(n){ll(If.current);var e=ll(vs.current),t=K1(e,n.type);e!==t&&(Xt(Rf,n),Xt(vs,t))}function zA(n){Rf.current===n&&(Zt(vs),Zt(Rf))}var ln=Aa(0);function Zg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ix=[];function UA(){for(var n=0;n<ix.length;n++)ix[n]._workInProgressVersionPrimary=null;ix.length=0}var mg=mo.ReactCurrentDispatcher,rx=mo.ReactCurrentBatchConfig,El=0,dn=null,Dn=null,Wn=null,$g=!1,qh=!1,Lf=0,Iz=0;function ii(){throw Error(Se(321))}function GA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zr(n[t],e[t]))return!1;return!0}function HA(n,e,t,i,r,s){if(El=s,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mg.current=n===null||n.memoizedState===null?kz:Oz,n=t(i,r),qh){s=0;do{if(qh=!1,Lf=0,25<=s)throw Error(Se(301));s+=1,Wn=Dn=null,e.updateQueue=null,mg.current=Nz,n=t(i,r)}while(qh)}if(mg.current=e0,e=Dn!==null&&Dn.next!==null,El=0,Wn=Dn=dn=null,$g=!1,e)throw Error(Se(300));return n}function VA(){var n=Lf!==0;return Lf=0,n}function ds(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?dn.memoizedState=Wn=n:Wn=Wn.next=n,Wn}function Pr(){if(Dn===null){var n=dn.alternate;n=n!==null?n.memoizedState:null}else n=Dn.next;var e=Wn===null?dn.memoizedState:Wn.next;if(e!==null)Wn=e,Dn=n;else{if(n===null)throw Error(Se(310));Dn=n,n={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Wn===null?dn.memoizedState=Wn=n:Wn=Wn.next=n}return Wn}function Df(n,e){return typeof e=="function"?e(n):e}function sx(n){var e=Pr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=Dn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((El&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,dn.lanes|=f,Tl|=f}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Zr(i,e.memoizedState)||(Ii=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,dn.lanes|=s,Tl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ox(n){var e=Pr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Zr(s,e.memoizedState)||(Ii=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function WB(){}function jB(n,e){var t=dn,i=Pr(),r=e(),s=!Zr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ii=!0),i=i.queue,WA(YB.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(t.flags|=2048,Ff(9,XB.bind(null,t,i,r,e),void 0,null),Jn===null)throw Error(Se(349));El&30||JB(t,e,r)}return r}function JB(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function XB(n,e,t,i){e.value=t,e.getSnapshot=i,KB(e)&&QB(n)}function YB(n,e,t){return t(function(){KB(e)&&QB(n)})}function KB(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zr(n,t)}catch{return!0}}function QB(n){var e=lo(n,1);e!==null&&Yr(e,n,1,-1)}function pE(n){var e=ds();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:n},e.queue=n,n=n.dispatch=Fz.bind(null,dn,n),[e.memoizedState,n]}function Ff(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function qB(){return Pr().memoizedState}function gg(n,e,t,i){var r=ds();dn.flags|=n,r.memoizedState=Ff(1|e,t,void 0,i===void 0?null:i)}function U0(n,e,t,i){var r=Pr();i=i===void 0?null:i;var s=void 0;if(Dn!==null){var o=Dn.memoizedState;if(s=o.destroy,i!==null&&GA(i,o.deps)){r.memoizedState=Ff(e,t,s,i);return}}dn.flags|=n,r.memoizedState=Ff(1|e,t,s,i)}function mE(n,e){return gg(8390656,8,n,e)}function WA(n,e){return U0(2048,8,n,e)}function ZB(n,e){return U0(4,2,n,e)}function $B(n,e){return U0(4,4,n,e)}function eR(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function tR(n,e,t){return t=t!=null?t.concat([n]):null,U0(4,4,eR.bind(null,e,n),t)}function jA(){}function nR(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&GA(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function iR(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&GA(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function rR(n,e,t){return El&21?(Zr(t,e)||(t=aB(),dn.lanes|=t,Tl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ii=!0),n.memoizedState=t)}function Lz(n,e){var t=Gt;Gt=t!==0&&4>t?t:4,n(!0);var i=rx.transition;rx.transition={};try{n(!1),e()}finally{Gt=t,rx.transition=i}}function sR(){return Pr().memoizedState}function Dz(n,e,t){var i=ra(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},oR(n))aR(e,t);else if(t=OB(n,e,t,i),t!==null){var r=xi();Yr(t,n,i,r),lR(t,e,i)}}function Fz(n,e,t){var i=ra(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(oR(n))aR(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Zr(a,o)){var l=e.interleaved;l===null?(r.next=r,kA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=OB(n,e,r,i),t!==null&&(r=xi(),Yr(t,n,i,r),lR(t,e,i))}}function oR(n){var e=n.alternate;return n===dn||e!==null&&e===dn}function aR(n,e){qh=$g=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function lR(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,AA(n,t)}}var e0={readContext:Tr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},kz={readContext:Tr,useCallback:function(n,e){return ds().memoizedState=[n,e===void 0?null:e],n},useContext:Tr,useEffect:mE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gg(4194308,4,eR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gg(4194308,4,n,e)},useInsertionEffect:function(n,e){return gg(4,2,n,e)},useMemo:function(n,e){var t=ds();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ds();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Dz.bind(null,dn,n),[i.memoizedState,n]},useRef:function(n){var e=ds();return n={current:n},e.memoizedState=n},useState:pE,useDebugValue:jA,useDeferredValue:function(n){return ds().memoizedState=n},useTransition:function(){var n=pE(!1),e=n[0];return n=Lz.bind(null,n[1]),ds().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=dn,r=ds();if(nn){if(t===void 0)throw Error(Se(407));t=t()}else{if(t=e(),Jn===null)throw Error(Se(349));El&30||JB(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,mE(YB.bind(null,i,s,n),[n]),i.flags|=2048,Ff(9,XB.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ds(),e=Jn.identifierPrefix;if(nn){var t=Zs,i=qs;t=(i&~(1<<32-Xr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Lf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Iz++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Oz={readContext:Tr,useCallback:nR,useContext:Tr,useEffect:WA,useImperativeHandle:tR,useInsertionEffect:ZB,useLayoutEffect:$B,useMemo:iR,useReducer:sx,useRef:qB,useState:function(){return sx(Df)},useDebugValue:jA,useDeferredValue:function(n){var e=Pr();return rR(e,Dn.memoizedState,n)},useTransition:function(){var n=sx(Df)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:WB,useSyncExternalStore:jB,useId:sR,unstable_isNewReconciler:!1},Nz={readContext:Tr,useCallback:nR,useContext:Tr,useEffect:WA,useImperativeHandle:tR,useInsertionEffect:ZB,useLayoutEffect:$B,useMemo:iR,useReducer:ox,useRef:qB,useState:function(){return ox(Df)},useDebugValue:jA,useDeferredValue:function(n){var e=Pr();return Dn===null?e.memoizedState=n:rR(e,Dn.memoizedState,n)},useTransition:function(){var n=ox(Df)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:WB,useSyncExternalStore:jB,useId:sR,unstable_isNewReconciler:!1};function dc(n,e){try{var t="",i=e;do t+=fN(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function ax(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function v_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var zz=typeof WeakMap=="function"?WeakMap:Map;function uR(n,e,t){t=io(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){n0||(n0=!0,T_=i),v_(n,e)},t}function cR(n,e,t){t=io(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){v_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){v_(n,e),typeof i!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function gE(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new zz;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=$z.bind(null,n,e,t),e.then(n,n))}function yE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function vE(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=io(-1,1),e.tag=2,na(t,e,1))),t.lanes|=1),n)}var Uz=mo.ReactCurrentOwner,Ii=!1;function yi(n,e,t,i){e.child=n===null?HB(e,null,t,i):hc(e,n.child,t,i)}function xE(n,e,t,i,r){t=t.render;var s=e.ref;return qu(e,r),i=HA(n,e,t,i,s,r),t=VA(),n!==null&&!Ii?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,uo(n,e,r)):(nn&&t&&BA(e),e.flags|=1,yi(n,e,i,r),e.child)}function _E(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!$A(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,hR(n,e,s,i,r)):(n=_g(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ef,t(o,i)&&n.ref===e.ref)return uo(n,e,r)}return e.flags|=1,n=sa(s,i),n.ref=e.ref,n.return=e,e.child=n}function hR(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ef(s,i)&&n.ref===e.ref)if(Ii=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ii=!0);else return e.lanes=n.lanes,uo(n,e,r)}return x_(n,e,t,i,r)}function fR(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(zu,ji),ji|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xt(zu,ji),ji|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Xt(zu,ji),ji|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Xt(zu,ji),ji|=i;return yi(n,e,r,t),e.child}function dR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function x_(n,e,t,i,r){var s=Di(t)?bl:ui.current;return s=uc(e,s),qu(e,r),t=HA(n,e,t,i,s,r),i=VA(),n!==null&&!Ii?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,uo(n,e,r)):(nn&&i&&BA(e),e.flags|=1,yi(n,e,t,r),e.child)}function wE(n,e,t,i,r){if(Di(t)){var s=!0;Jg(e)}else s=!1;if(qu(e,r),e.stateNode===null)yg(n,e),UB(e,t,i),y_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Tr(u):(u=Di(t)?bl:ui.current,u=uc(e,u));var f=t.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&fE(e,o,i,u),zo=!1;var p=e.memoizedState;o.state=p,qg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Li.current||zo?(typeof f=="function"&&(g_(e,t,f,i),l=e.memoizedState),(a=zo||hE(e,t,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,NB(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nr(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Tr(l):(l=Di(t)?bl:ui.current,l=uc(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&fE(e,o,i,l),zo=!1,p=e.memoizedState,o.state=p,qg(e,i,o,r);var g=e.memoizedState;a!==d||p!==g||Li.current||zo?(typeof m=="function"&&(g_(e,t,m,i),g=e.memoizedState),(u=zo||hE(e,t,u,i,p,g,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return __(n,e,t,i,s,r)}function __(n,e,t,i,r,s){dR(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&oE(e,t,!1),uo(n,e,s);i=e.stateNode,Uz.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=hc(e,n.child,null,s),e.child=hc(e,null,a,s)):yi(n,e,a,s),e.memoizedState=i.state,r&&oE(e,t,!0),e.child}function pR(n){var e=n.stateNode;e.pendingContext?sE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&sE(n,e.context,!1),NA(n,e.containerInfo)}function AE(n,e,t,i,r){return cc(),IA(r),e.flags|=256,yi(n,e,t,i),e.child}var w_={dehydrated:null,treeContext:null,retryLane:0};function A_(n){return{baseLanes:n,cachePool:null,transitions:null}}function mR(n,e,t){var i=e.pendingProps,r=ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Xt(ln,r&1),n===null)return p_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=V0(o,i,0,null),n=vl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=A_(t),e.memoizedState=w_,n):JA(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Gz(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=sa(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=sa(a,s):(s=vl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?A_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=w_,i}return s=n.child,n=s.sibling,i=sa(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function JA(n,e){return e=V0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function am(n,e,t,i){return i!==null&&IA(i),hc(e,n.child,null,t),n=JA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Gz(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=ax(Error(Se(422))),am(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=V0({mode:"visible",children:i.children},r,0,null),s=vl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&hc(e,n.child,null,o),e.child.memoizedState=A_(o),e.memoizedState=w_,s);if(!(e.mode&1))return am(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Se(419)),i=ax(s,i,void 0),am(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ii||a){if(i=Jn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,lo(n,r),Yr(i,n,r,-1))}return ZA(),i=ax(Error(Se(421))),am(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=e4.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ji=ta(r.nextSibling),Yi=e,nn=!0,Gr=null,n!==null&&(_r[wr++]=qs,_r[wr++]=Zs,_r[wr++]=Cl,qs=n.id,Zs=n.overflow,Cl=e),e=JA(e,i.children),e.flags|=4096,e)}function ME(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),m_(n.return,e,t)}function lx(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function gR(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yi(n,e,i.children,t),i=ln.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ME(n,t,e);else if(n.tag===19)ME(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Xt(ln,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Zg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),lx(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Zg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}lx(e,!0,t,null,s);break;case"together":lx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function uo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Tl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Se(153));if(e.child!==null){for(n=e.child,t=sa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=sa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Hz(n,e,t){switch(e.tag){case 3:pR(e),cc();break;case 5:VB(e);break;case 1:Di(e.type)&&Jg(e);break;case 4:NA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Xt(Kg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Xt(ln,ln.current&1),e.flags|=128,null):t&e.child.childLanes?mR(n,e,t):(Xt(ln,ln.current&1),n=uo(n,e,t),n!==null?n.sibling:null);Xt(ln,ln.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return gR(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Xt(ln,ln.current),i)break;return null;case 22:case 23:return e.lanes=0,fR(n,e,t)}return uo(n,e,t)}var yR,M_,vR,xR;yR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};M_=function(){};vR=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ll(vs.current);var s=null;switch(t){case"input":r=j1(n,r),i=j1(n,i),s=[];break;case"select":r=pn({},r,{value:void 0}),i=pn({},i,{value:void 0}),s=[];break;case"textarea":r=Y1(n,r),i=Y1(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Wg)}Q1(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_f.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_f.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xR=function(n,e,t,i){t!==i&&(e.flags|=4)};function fh(n,e){if(!nn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Vz(n,e,t){var i=e.pendingProps;switch(RA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Di(e.type)&&jg(),ri(e),null;case 3:return i=e.stateNode,fc(),Zt(Li),Zt(ui),UA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(sm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(R_(Gr),Gr=null))),M_(n,e),ri(e),null;case 5:zA(e);var r=ll(If.current);if(t=e.type,n!==null&&e.stateNode!=null)vR(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Se(166));return ri(e),null}if(n=ll(vs.current),sm(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[gs]=e,i[Bf]=s,n=(e.mode&1)!==0,t){case"dialog":Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(r=0;r<Hh.length;r++)Kt(Hh[r],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"input":IC(i,s),Kt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i);break;case"textarea":DC(i,s),Kt("invalid",i)}Q1(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&rm(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rm(i.textContent,a,n),r=["children",""+a]):_f.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",i)}switch(t){case"input":Qp(i),LC(i,s,!0);break;case"textarea":Qp(i),FC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Wg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=J3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[gs]=e,n[Bf]=i,yR(n,e,!1,!1),e.stateNode=n;e:{switch(o=q1(t,i),t){case"dialog":Kt("cancel",n),Kt("close",n),r=i;break;case"iframe":case"object":case"embed":Kt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Hh.length;r++)Kt(Hh[r],n);r=i;break;case"source":Kt("error",n),r=i;break;case"img":case"image":case"link":Kt("error",n),Kt("load",n),r=i;break;case"details":Kt("toggle",n),r=i;break;case"input":IC(n,i),r=j1(n,i),Kt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=pn({},i,{value:void 0}),Kt("invalid",n);break;case"textarea":DC(n,i),r=Y1(n,i),Kt("invalid",n);break;default:r=i}Q1(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?K3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&X3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wf(n,l):typeof l=="number"&&wf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_f.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",n):l!=null&&gA(n,s,l,o))}switch(t){case"input":Qp(n),LC(n,i,!1);break;case"textarea":Qp(n),FC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ha(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Xu(n,!!i.multiple,s,!1):i.defaultValue!=null&&Xu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Wg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)xR(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Se(166));if(t=ll(If.current),ll(vs.current),sm(e)){if(i=e.stateNode,t=e.memoizedProps,i[gs]=e,(s=i.nodeValue!==t)&&(n=Yi,n!==null))switch(n.tag){case 3:rm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rm(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[gs]=e,e.stateNode=i}return ri(e),null;case 13:if(Zt(ln),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nn&&Ji!==null&&e.mode&1&&!(e.flags&128))kB(),cc(),e.flags|=98560,s=!1;else if(s=sm(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[gs]=e}else cc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else Gr!==null&&(R_(Gr),Gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ln.current&1?Fn===0&&(Fn=3):ZA())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return fc(),M_(n,e),n===null&&Tf(e.stateNode.containerInfo),ri(e),null;case 10:return FA(e.type._context),ri(e),null;case 17:return Di(e.type)&&jg(),ri(e),null;case 19:if(Zt(ln),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)fh(s,!1);else{if(Fn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zg(n),o!==null){for(e.flags|=128,fh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xt(ln,ln.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>pc&&(e.flags|=128,i=!0,fh(s,!1),e.lanes=4194304)}else{if(!i)if(n=Zg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),fh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return ri(e),null}else 2*Sn()-s.renderingStartTime>pc&&t!==1073741824&&(e.flags|=128,i=!0,fh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=ln.current,Xt(ln,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return qA(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ji&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Se(156,e.tag))}function Wz(n,e){switch(RA(e),e.tag){case 1:return Di(e.type)&&jg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return fc(),Zt(Li),Zt(ui),UA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return zA(e),null;case 13:if(Zt(ln),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Se(340));cc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Zt(ln),null;case 4:return fc(),null;case 10:return FA(e.type._context),null;case 22:case 23:return qA(),null;case 24:return null;default:return null}}var lm=!1,ai=!1,jz=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Nu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){xn(n,e,i)}else t.current=null}function S_(n,e,t){try{t()}catch(i){xn(n,e,i)}}var SE=!1;function Jz(n,e){if(a_=Gg,n=MB(),PA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++f===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(l_={focusedElem:n,selectionRange:t},Gg=!1,Ve=e;Ve!==null;)if(e=Ve,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ve=n;else for(;Ve!==null;){e=Ve;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Nr(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(S){xn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}return g=SE,SE=!1,g}function Zh(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&S_(e,t,s)}r=r.next}while(r!==i)}}function G0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function b_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function _R(n){var e=n.alternate;e!==null&&(n.alternate=null,_R(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[gs],delete e[Bf],delete e[h_],delete e[Tz],delete e[Pz])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wR(n){return n.tag===5||n.tag===3||n.tag===4}function bE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function C_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Wg));else if(i!==4&&(n=n.child,n!==null))for(C_(n,e,t),n=n.sibling;n!==null;)C_(n,e,t),n=n.sibling}function E_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(E_(n,e,t),n=n.sibling;n!==null;)E_(n,e,t),n=n.sibling}var Yn=null,zr=!1;function Eo(n,e,t){for(t=t.child;t!==null;)AR(n,e,t),t=t.sibling}function AR(n,e,t){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(L0,t)}catch{}switch(t.tag){case 5:ai||Nu(t,e);case 6:var i=Yn,r=zr;Yn=null,Eo(n,e,t),Yn=i,zr=r,Yn!==null&&(zr?(n=Yn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Yn.removeChild(t.stateNode));break;case 18:Yn!==null&&(zr?(n=Yn,t=t.stateNode,n.nodeType===8?tx(n.parentNode,t):n.nodeType===1&&tx(n,t),bf(n)):tx(Yn,t.stateNode));break;case 4:i=Yn,r=zr,Yn=t.stateNode.containerInfo,zr=!0,Eo(n,e,t),Yn=i,zr=r;break;case 0:case 11:case 14:case 15:if(!ai&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&S_(t,e,o),r=r.next}while(r!==i)}Eo(n,e,t);break;case 1:if(!ai&&(Nu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){xn(t,e,a)}Eo(n,e,t);break;case 21:Eo(n,e,t);break;case 22:t.mode&1?(ai=(i=ai)||t.memoizedState!==null,Eo(n,e,t),ai=i):Eo(n,e,t);break;default:Eo(n,e,t)}}function CE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jz),e.forEach(function(i){var r=t4.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Dr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yn=a.stateNode,zr=!1;break e;case 3:Yn=a.stateNode.containerInfo,zr=!0;break e;case 4:Yn=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(Yn===null)throw Error(Se(160));AR(s,o,r),Yn=null,zr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){xn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MR(e,n),e=e.sibling}function MR(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dr(e,n),fs(n),i&4){try{Zh(3,n,n.return),G0(3,n)}catch(v){xn(n,n.return,v)}try{Zh(5,n,n.return)}catch(v){xn(n,n.return,v)}}break;case 1:Dr(e,n),fs(n),i&512&&t!==null&&Nu(t,t.return);break;case 5:if(Dr(e,n),fs(n),i&512&&t!==null&&Nu(t,t.return),n.flags&32){var r=n.stateNode;try{wf(r,"")}catch(v){xn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&W3(r,s),q1(a,o);var u=q1(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?K3(r,d):f==="dangerouslySetInnerHTML"?X3(r,d):f==="children"?wf(r,d):gA(r,f,d,u)}switch(a){case"input":J1(r,s);break;case"textarea":j3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Xu(r,!!s.multiple,s.defaultValue,!0):Xu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Bf]=s}catch(v){xn(n,n.return,v)}}break;case 6:if(Dr(e,n),fs(n),i&4){if(n.stateNode===null)throw Error(Se(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){xn(n,n.return,v)}}break;case 3:if(Dr(e,n),fs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{bf(e.containerInfo)}catch(v){xn(n,n.return,v)}break;case 4:Dr(e,n),fs(n);break;case 13:Dr(e,n),fs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(KA=Sn())),i&4&&CE(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ai=(u=ai)||f,Dr(e,n),ai=u):Dr(e,n),fs(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(Ve=n,f=n.child;f!==null;){for(d=Ve=f;Ve!==null;){switch(p=Ve,m=p.child,p.tag){case 0:case 11:case 14:case 15:Zh(4,p,p.return);break;case 1:Nu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){xn(i,t,v)}}break;case 5:Nu(p,p.return);break;case 22:if(p.memoizedState!==null){TE(d);continue}}m!==null?(m.return=p,Ve=m):TE(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y3("display",o))}catch(v){xn(n,n.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){xn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dr(e,n),fs(n),i&4&&CE(n);break;case 21:break;default:Dr(e,n),fs(n)}}function fs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(wR(t)){var i=t;break e}t=t.return}throw Error(Se(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wf(r,""),i.flags&=-33);var s=bE(n);E_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=bE(n);C_(n,a,o);break;default:throw Error(Se(161))}}catch(l){xn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Xz(n,e,t){Ve=n,SR(n)}function SR(n,e,t){for(var i=(n.mode&1)!==0;Ve!==null;){var r=Ve,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||lm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ai;a=lm;var u=ai;if(lm=o,(ai=l)&&!u)for(Ve=r;Ve!==null;)o=Ve,l=o.child,o.tag===22&&o.memoizedState!==null?PE(r):l!==null?(l.return=o,Ve=l):PE(r);for(;s!==null;)Ve=s,SR(s),s=s.sibling;Ve=r,lm=a,ai=u}EE(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ve=s):EE(n)}}function EE(n){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ai||G0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ai)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Nr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}cE(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&bf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}ai||e.flags&512&&b_(e)}catch(p){xn(e,e.return,p)}}if(e===n){Ve=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function TE(n){for(;Ve!==null;){var e=Ve;if(e===n){Ve=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function PE(n){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{G0(4,e)}catch(l){xn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){xn(e,r,l)}}var s=e.return;try{b_(e)}catch(l){xn(e,s,l)}break;case 5:var o=e.return;try{b_(e)}catch(l){xn(e,o,l)}}}catch(l){xn(e,e.return,l)}if(e===n){Ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ve=a;break}Ve=e.return}}var Yz=Math.ceil,t0=mo.ReactCurrentDispatcher,XA=mo.ReactCurrentOwner,Er=mo.ReactCurrentBatchConfig,It=0,Jn=null,Bn=null,Qn=0,ji=0,zu=Aa(0),Fn=0,kf=null,Tl=0,H0=0,YA=0,$h=null,Bi=null,KA=0,pc=1/0,js=null,n0=!1,T_=null,ia=null,um=!1,jo=null,i0=0,ef=0,P_=null,vg=-1,xg=0;function xi(){return It&6?Sn():vg!==-1?vg:vg=Sn()}function ra(n){return n.mode&1?It&2&&Qn!==0?Qn&-Qn:Rz.transition!==null?(xg===0&&(xg=aB()),xg):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:pB(n.type)),n):1}function Yr(n,e,t,i){if(50<ef)throw ef=0,P_=null,Error(Se(185));dd(n,t,i),(!(It&2)||n!==Jn)&&(n===Jn&&(!(It&2)&&(H0|=t),Fn===4&&Vo(n,Qn)),Fi(n,i),t===1&&It===0&&!(e.mode&1)&&(pc=Sn()+500,N0&&Ma()))}function Fi(n,e){var t=n.callbackNode;RN(n,e);var i=Ug(n,n===Jn?Qn:0);if(i===0)t!==null&&NC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&NC(t),e===1)n.tag===0?Bz(BE.bind(null,n)):LB(BE.bind(null,n)),Cz(function(){!(It&6)&&Ma()}),t=null;else{switch(lB(i)){case 1:t=wA;break;case 4:t=sB;break;case 16:t=zg;break;case 536870912:t=oB;break;default:t=zg}t=IR(t,bR.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function bR(n,e){if(vg=-1,xg=0,It&6)throw Error(Se(327));var t=n.callbackNode;if(Zu()&&n.callbackNode!==t)return null;var i=Ug(n,n===Jn?Qn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=r0(n,i);else{e=i;var r=It;It|=2;var s=ER();(Jn!==n||Qn!==e)&&(js=null,pc=Sn()+500,yl(n,e));do try{qz();break}catch(a){CR(n,a)}while(1);DA(),t0.current=s,It=r,Bn!==null?e=0:(Jn=null,Qn=0,e=Fn)}if(e!==0){if(e===2&&(r=n_(n),r!==0&&(i=r,e=B_(n,r))),e===1)throw t=kf,yl(n,0),Vo(n,i),Fi(n,Sn()),t;if(e===6)Vo(n,i);else{if(r=n.current.alternate,!(i&30)&&!Kz(r)&&(e=r0(n,i),e===2&&(s=n_(n),s!==0&&(i=s,e=B_(n,s))),e===1))throw t=kf,yl(n,0),Vo(n,i),Fi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Se(345));case 2:Qa(n,Bi,js);break;case 3:if(Vo(n,i),(i&130023424)===i&&(e=KA+500-Sn(),10<e)){if(Ug(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){xi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=c_(Qa.bind(null,n,Bi,js),e);break}Qa(n,Bi,js);break;case 4:if(Vo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Xr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Yz(i/1960))-i,10<i){n.timeoutHandle=c_(Qa.bind(null,n,Bi,js),i);break}Qa(n,Bi,js);break;case 5:Qa(n,Bi,js);break;default:throw Error(Se(329))}}}return Fi(n,Sn()),n.callbackNode===t?bR.bind(null,n):null}function B_(n,e){var t=$h;return n.current.memoizedState.isDehydrated&&(yl(n,e).flags|=256),n=r0(n,e),n!==2&&(e=Bi,Bi=t,e!==null&&R_(e)),n}function R_(n){Bi===null?Bi=n:Bi.push.apply(Bi,n)}function Kz(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Zr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vo(n,e){for(e&=~YA,e&=~H0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xr(e),i=1<<t;n[t]=-1,e&=~i}}function BE(n){if(It&6)throw Error(Se(327));Zu();var e=Ug(n,0);if(!(e&1))return Fi(n,Sn()),null;var t=r0(n,e);if(n.tag!==0&&t===2){var i=n_(n);i!==0&&(e=i,t=B_(n,i))}if(t===1)throw t=kf,yl(n,0),Vo(n,e),Fi(n,Sn()),t;if(t===6)throw Error(Se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Qa(n,Bi,js),Fi(n,Sn()),null}function QA(n,e){var t=It;It|=1;try{return n(e)}finally{It=t,It===0&&(pc=Sn()+500,N0&&Ma())}}function Pl(n){jo!==null&&jo.tag===0&&!(It&6)&&Zu();var e=It;It|=1;var t=Er.transition,i=Gt;try{if(Er.transition=null,Gt=1,n)return n()}finally{Gt=i,Er.transition=t,It=e,!(It&6)&&Ma()}}function qA(){ji=zu.current,Zt(zu)}function yl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,bz(t)),Bn!==null)for(t=Bn.return;t!==null;){var i=t;switch(RA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&jg();break;case 3:fc(),Zt(Li),Zt(ui),UA();break;case 5:zA(i);break;case 4:fc();break;case 13:Zt(ln);break;case 19:Zt(ln);break;case 10:FA(i.type._context);break;case 22:case 23:qA()}t=t.return}if(Jn=n,Bn=n=sa(n.current,null),Qn=ji=e,Fn=0,kf=null,YA=H0=Tl=0,Bi=$h=null,al!==null){for(e=0;e<al.length;e++)if(t=al[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}al=null}return n}function CR(n,e){do{var t=Bn;try{if(DA(),mg.current=e0,$g){for(var i=dn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$g=!1}if(El=0,Wn=Dn=dn=null,qh=!1,Lf=0,XA.current=null,t===null||t.return===null){Fn=1,kf=e,Bn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=yE(o);if(m!==null){m.flags&=-257,vE(m,o,a,s,e),m.mode&1&&gE(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){gE(s,u,e),ZA();break e}l=Error(Se(426))}}else if(nn&&a.mode&1){var x=yE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vE(x,o,a,s,e),IA(dc(l,a));break e}}s=l=dc(l,a),Fn!==4&&(Fn=2),$h===null?$h=[s]:$h.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=uR(s,l,e);uE(s,w);break e;case 1:a=l;var _=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ia===null||!ia.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=cR(s,a,e);uE(s,S);break e}}s=s.return}while(s!==null)}PR(t)}catch(E){e=E,Bn===t&&t!==null&&(Bn=t=t.return);continue}break}while(1)}function ER(){var n=t0.current;return t0.current=e0,n===null?e0:n}function ZA(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Jn===null||!(Tl&268435455)&&!(H0&268435455)||Vo(Jn,Qn)}function r0(n,e){var t=It;It|=2;var i=ER();(Jn!==n||Qn!==e)&&(js=null,yl(n,e));do try{Qz();break}catch(r){CR(n,r)}while(1);if(DA(),It=t,t0.current=i,Bn!==null)throw Error(Se(261));return Jn=null,Qn=0,Fn}function Qz(){for(;Bn!==null;)TR(Bn)}function qz(){for(;Bn!==null&&!AN();)TR(Bn)}function TR(n){var e=RR(n.alternate,n,ji);n.memoizedProps=n.pendingProps,e===null?PR(n):Bn=e,XA.current=null}function PR(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Wz(t,e),t!==null){t.flags&=32767,Bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Fn=6,Bn=null;return}}else if(t=Vz(t,e,ji),t!==null){Bn=t;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=n}while(e!==null);Fn===0&&(Fn=5)}function Qa(n,e,t){var i=Gt,r=Er.transition;try{Er.transition=null,Gt=1,Zz(n,e,t,i)}finally{Er.transition=r,Gt=i}return null}function Zz(n,e,t,i){do Zu();while(jo!==null);if(It&6)throw Error(Se(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Se(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(IN(n,s),n===Jn&&(Bn=Jn=null,Qn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||um||(um=!0,IR(zg,function(){return Zu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=Gt;Gt=1;var a=It;It|=4,XA.current=null,Jz(n,t),MR(t,n),vz(l_),Gg=!!a_,l_=a_=null,n.current=t,Xz(t),MN(),It=a,Gt=o,Er.transition=s}else n.current=t;if(um&&(um=!1,jo=n,i0=r),s=n.pendingLanes,s===0&&(ia=null),CN(t.stateNode),Fi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(n0)throw n0=!1,n=T_,T_=null,n;return i0&1&&n.tag!==0&&Zu(),s=n.pendingLanes,s&1?n===P_?ef++:(ef=0,P_=n):ef=0,Ma(),null}function Zu(){if(jo!==null){var n=lB(i0),e=Er.transition,t=Gt;try{if(Er.transition=null,Gt=16>n?16:n,jo===null)var i=!1;else{if(n=jo,jo=null,i0=0,It&6)throw Error(Se(331));var r=It;for(It|=4,Ve=n.current;Ve!==null;){var s=Ve,o=s.child;if(Ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ve=u;Ve!==null;){var f=Ve;switch(f.tag){case 0:case 11:case 15:Zh(8,f,s)}var d=f.child;if(d!==null)d.return=f,Ve=d;else for(;Ve!==null;){f=Ve;var p=f.sibling,m=f.return;if(_R(f),f===u){Ve=null;break}if(p!==null){p.return=m,Ve=p;break}Ve=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ve=o;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ve=w;break e}Ve=s.return}}var _=n.current;for(Ve=_;Ve!==null;){o=Ve;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ve=A;else e:for(o=_;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:G0(9,a)}}catch(E){xn(a,a.return,E)}if(a===o){Ve=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ve=S;break e}Ve=a.return}}if(It=r,Ma(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(L0,n)}catch{}i=!0}return i}finally{Gt=t,Er.transition=e}}return!1}function RE(n,e,t){e=dc(t,e),e=uR(n,e,1),n=na(n,e,1),e=xi(),n!==null&&(dd(n,1,e),Fi(n,e))}function xn(n,e,t){if(n.tag===3)RE(n,n,t);else for(;e!==null;){if(e.tag===3){RE(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ia===null||!ia.has(i))){n=dc(t,n),n=cR(e,n,1),e=na(e,n,1),n=xi(),e!==null&&(dd(e,1,n),Fi(e,n));break}}e=e.return}}function $z(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=xi(),n.pingedLanes|=n.suspendedLanes&t,Jn===n&&(Qn&t)===t&&(Fn===4||Fn===3&&(Qn&130023424)===Qn&&500>Sn()-KA?yl(n,0):YA|=t),Fi(n,e)}function BR(n,e){e===0&&(n.mode&1?(e=$p,$p<<=1,!($p&130023424)&&($p=4194304)):e=1);var t=xi();n=lo(n,e),n!==null&&(dd(n,e,t),Fi(n,t))}function e4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),BR(n,t)}function t4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Se(314))}i!==null&&i.delete(e),BR(n,t)}var RR;RR=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Li.current)Ii=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ii=!1,Hz(n,e,t);Ii=!!(n.flags&131072)}else Ii=!1,nn&&e.flags&1048576&&DB(e,Yg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;yg(n,e),n=e.pendingProps;var r=uc(e,ui.current);qu(e,t),r=HA(null,e,i,n,r,t);var s=VA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Di(i)?(s=!0,Jg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,OA(e),r.updater=z0,e.stateNode=r,r._reactInternals=e,y_(e,i,n,t),e=__(null,e,i,!0,s,t)):(e.tag=0,nn&&s&&BA(e),yi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(yg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=i4(i),n=Nr(i,n),r){case 0:e=x_(null,e,i,n,t);break e;case 1:e=wE(null,e,i,n,t);break e;case 11:e=xE(null,e,i,n,t);break e;case 14:e=_E(null,e,i,Nr(i.type,n),t);break e}throw Error(Se(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nr(i,r),x_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nr(i,r),wE(n,e,i,r,t);case 3:e:{if(pR(e),n===null)throw Error(Se(387));i=e.pendingProps,s=e.memoizedState,r=s.element,NB(n,e),qg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=dc(Error(Se(423)),e),e=AE(n,e,i,t,r);break e}else if(i!==r){r=dc(Error(Se(424)),e),e=AE(n,e,i,t,r);break e}else for(Ji=ta(e.stateNode.containerInfo.firstChild),Yi=e,nn=!0,Gr=null,t=HB(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cc(),i===r){e=uo(n,e,t);break e}yi(n,e,i,t)}e=e.child}return e;case 5:return VB(e),n===null&&p_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,u_(i,r)?o=null:s!==null&&u_(i,s)&&(e.flags|=32),dR(n,e),yi(n,e,o,t),e.child;case 6:return n===null&&p_(e),null;case 13:return mR(n,e,t);case 4:return NA(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=hc(e,null,i,t):yi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nr(i,r),xE(n,e,i,r,t);case 7:return yi(n,e,e.pendingProps,t),e.child;case 8:return yi(n,e,e.pendingProps.children,t),e.child;case 12:return yi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Xt(Kg,i._currentValue),i._currentValue=o,s!==null)if(Zr(s.value,o)){if(s.children===r.children&&!Li.current){e=uo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=io(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),m_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),m_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,qu(e,t),r=Tr(r),i=i(r),e.flags|=1,yi(n,e,i,t),e.child;case 14:return i=e.type,r=Nr(i,e.pendingProps),r=Nr(i.type,r),_E(n,e,i,r,t);case 15:return hR(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nr(i,r),yg(n,e),e.tag=1,Di(i)?(n=!0,Jg(e)):n=!1,qu(e,t),UB(e,i,r),y_(e,i,r,t),__(null,e,i,!0,n,t);case 19:return gR(n,e,t);case 22:return fR(n,e,t)}throw Error(Se(156,e.tag))};function IR(n,e){return rB(n,e)}function n4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(n,e,t,i){return new n4(n,e,t,i)}function $A(n){return n=n.prototype,!(!n||!n.isReactComponent)}function i4(n){if(typeof n=="function")return $A(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vA)return 11;if(n===xA)return 14}return 2}function sa(n,e){var t=n.alternate;return t===null?(t=br(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _g(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")$A(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Pu:return vl(t.children,r,s,e);case yA:o=8,r|=8;break;case G1:return n=br(12,t,e,r|2),n.elementType=G1,n.lanes=s,n;case H1:return n=br(13,t,e,r),n.elementType=H1,n.lanes=s,n;case V1:return n=br(19,t,e,r),n.elementType=V1,n.lanes=s,n;case G3:return V0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z3:o=10;break e;case U3:o=9;break e;case vA:o=11;break e;case xA:o=14;break e;case No:o=16,i=null;break e}throw Error(Se(130,n==null?n:typeof n,""))}return e=br(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function vl(n,e,t,i){return n=br(7,n,i,e),n.lanes=t,n}function V0(n,e,t,i){return n=br(22,n,i,e),n.elementType=G3,n.lanes=t,n.stateNode={isHidden:!1},n}function ux(n,e,t){return n=br(6,n,null,e),n.lanes=t,n}function cx(n,e,t){return e=br(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function r4(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wv(0),this.expirationTimes=Wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function eM(n,e,t,i,r,s,o,a,l){return n=new r4(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=br(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},OA(s),n}function s4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function LR(n){if(!n)return fa;n=n._reactInternals;e:{if(zl(n)!==n||n.tag!==1)throw Error(Se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Se(171))}if(n.tag===1){var t=n.type;if(Di(t))return IB(n,t,e)}return e}function DR(n,e,t,i,r,s,o,a,l){return n=eM(t,i,!0,n,r,s,o,a,l),n.context=LR(null),t=n.current,i=xi(),r=ra(t),s=io(i,r),s.callback=e??null,na(t,s,r),n.current.lanes=r,dd(n,r,i),Fi(n,i),n}function W0(n,e,t,i){var r=e.current,s=xi(),o=ra(r);return t=LR(t),e.context===null?e.context=t:e.pendingContext=t,e=io(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=na(r,e,o),n!==null&&(Yr(n,r,o,s),pg(n,r,o)),o}function s0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function IE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function tM(n,e){IE(n,e),(n=n.alternate)&&IE(n,e)}function o4(){return null}var FR=typeof reportError=="function"?reportError:function(n){console.error(n)};function nM(n){this._internalRoot=n}j0.prototype.render=nM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Se(409));W0(n,e,null,null)};j0.prototype.unmount=nM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Pl(function(){W0(null,n,null,null)}),e[ao]=null}};function j0(n){this._internalRoot=n}j0.prototype.unstable_scheduleHydration=function(n){if(n){var e=hB();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ho.length&&e!==0&&e<Ho[t].priority;t++);Ho.splice(t,0,n),t===0&&dB(n)}};function iM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function J0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function LE(){}function a4(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=s0(o);s.call(u)}}var o=DR(e,i,n,0,null,!1,!1,"",LE);return n._reactRootContainer=o,n[ao]=o.current,Tf(n.nodeType===8?n.parentNode:n),Pl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=s0(l);a.call(u)}}var l=eM(n,0,!1,null,null,!1,!1,"",LE);return n._reactRootContainer=l,n[ao]=l.current,Tf(n.nodeType===8?n.parentNode:n),Pl(function(){W0(e,l,t,i)}),l}function X0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=s0(o);a.call(l)}}W0(e,o,n,r)}else o=a4(t,e,n,r,i);return s0(o)}uB=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gh(e.pendingLanes);t!==0&&(AA(e,t|1),Fi(e,Sn()),!(It&6)&&(pc=Sn()+500,Ma()))}break;case 13:Pl(function(){var i=lo(n,1);if(i!==null){var r=xi();Yr(i,n,1,r)}}),tM(n,1)}};MA=function(n){if(n.tag===13){var e=lo(n,134217728);if(e!==null){var t=xi();Yr(e,n,134217728,t)}tM(n,134217728)}};cB=function(n){if(n.tag===13){var e=ra(n),t=lo(n,e);if(t!==null){var i=xi();Yr(t,n,e,i)}tM(n,e)}};hB=function(){return Gt};fB=function(n,e){var t=Gt;try{return Gt=n,e()}finally{Gt=t}};$1=function(n,e,t){switch(e){case"input":if(J1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=O0(i);if(!r)throw Error(Se(90));V3(i),J1(i,r)}}}break;case"textarea":j3(n,t);break;case"select":e=t.value,e!=null&&Xu(n,!!t.multiple,e,!1)}};Z3=QA;$3=Pl;var l4={usingClientEntryPoint:!1,Events:[md,Lu,O0,Q3,q3,QA]},dh={findFiberByHostInstance:ol,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},u4={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=nB(n),n===null?null:n.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance||o4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{L0=cm.inject(u4),ys=cm}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l4;tr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iM(e))throw Error(Se(200));return s4(n,e,null,t)};tr.createRoot=function(n,e){if(!iM(n))throw Error(Se(299));var t=!1,i="",r=FR;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=eM(n,1,!1,null,null,t,!1,i,r),n[ao]=e.current,Tf(n.nodeType===8?n.parentNode:n),new nM(e)};tr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Se(188)):(n=Object.keys(n).join(","),Error(Se(268,n)));return n=nB(e),n=n===null?null:n.stateNode,n};tr.flushSync=function(n){return Pl(n)};tr.hydrate=function(n,e,t){if(!J0(e))throw Error(Se(200));return X0(null,n,e,!0,t)};tr.hydrateRoot=function(n,e,t){if(!iM(n))throw Error(Se(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=FR;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=DR(e,null,n,1,t??null,r,!1,s,o),n[ao]=e.current,Tf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new j0(e)};tr.render=function(n,e,t){if(!J0(e))throw Error(Se(200));return X0(null,n,e,!1,t)};tr.unmountComponentAtNode=function(n){if(!J0(n))throw Error(Se(40));return n._reactRootContainer?(Pl(function(){X0(null,null,n,!1,function(){n._reactRootContainer=null,n[ao]=null})}),!0):!1};tr.unstable_batchedUpdates=QA;tr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!J0(t))throw Error(Se(200));if(n==null||n._reactInternals===void 0)throw Error(Se(38));return X0(n,e,t,!1,i)};tr.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=tr})(oN);var kR,DE=xf;kR=N1.createRoot=DE.createRoot,N1.hydrateRoot=DE.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Of.apply(this,arguments)}var ul;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ul||(ul={}));const FE="popstate";function c4(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return I_("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:o0(r)}return f4(e,t,null,n)}function oa(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function h4(){return Math.random().toString(36).substr(2,8)}function kE(n,e){return{usr:n.state,key:n.key,idx:e}}function I_(n,e,t,i){return t===void 0&&(t=null),Of({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Y0(e):e,{state:t,key:e&&e.key||i||h4()})}function o0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Y0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function f4(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ul.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Of({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=ul.Pop;let x=f(),w=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:w})}function p(x,w){a=ul.Push;let _=I_(v.location,x,w);t&&t(_,x),u=f()+1;let A=kE(_,u),S=v.createHref(_);try{o.pushState(A,"",S)}catch{r.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function m(x,w){a=ul.Replace;let _=I_(v.location,x,w);t&&t(_,x),u=f();let A=kE(_,u),S=v.createHref(_);o.replaceState(A,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(x){let w=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:o0(x);return oa(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(FE,d),l=x,()=>{r.removeEventListener(FE,d),l=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let w=g(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}var OE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(OE||(OE={}));function OR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function d4(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Y0(n):n;return{pathname:t?t.startsWith("/")?t:p4(t,e):e,search:m4(i),hash:g4(r)}}function p4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function hx(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Y0(n):(r=Of({},n),oa(!r.pathname||!r.pathname.includes("?"),hx("?","pathname","search",r)),oa(!r.pathname||!r.pathname.includes("#"),hx("#","pathname","hash",r)),oa(!r.search||!r.search.includes("#"),hx("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=d4(r,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const UR=n=>n.join("/").replace(/\/\/+/g,"/"),m4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const v4=typeof Object.is=="function"?Object.is:y4,{useState:x4,useEffect:_4,useLayoutEffect:w4,useDebugValue:A4}=O1;function M4(n,e,t){const i=e(),[{inst:r},s]=x4({inst:{value:i,getSnapshot:e}});return w4(()=>{r.value=i,r.getSnapshot=e,fx(r)&&s({inst:r})},[n,i,e]),_4(()=>(fx(r)&&s({inst:r}),n(()=>{fx(r)&&s({inst:r})})),[n]),A4(i),i}function fx(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!v4(t,i)}catch{return!0}}function S4(n,e,t){return e()}const b4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C4=!b4,E4=C4?S4:M4;"useSyncExternalStore"in O1&&(n=>n.useSyncExternalStore)(O1);const K0=H.createContext(null),rM=H.createContext(null),GR=H.createContext({outlet:null,matches:[]});function T4(n,e){let{relative:t}=e===void 0?{}:e;Q0()||oa(!1);let{basename:i,navigator:r}=H.useContext(K0),{hash:s,pathname:o,search:a}=HR(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:UR([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Q0(){return H.useContext(rM)!=null}function sM(){return Q0()||oa(!1),H.useContext(rM).location}function P4(){Q0()||oa(!1);let{basename:n,navigator:e}=H.useContext(K0),{matches:t}=H.useContext(GR),{pathname:i}=sM(),r=JSON.stringify(NR(t).map(a=>a.pathnameBase)),s=H.useRef(!1);return H.useEffect(()=>{s.current=!0}),H.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=zR(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:UR([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,r,i])}function HR(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=H.useContext(GR),{pathname:r}=sM(),s=JSON.stringify(NR(i).map(o=>o.pathnameBase));return H.useMemo(()=>zR(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}var NE;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(NE||(NE={}));var zE;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(zE||(zE={}));function B4(n){let{basename:e="/",children:t=null,location:i,navigationType:r=ul.Pop,navigator:s,static:o=!1}=n;Q0()&&oa(!1);let a=e.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=Y0(i));let{pathname:u="/",search:f="",hash:d="",state:p=null,key:m="default"}=i,g=H.useMemo(()=>{let v=OR(u,a);return v==null?null:{location:{pathname:v,search:f,hash:d,state:p,key:m},navigationType:r}},[a,u,f,d,p,m,r]);return g==null?null:H.createElement(K0.Provider,{value:l},H.createElement(rM.Provider,{children:t,value:g}))}var UE;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(UE||(UE={}));new Promise(()=>{});/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L_(){return L_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},L_.apply(this,arguments)}function R4(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function I4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L4(n,e){return n.button===0&&(!e||e==="_self")&&!I4(n)}const D4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function F4(n){let{basename:e,children:t,window:i}=n,r=H.useRef();r.current==null&&(r.current=c4({window:i,v5Compat:!0}));let s=r.current,[o,a]=H.useState({action:s.action,location:s.location});return H.useLayoutEffect(()=>s.listen(a),[s]),H.createElement(B4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N4=H.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f}=e,d=R4(e,D4),{basename:p}=H.useContext(K0),m,g=!1;if(typeof u=="string"&&O4.test(u)&&(m=u,k4)){let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=OR(A.pathname,p);A.origin===_.origin&&S!=null?u=S+A.search+A.hash:g=!0}let v=T4(u,{relative:r}),x=z4(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:r});function w(_){i&&i(_),_.defaultPrevented||x(_)}return H.createElement("a",L_({},d,{href:m||v,onClick:g||s?i:w,ref:t,target:l}))});var GE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(GE||(GE={}));var HE;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(HE||(HE={}));function z4(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=P4(),l=sM(),u=HR(n,{relative:o});return H.useCallback(f=>{if(L4(f,t)){f.preventDefault();let d=i!==void 0?i:o0(l)===o0(u);a(n,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const q0="149",qa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Za={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},VR=0,D_=1,WR=2,U4=3,jR=0,Z0=1,tf=2,cl=3,As=0,ki=1,Wr=2,G4=2,ro=0,xl=1,F_=2,k_=3,O_=4,JR=5,il=100,XR=101,YR=102,N_=103,z_=104,KR=200,QR=201,qR=202,ZR=203,oM=204,aM=205,$R=206,eI=207,tI=208,nI=209,iI=210,rI=0,sI=1,oI=2,a0=3,aI=4,lI=5,uI=6,cI=7,yd=0,hI=1,fI=2,Kr=0,dI=1,pI=2,mI=3,lM=4,gI=5,$0=300,da=301,pa=302,Nf=303,zf=304,Ic=306,ma=1e3,Kn=1001,mc=1002,_n=1003,Uf=1004,H4=1004,$u=1005,V4=1005,un=1006,ey=1007,W4=1007,Ms=1008,j4=1008,co=1009,yI=1010,vI=1011,uM=1012,xI=1013,Jo=1014,$s=1015,gc=1016,_I=1017,wI=1018,_l=1020,AI=1021,Ri=1023,MI=1024,SI=1025,aa=1026,Bl=1027,bI=1028,CI=1029,EI=1030,TI=1031,PI=1033,wg=33776,Ag=33777,Mg=33778,Sg=33779,U_=35840,G_=35841,H_=35842,V_=35843,BI=36196,W_=37492,j_=37496,J_=37808,X_=37809,Y_=37810,K_=37811,Q_=37812,q_=37813,Z_=37814,$_=37815,ew=37816,tw=37817,nw=37818,iw=37819,rw=37820,sw=37821,bg=36492,RI=36283,ow=36284,aw=36285,lw=36286,II=2200,LI=2201,DI=2202,yc=2300,Rl=2301,Cg=2302,hl=2400,fl=2401,Gf=2402,ty=2500,cM=2501,J4=0,FI=1,hM=2,ho=3e3,Tt=3001,kI=3200,OI=3201,go=0,NI=1,X4="",Ur="srgb",vc="srgb-linear",Y4=0,Eg=7680,K4=7681,Q4=7682,q4=7683,Z4=34055,$4=34056,e5=5386,t5=512,n5=513,i5=514,r5=515,s5=516,o5=517,a5=518,zI=519,Hf=35044,l5=35048,u5=35040,c5=35045,h5=35049,f5=35041,d5=35046,p5=35050,m5=35042,g5="100",uw="300 es",l0=1035;let Cs=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let VE=1234567;const wl=Math.PI/180,Vf=180/Math.PI;function Ki(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function bn(n,e,t){return Math.max(e,Math.min(t,n))}function fM(n,e){return(n%e+e)%e}function y5(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function v5(n,e,t){return n!==e?(t-n)/(e-n):0}function nf(n,e,t){return(1-t)*n+t*e}function x5(n,e,t,i){return nf(n,e,1-Math.exp(-t*i))}function _5(n,e=1){return e-Math.abs(fM(n,e*2)-e)}function w5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function A5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function M5(n,e){return n+Math.floor(Math.random()*(e-n+1))}function S5(n,e){return n+Math.random()*(e-n)}function b5(n){return n*(.5-Math.random())}function C5(n){n!==void 0&&(VE=n);let e=VE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function E5(n){return n*wl}function T5(n){return n*Vf}function cw(n){return(n&n-1)===0&&n!==0}function UI(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function u0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function P5(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),f=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":n.set(a*f,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*f,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*f,a*u);break;case"XZX":n.set(a*f,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*f,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function eo(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var GI=Object.freeze({__proto__:null,DEG2RAD:wl,RAD2DEG:Vf,ceilPowerOfTwo:UI,clamp:bn,damp:x5,degToRad:E5,denormalize:eo,euclideanModulo:fM,floorPowerOfTwo:u0,generateUUID:Ki,inverseLerp:v5,isPowerOfTwo:cw,lerp:nf,mapLinear:y5,normalize:jt,pingpong:_5,radToDeg:T5,randFloat:S5,randFloatSpread:b5,randInt:M5,seededRandom:C5,setQuaternionFromProperEuler:P5,smootherstep:A5,smoothstep:w5});class ge{constructor(e=0,t=0){ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vi{constructor(){vi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=i,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],f=i[4],d=i[7],p=i[2],m=i[5],g=i[8],v=r[0],x=r[3],w=r[6],_=r[1],A=r[4],S=r[7],E=r[2],P=r[5],R=r[8];return s[0]=o*v+a*_+l*E,s[3]=o*x+a*A+l*P,s[6]=o*w+a*S+l*R,s[1]=u*v+f*_+d*E,s[4]=u*x+f*A+d*P,s[7]=u*w+f*S+d*R,s[2]=p*v+m*_+g*E,s[5]=p*x+m*A+g*P,s[8]=p*w+m*S+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return t*o*f-t*a*u-i*s*f+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,m=u*s-o*l,g=t*d+i*p+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(r*u-f*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(f*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=m*v,e[7]=(i*l-u*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(dx.makeScale(e,t)),this}rotate(e){return this.premultiply(dx.makeRotation(-e)),this}translate(e,t){return this.premultiply(dx.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const dx=new vi;function HI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const B5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Uu(n,e){return new B5[n](e)}function Wf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Al(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Tg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const px={[Ur]:{[vc]:Al},[vc]:{[Ur]:Tg}},oi={legacyMode:!0,get workingColorSpace(){return vc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(px[e]&&px[e][t]!==void 0){const i=px[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},VI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ln={r:0,g:0,b:0},Fr={h:0,s:0,l:0},hm={h:0,s:0,l:0};function mx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function fm(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ie{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ur){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=oi.workingColorSpace){return this.r=e,this.g=t,this.b=i,oi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=oi.workingColorSpace){if(e=fM(e,1),t=bn(t,0,1),i=bn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=mx(o,s,e+1/3),this.g=mx(o,s,e),this.b=mx(o,s,e-1/3)}return oi.toWorkingColorSpace(this,r),this}setStyle(e,t=Ur){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,oi.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,oi.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,u,f,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,oi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,oi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ur){const i=VI[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Al(e.r),this.g=Al(e.g),this.b=Al(e.b),this}copyLinearToSRGB(e){return this.r=Tg(e.r),this.g=Tg(e.g),this.b=Tg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ur){return oi.fromWorkingColorSpace(fm(this,Ln),e),bn(Ln.r*255,0,255)<<16^bn(Ln.g*255,0,255)<<8^bn(Ln.b*255,0,255)<<0}getHexString(e=Ur){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.fromWorkingColorSpace(fm(this,Ln),t);const i=Ln.r,r=Ln.g,s=Ln.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,t=oi.workingColorSpace){return oi.fromWorkingColorSpace(fm(this,Ln),t),e.r=Ln.r,e.g=Ln.g,e.b=Ln.b,e}getStyle(e=Ur){return oi.fromWorkingColorSpace(fm(this,Ln),e),e!==Ur?`color(${e} ${Ln.r} ${Ln.g} ${Ln.b})`:`rgb(${Ln.r*255|0},${Ln.g*255|0},${Ln.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Fr),Fr.h+=e,Fr.s+=t,Fr.l+=i,this.setHSL(Fr.h,Fr.s,Fr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Fr),e.getHSL(hm);const i=nf(Fr.h,hm.h,t),r=nf(Fr.s,hm.s,t),s=nf(Fr.l,hm.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ie.NAMES=VI;let ou;class dM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ou===void 0&&(ou=Wf("canvas")),ou.width=e.width,ou.height=e.height;const i=ou.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=ou}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Wf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Al(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Al(t[i]/255)*255):t[i]=Al(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class dl{constructor(e=null){this.isSource=!0,this.uuid=Ki(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(gx(r[o].image)):s.push(gx(r[o]))}else s=gx(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function gx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?dM.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let R5=0;class sn extends Cs{constructor(e=sn.DEFAULT_IMAGE,t=sn.DEFAULT_MAPPING,i=Kn,r=Kn,s=un,o=Ms,a=Ri,l=co,u=sn.DEFAULT_ANISOTROPY,f=ho){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:R5++}),this.uuid=Ki(),this.name="",this.source=new dl(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ma:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case mc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ma:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case mc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}sn.DEFAULT_IMAGE=null;sn.DEFAULT_MAPPING=$0;sn.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,r=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],m=l[5],g=l[9],v=l[2],x=l[6],w=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-v)<.01&&Math.abs(g-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+v)<.1&&Math.abs(g+x)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,S=(m+1)/2,E=(w+1)/2,P=(f+p)/4,R=(d+v)/4,C=(g+x)/4;return A>S&&A>E?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=P/i,s=R/i):S>E?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=P/r,s=C/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=R/s,r=C/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-g)*(x-g)+(d-v)*(d-v)+(p-f)*(p-f));return Math.abs(_)<.001&&(_=1),this.x=(x-g)/_,this.y=(d-v)/_,this.z=(p-f)/_,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $r extends Cs{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new sn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:un,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new dl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ny extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class I5 extends $r{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new ny(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class pM extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class L5 extends $r{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new pM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class D5 extends $r{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class qn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],f=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==p||u!==m||f!==g){let x=1-a;const w=l*p+u*m+f*g+d*v,_=w>=0?1:-1,A=1-w*w;if(A>Number.EPSILON){const E=Math.sqrt(A),P=Math.atan2(E,w*_);x=Math.sin(x*P)/E,a=Math.sin(a*P)/E}const S=a*_;if(l=l*x+p*S,u=u*x+m*S,f=f*x+g*S,d=d*x+v*S,x===1-a){const E=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=E,u*=E,f*=E,d*=E}}e[t]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],f=i[r+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+f*d+l*m-u*p,e[t+1]=l*g+f*p+u*d-a*m,e[t+2]=u*g+f*m+a*p-l*d,e[t+3]=f*g-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),f=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d-p*m*g;break;case"YXZ":this._x=p*f*d+u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d+p*m*g;break;case"ZXY":this._x=p*f*d-u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d-p*m*g;break;case"ZYX":this._x=p*f*d-u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d+p*m*g;break;case"YZX":this._x=p*f*d+u*m*g,this._y=u*m*d+p*f*g,this._z=u*f*g-p*m*d,this._w=u*f*d-p*m*g;break;case"XZY":this._x=p*f*d-u*m*g,this._y=u*m*d-p*f*g,this._z=u*f*g+p*m*d,this._w=u*f*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],f=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,f=t._w;return this._x=i*f+o*a+r*u-s*l,this._y=r*f+o*l+s*a-i*u,this._z=s*f+o*u+i*l-r*a,this._w=o*f-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-t)*f)/u,p=Math.sin(t*f)/u;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(WE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(WE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,f=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+f*-a-d*-o,this.y=f*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return yx.copy(this).projectOnVector(e),this.sub(yx)}reflect(e){return this.sub(yx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(bn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const yx=new F,WE=new qn;class Sa{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const f=e[l],d=e[l+1],p=e[l+2];f<t&&(t=f),d<i&&(i=d),p<r&&(r=p),f>s&&(s=f),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const f=e.getX(l),d=e.getY(l),p=e.getZ(l);f<t&&(t=f),d<i&&(i=d),p<r&&(r=p),f>s&&(s=f),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=za.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)za.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(za)}else i.boundingBox===null&&i.computeBoundingBox(),vx.copy(i.boundingBox),vx.applyMatrix4(e.matrixWorld),this.union(vx);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,za),za.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ph),dm.subVectors(this.max,ph),au.subVectors(e.a,ph),lu.subVectors(e.b,ph),uu.subVectors(e.c,ph),To.subVectors(lu,au),Po.subVectors(uu,lu),Ua.subVectors(au,uu);let t=[0,-To.z,To.y,0,-Po.z,Po.y,0,-Ua.z,Ua.y,To.z,0,-To.x,Po.z,0,-Po.x,Ua.z,0,-Ua.x,-To.y,To.x,0,-Po.y,Po.x,0,-Ua.y,Ua.x,0];return!xx(t,au,lu,uu,dm)||(t=[1,0,0,0,1,0,0,0,1],!xx(t,au,lu,uu,dm))?!1:(pm.crossVectors(To,Po),t=[pm.x,pm.y,pm.z],xx(t,au,lu,uu,dm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return za.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(za).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Os[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Os[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Os[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Os[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Os[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Os[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Os[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Os[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Os),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Os=[new F,new F,new F,new F,new F,new F,new F,new F],za=new F,vx=new Sa,au=new F,lu=new F,uu=new F,To=new F,Po=new F,Ua=new F,ph=new F,dm=new F,pm=new F,Ga=new F;function xx(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ga.fromArray(n,s);const a=r.x*Math.abs(Ga.x)+r.y*Math.abs(Ga.y)+r.z*Math.abs(Ga.z),l=e.dot(Ga),u=t.dot(Ga),f=i.dot(Ga);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const F5=new Sa,mh=new F,_x=new F;class ba{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):F5.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mh.subVectors(e,this.center);const t=mh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(mh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_x.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mh.copy(e.center).add(_x)),this.expandByPoint(mh.copy(e.center).sub(_x))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ns=new F,wx=new F,mm=new F,Bo=new F,Ax=new F,gm=new F,Mx=new F;class vd{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ns)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ns.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ns.copy(this.direction).multiplyScalar(t).add(this.origin),Ns.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){wx.copy(e).add(t).multiplyScalar(.5),mm.copy(t).sub(e).normalize(),Bo.copy(this.origin).sub(wx);const s=e.distanceTo(t)*.5,o=-this.direction.dot(mm),a=Bo.dot(this.direction),l=-Bo.dot(mm),u=Bo.lengthSq(),f=Math.abs(1-o*o);let d,p,m,g;if(f>0)if(d=o*l-a,p=o*a-l,g=s*f,d>=0)if(p>=-g)if(p<=g){const v=1/f;d*=v,p*=v,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(mm).multiplyScalar(p).add(wx),m}intersectSphere(e,t){Ns.subVectors(e.center,this.origin);const i=Ns.dot(this.direction),r=Ns.dot(Ns)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ns)!==null}intersectTriangle(e,t,i,r,s){Ax.subVectors(t,e),gm.subVectors(i,e),Mx.crossVectors(Ax,gm);let o=this.direction.dot(Mx),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Bo.subVectors(this.origin,e);const l=a*this.direction.dot(gm.crossVectors(Bo,gm));if(l<0)return null;const u=a*this.direction.dot(Ax.cross(Bo));if(u<0||l+u>o)return null;const f=-a*Bo.dot(Mx);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ot{constructor(){ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,u,f,d,p,m,g,v,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=r,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=f,w[10]=d,w[14]=p,w[3]=m,w[7]=g,w[11]=v,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ot().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/cu.setFromMatrixColumn(e,0).length(),s=1/cu.setFromMatrixColumn(e,1).length(),o=1/cu.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*d,g=a*f,v=a*d;t[0]=l*f,t[4]=-l*d,t[8]=u,t[1]=m+g*u,t[5]=p-v*u,t[9]=-a*l,t[2]=v-p*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,g=u*f,v=u*d;t[0]=p+v*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*d,t[5]=o*f,t[9]=-a,t[2]=m*a-g,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,g=u*f,v=u*d;t[0]=p-v*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*f,t[9]=v-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*d,g=a*f,v=a*d;t[0]=l*f,t[4]=g*u-m,t[8]=p*u+v,t[1]=l*d,t[5]=v*u+p,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=v-p*d,t[8]=g*d+m,t[1]=d,t[5]=o*f,t[9]=-a*f,t[2]=-u*f,t[6]=m*d+g,t[10]=p-v*d}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=-d,t[8]=u*f,t[1]=p*d+v,t[5]=o*f,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*f,t[10]=v*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(k5,e,O5)}lookAt(e,t,i){const r=this.elements;return Hi.subVectors(e,t),Hi.lengthSq()===0&&(Hi.z=1),Hi.normalize(),Ro.crossVectors(i,Hi),Ro.lengthSq()===0&&(Math.abs(i.z)===1?Hi.x+=1e-4:Hi.z+=1e-4,Hi.normalize(),Ro.crossVectors(i,Hi)),Ro.normalize(),ym.crossVectors(Hi,Ro),r[0]=Ro.x,r[4]=ym.x,r[8]=Hi.x,r[1]=Ro.y,r[5]=ym.y,r[9]=Hi.y,r[2]=Ro.z,r[6]=ym.z,r[10]=Hi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],f=i[1],d=i[5],p=i[9],m=i[13],g=i[2],v=i[6],x=i[10],w=i[14],_=i[3],A=i[7],S=i[11],E=i[15],P=r[0],R=r[4],C=r[8],B=r[12],D=r[1],O=r[5],Y=r[9],W=r[13],j=r[2],X=r[6],ee=r[10],ne=r[14],I=r[3],U=r[7],G=r[11],$=r[15];return s[0]=o*P+a*D+l*j+u*I,s[4]=o*R+a*O+l*X+u*U,s[8]=o*C+a*Y+l*ee+u*G,s[12]=o*B+a*W+l*ne+u*$,s[1]=f*P+d*D+p*j+m*I,s[5]=f*R+d*O+p*X+m*U,s[9]=f*C+d*Y+p*ee+m*G,s[13]=f*B+d*W+p*ne+m*$,s[2]=g*P+v*D+x*j+w*I,s[6]=g*R+v*O+x*X+w*U,s[10]=g*C+v*Y+x*ee+w*G,s[14]=g*B+v*W+x*ne+w*$,s[3]=_*P+A*D+S*j+E*I,s[7]=_*R+A*O+S*X+E*U,s[11]=_*C+A*Y+S*ee+E*G,s[15]=_*B+A*W+S*ne+E*$,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],m=e[14],g=e[3],v=e[7],x=e[11],w=e[15];return g*(+s*l*d-r*u*d-s*a*p+i*u*p+r*a*m-i*l*m)+v*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*f-s*l*f)+x*(+t*u*d-t*a*m-s*o*d+i*o*m+s*a*f-i*u*f)+w*(-r*a*f-t*l*d+t*a*p+r*o*d-i*o*p+i*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],m=e[11],g=e[12],v=e[13],x=e[14],w=e[15],_=d*x*u-v*p*u+v*l*m-a*x*m-d*l*w+a*p*w,A=g*p*u-f*x*u-g*l*m+o*x*m+f*l*w-o*p*w,S=f*v*u-g*d*u+g*a*m-o*v*m-f*a*w+o*d*w,E=g*d*l-f*v*l-g*a*p+o*v*p+f*a*x-o*d*x,P=t*_+i*A+r*S+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(v*p*s-d*x*s-v*r*m+i*x*m+d*r*w-i*p*w)*R,e[2]=(a*x*s-v*l*s+v*r*u-i*x*u-a*r*w+i*l*w)*R,e[3]=(d*l*s-a*p*s-d*r*u+i*p*u+a*r*m-i*l*m)*R,e[4]=A*R,e[5]=(f*x*s-g*p*s+g*r*m-t*x*m-f*r*w+t*p*w)*R,e[6]=(g*l*s-o*x*s-g*r*u+t*x*u+o*r*w-t*l*w)*R,e[7]=(o*p*s-f*l*s+f*r*u-t*p*u-o*r*m+t*l*m)*R,e[8]=S*R,e[9]=(g*d*s-f*v*s-g*i*m+t*v*m+f*i*w-t*d*w)*R,e[10]=(o*v*s-g*a*s+g*i*u-t*v*u-o*i*w+t*a*w)*R,e[11]=(f*a*s-o*d*s-f*i*u+t*d*u+o*i*m-t*a*m)*R,e[12]=E*R,e[13]=(f*v*r-g*d*r+g*i*p-t*v*p-f*i*x+t*d*x)*R,e[14]=(g*a*r-o*v*r-g*i*l+t*v*l+o*i*x-t*a*x)*R,e[15]=(o*d*r-f*a*r+f*i*l-t*d*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,f*a+i,f*l-r*o,0,u*l-r*a,f*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,f=o+o,d=a+a,p=s*u,m=s*f,g=s*d,v=o*f,x=o*d,w=a*d,_=l*u,A=l*f,S=l*d,E=i.x,P=i.y,R=i.z;return r[0]=(1-(v+w))*E,r[1]=(m+S)*E,r[2]=(g-A)*E,r[3]=0,r[4]=(m-S)*P,r[5]=(1-(p+w))*P,r[6]=(x+_)*P,r[7]=0,r[8]=(g+A)*R,r[9]=(x-_)*R,r[10]=(1-(p+v))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=cu.set(r[0],r[1],r[2]).length();const o=cu.set(r[4],r[5],r[6]).length(),a=cu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],kr.copy(this);const u=1/s,f=1/o,d=1/a;return kr.elements[0]*=u,kr.elements[1]*=u,kr.elements[2]*=u,kr.elements[4]*=f,kr.elements[5]*=f,kr.elements[6]*=f,kr.elements[8]*=d,kr.elements[9]*=d,kr.elements[10]*=d,t.setFromRotationMatrix(kr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),u=1/(i-r),f=1/(o-s),d=(t+e)*l,p=(i+r)*u,m=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const cu=new F,kr=new ot,k5=new F(0,0,0),O5=new F(1,1,1),Ro=new F,ym=new F,Hi=new F,jE=new ot,JE=new qn;class xd{constructor(e=0,t=0,i=0,r=xd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],f=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(bn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-bn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return jE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jE,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return JE.setFromEuler(this),this.setFromQuaternion(JE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xd.DEFAULT_ORDER="XYZ";class Ml{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let N5=0;const XE=new F,hu=new qn,zs=new ot,vm=new F,gh=new F,z5=new F,U5=new qn,YE=new F(1,0,0),KE=new F(0,1,0),QE=new F(0,0,1),G5={type:"added"},qE={type:"removed"};class Lt extends Cs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N5++}),this.uuid=Ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new F,t=new xd,i=new qn,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ot},normalMatrix:{value:new vi}}),this.matrix=new ot,this.matrixWorld=new ot,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ml,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return hu.setFromAxisAngle(e,t),this.quaternion.multiply(hu),this}rotateOnWorldAxis(e,t){return hu.setFromAxisAngle(e,t),this.quaternion.premultiply(hu),this}rotateX(e){return this.rotateOnAxis(YE,e)}rotateY(e){return this.rotateOnAxis(KE,e)}rotateZ(e){return this.rotateOnAxis(QE,e)}translateOnAxis(e,t){return XE.copy(e).applyQuaternion(this.quaternion),this.position.add(XE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(YE,e)}translateY(e){return this.translateOnAxis(KE,e)}translateZ(e){return this.translateOnAxis(QE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?vm.copy(e):vm.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),gh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zs.lookAt(gh,vm,this.up):zs.lookAt(vm,gh,this.up),this.quaternion.setFromRotationMatrix(zs),r&&(zs.extractRotation(r.matrixWorld),hu.setFromRotationMatrix(zs),this.quaternion.premultiply(hu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(G5)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(qE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(qE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),zs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zs.multiply(e.parent.matrixWorld)),e.applyMatrix4(zs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,e,z5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,U5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),f.length>0&&(i.images=f),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Lt.DEFAULT_UP=new F(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Or=new F,Us=new F,Sx=new F,Gs=new F,fu=new F,du=new F,ZE=new F,bx=new F,Cx=new F,Ex=new F;class Mr{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Or.subVectors(e,t),r.cross(Or);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Or.subVectors(r,t),Us.subVectors(i,t),Sx.subVectors(e,t);const o=Or.dot(Or),a=Or.dot(Us),l=Or.dot(Sx),u=Us.dot(Us),f=Us.dot(Sx),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*f)*p,g=(o*f-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Gs),Gs.x>=0&&Gs.y>=0&&Gs.x+Gs.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Gs),l.set(0,0),l.addScaledVector(s,Gs.x),l.addScaledVector(o,Gs.y),l.addScaledVector(a,Gs.z),l}static isFrontFacing(e,t,i,r){return Or.subVectors(i,t),Us.subVectors(e,t),Or.cross(Us).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Or.subVectors(this.c,this.b),Us.subVectors(this.a,this.b),Or.cross(Us).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Mr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Mr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Mr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;fu.subVectors(r,i),du.subVectors(s,i),bx.subVectors(e,i);const l=fu.dot(bx),u=du.dot(bx);if(l<=0&&u<=0)return t.copy(i);Cx.subVectors(e,r);const f=fu.dot(Cx),d=du.dot(Cx);if(f>=0&&d<=f)return t.copy(r);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(i).addScaledVector(fu,o);Ex.subVectors(e,s);const m=fu.dot(Ex),g=du.dot(Ex);if(g>=0&&m<=g)return t.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(i).addScaledVector(du,a);const x=f*g-m*d;if(x<=0&&d-f>=0&&m-g>=0)return ZE.subVectors(s,r),a=(d-f)/(d-f+(m-g)),t.copy(r).addScaledVector(ZE,a);const w=1/(x+v+p);return o=v*w,a=p*w,t.copy(i).addScaledVector(fu,o).addScaledVector(du,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let H5=0;class Rn extends Cs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:H5++}),this.uuid=Ki(),this.name="",this.type="Material",this.blending=xl,this.side=As,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=oM,this.blendDst=aM,this.blendEquation=il,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=a0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Eg,this.stencilZFail=Eg,this.stencilZPass=Eg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==xl&&(i.blending=this.blending),this.side!==As&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xi extends Rn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Tn=new F,xm=new ge;class Ot{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Hf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)xm.fromBufferAttribute(this,t),xm.applyMatrix3(e),this.setXY(t,xm.x,xm.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Tn.fromBufferAttribute(this,t),Tn.applyMatrix3(e),this.setXYZ(t,Tn.x,Tn.y,Tn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Tn.fromBufferAttribute(this,t),Tn.applyMatrix4(e),this.setXYZ(t,Tn.x,Tn.y,Tn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Tn.fromBufferAttribute(this,t),Tn.applyNormalMatrix(e),this.setXYZ(t,Tn.x,Tn.y,Tn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Tn.fromBufferAttribute(this,t),Tn.transformDirection(e),this.setXYZ(t,Tn.x,Tn.y,Tn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=eo(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=eo(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=eo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=eo(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class V5 extends Ot{constructor(e,t,i){super(new Int8Array(e),t,i)}}class W5 extends Ot{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class j5 extends Ot{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class J5 extends Ot{constructor(e,t,i){super(new Int16Array(e),t,i)}}class mM extends Ot{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class X5 extends Ot{constructor(e,t,i){super(new Int32Array(e),t,i)}}class gM extends Ot{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Y5 extends Ot{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Xe extends Ot{constructor(e,t,i){super(new Float32Array(e),t,i)}}class K5 extends Ot{constructor(e,t,i){super(new Float64Array(e),t,i)}}let Q5=0;const mr=new ot,Tx=new Lt,pu=new F,Vi=new Sa,yh=new Sa,Vn=new F;class ft extends Cs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Q5++}),this.uuid=Ki(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(HI(e)?gM:mM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new vi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return mr.makeRotationFromQuaternion(e),this.applyMatrix4(mr),this}rotateX(e){return mr.makeRotationX(e),this.applyMatrix4(mr),this}rotateY(e){return mr.makeRotationY(e),this.applyMatrix4(mr),this}rotateZ(e){return mr.makeRotationZ(e),this.applyMatrix4(mr),this}translate(e,t,i){return mr.makeTranslation(e,t,i),this.applyMatrix4(mr),this}scale(e,t,i){return mr.makeScale(e,t,i),this.applyMatrix4(mr),this}lookAt(e){return Tx.lookAt(e),Tx.updateMatrix(),this.applyMatrix4(Tx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pu).negate(),this.translate(pu.x,pu.y,pu.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Vi.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ba);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];yh.setFromBufferAttribute(a),this.morphTargetsRelative?(Vn.addVectors(Vi.min,yh.min),Vi.expandByPoint(Vn),Vn.addVectors(Vi.max,yh.max),Vi.expandByPoint(Vn)):(Vi.expandByPoint(yh.min),Vi.expandByPoint(yh.max))}Vi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Vn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)Vn.fromBufferAttribute(a,u),l&&(pu.fromBufferAttribute(e,u),Vn.add(pu)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ot(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let D=0;D<a;D++)u[D]=new F,f[D]=new F;const d=new F,p=new F,m=new F,g=new ge,v=new ge,x=new ge,w=new F,_=new F;function A(D,O,Y){d.fromArray(r,D*3),p.fromArray(r,O*3),m.fromArray(r,Y*3),g.fromArray(o,D*2),v.fromArray(o,O*2),x.fromArray(o,Y*2),p.sub(d),m.sub(d),v.sub(g),x.sub(g);const W=1/(v.x*x.y-x.x*v.y);isFinite(W)&&(w.copy(p).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(W),_.copy(m).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(W),u[D].add(w),u[O].add(w),u[Y].add(w),f[D].add(_),f[O].add(_),f[Y].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let D=0,O=S.length;D<O;++D){const Y=S[D],W=Y.start,j=Y.count;for(let X=W,ee=W+j;X<ee;X+=3)A(i[X+0],i[X+1],i[X+2])}const E=new F,P=new F,R=new F,C=new F;function B(D){R.fromArray(s,D*3),C.copy(R);const O=u[D];E.copy(O),E.sub(R.multiplyScalar(R.dot(O))).normalize(),P.crossVectors(C,O);const W=P.dot(f[D])<0?-1:1;l[D*4]=E.x,l[D*4+1]=E.y,l[D*4+2]=E.z,l[D*4+3]=W}for(let D=0,O=S.length;D<O;++D){const Y=S[D],W=Y.start,j=Y.count;for(let X=W,ee=W+j;X<ee;X+=3)B(i[X+0]),B(i[X+1]),B(i[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ot(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,u=new F,f=new F,d=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),v=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,v),u.fromBufferAttribute(i,x),a.add(f),l.add(f),u.add(f),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vn.fromBufferAttribute(e,t),Vn.normalize(),e.setXYZ(t,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let m=0,g=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*f;for(let w=0;w<f;w++)p[g++]=u[m++]}return new Ot(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const f=r[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const $E=new ot,mu=new vd,Px=new ba,vh=new F,xh=new F,_h=new F,Bx=new F,_m=new F,wm=new ge,Am=new ge,Mm=new ge,Rx=new F,Sm=new F;class jn extends Lt{constructor(e=new ft,t=new Xi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){_m.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],d=s[l];f!==0&&(Bx.fromBufferAttribute(d,e),o?_m.addScaledVector(Bx,f):_m.addScaledVector(Bx.sub(t),f))}t.add(_m)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Px.copy(i.boundingSphere),Px.applyMatrix4(s),e.ray.intersectsSphere(Px)===!1)||($E.copy(s).invert(),mu.copy(e.ray).applyMatrix4($E),i.boundingBox!==null&&mu.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,u=i.attributes.uv,f=i.attributes.uv2,d=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,g=d.length;m<g;m++){const v=d[m],x=r[v.materialIndex],w=Math.max(v.start,p.start),_=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let A=w,S=_;A<S;A+=3){const E=a.getX(A),P=a.getX(A+1),R=a.getX(A+2);o=bm(this,x,e,mu,u,f,E,P,R),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),g=Math.min(a.count,p.start+p.count);for(let v=m,x=g;v<x;v+=3){const w=a.getX(v),_=a.getX(v+1),A=a.getX(v+2);o=bm(this,r,e,mu,u,f,w,_,A),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,g=d.length;m<g;m++){const v=d[m],x=r[v.materialIndex],w=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let A=w,S=_;A<S;A+=3){const E=A,P=A+1,R=A+2;o=bm(this,x,e,mu,u,f,E,P,R),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let v=m,x=g;v<x;v+=3){const w=v,_=v+1,A=v+2;o=bm(this,r,e,mu,u,f,w,_,A),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function q5(n,e,t,i,r,s,o,a){let l;if(e.side===ki?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===As,a),l===null)return null;Sm.copy(a),Sm.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Sm);return u<t.near||u>t.far?null:{distance:u,point:Sm.clone(),object:n}}function bm(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,vh),n.getVertexPosition(a,xh),n.getVertexPosition(l,_h);const u=q5(n,e,t,i,vh,xh,_h,Rx);if(u){r&&(wm.fromBufferAttribute(r,o),Am.fromBufferAttribute(r,a),Mm.fromBufferAttribute(r,l),u.uv=Mr.getUV(Rx,vh,xh,_h,wm,Am,Mm,new ge)),s&&(wm.fromBufferAttribute(s,o),Am.fromBufferAttribute(s,a),Mm.fromBufferAttribute(s,l),u.uv2=Mr.getUV(Rx,vh,xh,_h,wm,Am,Mm,new ge));const f={a:o,b:a,c:l,normal:new F,materialIndex:0};Mr.getNormal(vh,xh,_h,f.normal),u.face=f}return u}class Ca extends ft{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(d,2));function g(v,x,w,_,A,S,E,P,R,C,B){const D=S/R,O=E/C,Y=S/2,W=E/2,j=P/2,X=R+1,ee=C+1;let ne=0,I=0;const U=new F;for(let G=0;G<ee;G++){const $=G*O-W;for(let V=0;V<X;V++){const se=V*D-Y;U[v]=se*_,U[x]=$*A,U[w]=j,u.push(U.x,U.y,U.z),U[v]=0,U[x]=0,U[w]=P>0?1:-1,f.push(U.x,U.y,U.z),d.push(V/R),d.push(1-G/C),ne+=1}}for(let G=0;G<C;G++)for(let $=0;$<R;$++){const V=p+$+X*G,se=p+$+X*(G+1),he=p+($+1)+X*(G+1),xe=p+($+1)+X*G;l.push(V,se,xe),l.push(se,he,xe),I+=6}a.addGroup(m,I,B),m+=I,p+=ne}}static fromJSON(e){return new Ca(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function mi(n){const e={};for(let t=0;t<n.length;t++){const i=xc(n[t]);for(const r in i)e[r]=i[r]}return e}function Z5(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function WI(n){return n.getRenderTarget()===null&&n.outputEncoding===Tt?Ur:vc}const jI={clone:xc,merge:mi};var $5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eU=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ss extends Rn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$5,this.fragmentShader=eU,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xc(e.uniforms),this.uniformsGroups=Z5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class _d extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ot,this.projectionMatrix=new ot,this.projectionMatrixInverse=new ot}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Jt extends _d{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Vf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(wl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vf*2*Math.atan(Math.tan(wl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(wl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const gu=-90,yu=1;class JI extends Lt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Jt(gu,yu,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Jt(gu,yu,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Jt(gu,yu,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Jt(gu,yu,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Jt(gu,yu,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Jt(gu,yu,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,u]=this.children,f=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Kr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(f),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class wd extends sn{constructor(e,t,i,r,s,o,a,l,u,f){e=e!==void 0?e:[],t=t!==void 0?t:da,super(e,t,i,r,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class XI extends $r{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new wd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:un}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ca(5,5,5),s=new Ss({name:"CubemapFromEquirect",uniforms:xc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ki,blending:ro});s.uniforms.tEquirect.value=t;const o=new jn(r,s),a=t.minFilter;return t.minFilter===Ms&&(t.minFilter=un),new JI(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Ix=new F,tU=new F,nU=new vi;class Uo{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Ix.subVectors(i,t).cross(tU.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Ix),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||nU.getNormalMatrix(e),r=this.coplanarPoint(Ix).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vu=new ba,Cm=new F;class iy{constructor(e=new Uo,t=new Uo,i=new Uo,r=new Uo,s=new Uo,o=new Uo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],f=i[6],d=i[7],p=i[8],m=i[9],g=i[10],v=i[11],x=i[12],w=i[13],_=i[14],A=i[15];return t[0].setComponents(a-r,d-l,v-p,A-x).normalize(),t[1].setComponents(a+r,d+l,v+p,A+x).normalize(),t[2].setComponents(a+s,d+u,v+m,A+w).normalize(),t[3].setComponents(a-s,d-u,v-m,A-w).normalize(),t[4].setComponents(a-o,d-f,v-g,A-_).normalize(),t[5].setComponents(a+o,d+f,v+g,A+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),vu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vu)}intersectsSprite(e){return vu.center.set(0,0,0),vu.radius=.7071067811865476,vu.applyMatrix4(e.matrixWorld),this.intersectsSphere(vu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Cm.x=r.normal.x>0?e.max.x:e.min.x,Cm.y=r.normal.y>0?e.max.y:e.min.y,Cm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function YI(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function iU(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,f){const d=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(f,m),n.bufferData(f,d,p),u.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,d){const p=f.array,m=f.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f&&(n.deleteBuffer(f.buffer),i.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,f)):d.version<u.version&&(s(d.buffer,u,f),d.version=u.version)}return{get:o,remove:a,update:l}}class Lc extends ft{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,f=l+1,d=e/a,p=t/l,m=[],g=[],v=[],x=[];for(let w=0;w<f;w++){const _=w*p-o;for(let A=0;A<u;A++){const S=A*d-s;g.push(S,-_,0),v.push(0,0,1),x.push(A/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let _=0;_<a;_++){const A=_+u*w,S=_+u*(w+1),E=_+1+u*(w+1),P=_+1+u*w;m.push(A,S,P),m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new Xe(g,3)),this.setAttribute("normal",new Xe(v,3)),this.setAttribute("uv",new Xe(x,2))}static fromJSON(e){return new Lc(e.width,e.height,e.widthSegments,e.heightSegments)}}var rU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,sU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oU=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,aU=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cU="vec3 transformed = vec3( position );",hU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fU=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,dU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,gU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_U=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,AU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,MU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,SU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,CU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,TU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,BU="gl_FragColor = linearToOutputTexel( gl_FragColor );",RU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,IU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,LU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,DU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,FU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,OU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,NU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,GU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,VU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,JU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,YU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,QU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ZU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,$U=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,eG=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,iG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,oG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,aG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,mG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,gG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,yG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,vG=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_G=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,AG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,MG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,SG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,bG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,CG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,TG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,PG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,RG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,IG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,LG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,DG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,FG=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,kG=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,NG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,GG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,WG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,JG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,XG=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,YG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,KG=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,QG=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,qG=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,ZG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,$G=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,e9=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,t9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const n9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,i9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,r9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,s9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,o9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,a9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,l9=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,u9=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,c9=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,h9=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,f9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,d9=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,p9=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m9=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,g9=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,y9=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,v9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,w9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,M9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,S9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,b9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,E9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,P9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,B9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,R9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I9=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,L9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,D9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,F9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:rU,alphamap_pars_fragment:sU,alphatest_fragment:oU,alphatest_pars_fragment:aU,aomap_fragment:lU,aomap_pars_fragment:uU,begin_vertex:cU,beginnormal_vertex:hU,bsdfs:fU,iridescence_fragment:dU,bumpmap_pars_fragment:pU,clipping_planes_fragment:mU,clipping_planes_pars_fragment:gU,clipping_planes_pars_vertex:yU,clipping_planes_vertex:vU,color_fragment:xU,color_pars_fragment:_U,color_pars_vertex:wU,color_vertex:AU,common:MU,cube_uv_reflection_fragment:SU,defaultnormal_vertex:bU,displacementmap_pars_vertex:CU,displacementmap_vertex:EU,emissivemap_fragment:TU,emissivemap_pars_fragment:PU,encodings_fragment:BU,encodings_pars_fragment:RU,envmap_fragment:IU,envmap_common_pars_fragment:LU,envmap_pars_fragment:DU,envmap_pars_vertex:FU,envmap_physical_pars_fragment:XU,envmap_vertex:kU,fog_vertex:OU,fog_pars_vertex:NU,fog_fragment:zU,fog_pars_fragment:UU,gradientmap_pars_fragment:GU,lightmap_fragment:HU,lightmap_pars_fragment:VU,lights_lambert_fragment:WU,lights_lambert_pars_fragment:jU,lights_pars_begin:JU,lights_toon_fragment:YU,lights_toon_pars_fragment:KU,lights_phong_fragment:QU,lights_phong_pars_fragment:qU,lights_physical_fragment:ZU,lights_physical_pars_fragment:$U,lights_fragment_begin:eG,lights_fragment_maps:tG,lights_fragment_end:nG,logdepthbuf_fragment:iG,logdepthbuf_pars_fragment:rG,logdepthbuf_pars_vertex:sG,logdepthbuf_vertex:oG,map_fragment:aG,map_pars_fragment:lG,map_particle_fragment:uG,map_particle_pars_fragment:cG,metalnessmap_fragment:hG,metalnessmap_pars_fragment:fG,morphcolor_vertex:dG,morphnormal_vertex:pG,morphtarget_pars_vertex:mG,morphtarget_vertex:gG,normal_fragment_begin:yG,normal_fragment_maps:vG,normal_pars_fragment:xG,normal_pars_vertex:_G,normal_vertex:wG,normalmap_pars_fragment:AG,clearcoat_normal_fragment_begin:MG,clearcoat_normal_fragment_maps:SG,clearcoat_pars_fragment:bG,iridescence_pars_fragment:CG,output_fragment:EG,packing:TG,premultiplied_alpha_fragment:PG,project_vertex:BG,dithering_fragment:RG,dithering_pars_fragment:IG,roughnessmap_fragment:LG,roughnessmap_pars_fragment:DG,shadowmap_pars_fragment:FG,shadowmap_pars_vertex:kG,shadowmap_vertex:OG,shadowmask_pars_fragment:NG,skinbase_vertex:zG,skinning_pars_vertex:UG,skinning_vertex:GG,skinnormal_vertex:HG,specularmap_fragment:VG,specularmap_pars_fragment:WG,tonemapping_fragment:jG,tonemapping_pars_fragment:JG,transmission_fragment:XG,transmission_pars_fragment:YG,uv_pars_fragment:KG,uv_pars_vertex:QG,uv_vertex:qG,uv2_pars_fragment:ZG,uv2_pars_vertex:$G,uv2_vertex:e9,worldpos_vertex:t9,background_vert:n9,background_frag:i9,backgroundCube_vert:r9,backgroundCube_frag:s9,cube_vert:o9,cube_frag:a9,depth_vert:l9,depth_frag:u9,distanceRGBA_vert:c9,distanceRGBA_frag:h9,equirect_vert:f9,equirect_frag:d9,linedashed_vert:p9,linedashed_frag:m9,meshbasic_vert:g9,meshbasic_frag:y9,meshlambert_vert:v9,meshlambert_frag:x9,meshmatcap_vert:_9,meshmatcap_frag:w9,meshnormal_vert:A9,meshnormal_frag:M9,meshphong_vert:S9,meshphong_frag:b9,meshphysical_vert:C9,meshphysical_frag:E9,meshtoon_vert:T9,meshtoon_frag:P9,points_vert:B9,points_frag:R9,shadow_vert:I9,shadow_frag:L9,sprite_vert:D9,sprite_frag:F9},Re={common:{diffuse:{value:new Ie(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi},uv2Transform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new Ie(16777215)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}}},Hr={basic:{uniforms:mi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:mi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Ie(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:mi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:mi([Re.common,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.roughnessmap,Re.metalnessmap,Re.fog,Re.lights,{emissive:{value:new Ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:mi([Re.common,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.gradientmap,Re.fog,Re.lights,{emissive:{value:new Ie(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:mi([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:mi([Re.points,Re.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:mi([Re.common,Re.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:mi([Re.common,Re.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:mi([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:mi([Re.sprite,Re.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:mi([Re.common,Re.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:mi([Re.lights,Re.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};Hr.physical={uniforms:mi([Hr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ge(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ie(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ie(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ie(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};const Em={r:0,b:0,g:0};function k9(n,e,t,i,r,s,o){const a=new Ie(0);let l=s===!0?0:1,u,f,d=null,p=0,m=null;function g(x,w){let _=!1,A=w.isScene===!0?w.background:null;A&&A.isTexture&&(A=(w.backgroundBlurriness>0?t:e).get(A));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(A=null),A===null?v(a,l):A&&A.isColor&&(v(A,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===Ic)?(f===void 0&&(f=new jn(new Ca(1,1,1),new Ss({name:"BackgroundCubeMaterial",uniforms:xc(Hr.backgroundCube.uniforms),vertexShader:Hr.backgroundCube.vertexShader,fragmentShader:Hr.backgroundCube.fragmentShader,side:ki,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,R,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=A,f.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.toneMapped=A.encoding!==Tt,(d!==A||p!==A.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,d=A,p=A.version,m=n.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new jn(new Lc(2,2),new Ss({name:"BackgroundMaterial",uniforms:xc(Hr.background.uniforms),vertexShader:Hr.background.vertexShader,fragmentShader:Hr.background.fragmentShader,side:As,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=A.encoding!==Tt,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=A,p=A.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function v(x,w){x.getRGB(Em,WI(n)),i.buffers.color.setClear(Em.r,Em.g,Em.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(x,w=1){a.set(x),l=w,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:g}}function O9(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let u=l,f=!1;function d(j,X,ee,ne,I){let U=!1;if(o){const G=v(ne,ee,X);u!==G&&(u=G,m(u.object)),U=w(j,ne,ee,I),U&&_(j,ne,ee,I)}else{const G=X.wireframe===!0;(u.geometry!==ne.id||u.program!==ee.id||u.wireframe!==G)&&(u.geometry=ne.id,u.program=ee.id,u.wireframe=G,U=!0)}I!==null&&t.update(I,34963),(U||f)&&(f=!1,C(j,X,ee,ne),I!==null&&n.bindBuffer(34963,t.get(I).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(j){return i.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function g(j){return i.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function v(j,X,ee){const ne=ee.wireframe===!0;let I=a[j.id];I===void 0&&(I={},a[j.id]=I);let U=I[X.id];U===void 0&&(U={},I[X.id]=U);let G=U[ne];return G===void 0&&(G=x(p()),U[ne]=G),G}function x(j){const X=[],ee=[],ne=[];for(let I=0;I<r;I++)X[I]=0,ee[I]=0,ne[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ee,attributeDivisors:ne,object:j,attributes:{},index:null}}function w(j,X,ee,ne){const I=u.attributes,U=X.attributes;let G=0;const $=ee.getAttributes();for(const V in $)if($[V].location>=0){const he=I[V];let xe=U[V];if(xe===void 0&&(V==="instanceMatrix"&&j.instanceMatrix&&(xe=j.instanceMatrix),V==="instanceColor"&&j.instanceColor&&(xe=j.instanceColor)),he===void 0||he.attribute!==xe||xe&&he.data!==xe.data)return!0;G++}return u.attributesNum!==G||u.index!==ne}function _(j,X,ee,ne){const I={},U=X.attributes;let G=0;const $=ee.getAttributes();for(const V in $)if($[V].location>=0){let he=U[V];he===void 0&&(V==="instanceMatrix"&&j.instanceMatrix&&(he=j.instanceMatrix),V==="instanceColor"&&j.instanceColor&&(he=j.instanceColor));const xe={};xe.attribute=he,he&&he.data&&(xe.data=he.data),I[V]=xe,G++}u.attributes=I,u.attributesNum=G,u.index=ne}function A(){const j=u.newAttributes;for(let X=0,ee=j.length;X<ee;X++)j[X]=0}function S(j){E(j,0)}function E(j,X){const ee=u.newAttributes,ne=u.enabledAttributes,I=u.attributeDivisors;ee[j]=1,ne[j]===0&&(n.enableVertexAttribArray(j),ne[j]=1),I[j]!==X&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,X),I[j]=X)}function P(){const j=u.newAttributes,X=u.enabledAttributes;for(let ee=0,ne=X.length;ee<ne;ee++)X[ee]!==j[ee]&&(n.disableVertexAttribArray(ee),X[ee]=0)}function R(j,X,ee,ne,I,U){i.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(j,X,ee,I,U):n.vertexAttribPointer(j,X,ee,ne,I,U)}function C(j,X,ee,ne){if(i.isWebGL2===!1&&(j.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const I=ne.attributes,U=ee.getAttributes(),G=X.defaultAttributeValues;for(const $ in U){const V=U[$];if(V.location>=0){let se=I[$];if(se===void 0&&($==="instanceMatrix"&&j.instanceMatrix&&(se=j.instanceMatrix),$==="instanceColor"&&j.instanceColor&&(se=j.instanceColor)),se!==void 0){const he=se.normalized,xe=se.itemSize,Z=t.get(se);if(Z===void 0)continue;const De=Z.buffer,ze=Z.type,We=Z.bytesPerElement;if(se.isInterleavedBufferAttribute){const Ae=se.data,Fe=Ae.stride,de=se.offset;if(Ae.isInstancedInterleavedBuffer){for(let ae=0;ae<V.locationSize;ae++)E(V.location+ae,Ae.meshPerAttribute);j.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let ae=0;ae<V.locationSize;ae++)S(V.location+ae);n.bindBuffer(34962,De);for(let ae=0;ae<V.locationSize;ae++)R(V.location+ae,xe/V.locationSize,ze,he,Fe*We,(de+xe/V.locationSize*ae)*We)}else{if(se.isInstancedBufferAttribute){for(let Ae=0;Ae<V.locationSize;Ae++)E(V.location+Ae,se.meshPerAttribute);j.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ae=0;Ae<V.locationSize;Ae++)S(V.location+Ae);n.bindBuffer(34962,De);for(let Ae=0;Ae<V.locationSize;Ae++)R(V.location+Ae,xe/V.locationSize,ze,he,xe*We,xe/V.locationSize*Ae*We)}}else if(G!==void 0){const he=G[$];if(he!==void 0)switch(he.length){case 2:n.vertexAttrib2fv(V.location,he);break;case 3:n.vertexAttrib3fv(V.location,he);break;case 4:n.vertexAttrib4fv(V.location,he);break;default:n.vertexAttrib1fv(V.location,he)}}}}P()}function B(){Y();for(const j in a){const X=a[j];for(const ee in X){const ne=X[ee];for(const I in ne)g(ne[I].object),delete ne[I];delete X[ee]}delete a[j]}}function D(j){if(a[j.id]===void 0)return;const X=a[j.id];for(const ee in X){const ne=X[ee];for(const I in ne)g(ne[I].object),delete ne[I];delete X[ee]}delete a[j.id]}function O(j){for(const X in a){const ee=a[X];if(ee[j.id]===void 0)continue;const ne=ee[j.id];for(const I in ne)g(ne[I].object),delete ne[I];delete ee[j.id]}}function Y(){W(),f=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Y,resetDefaultState:W,dispose:B,releaseStatesOfGeometry:D,releaseStatesOfProgram:O,initAttributes:A,enableAttribute:S,disableUnusedAttributes:P}}function N9(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,f,d),t.update(f,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function z9(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),w=n.getParameter(36348),_=n.getParameter(36349),A=p>0,S=o||e.has("OES_texture_float"),E=A&&S,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:_,vertexTextures:A,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:P}}function U9(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Uo,a=new vi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=f(d,p,0)},this.setState=function(d,p,m){const g=d.clippingPlanes,v=d.clipIntersection,x=d.clipShadows,w=n.get(d);if(!r||g===null||g.length===0||s&&!x)s?f(null):u();else{const _=s?0:i,A=_*4;let S=w.clippingState||null;l.value=S,S=f(g,p,A,m);for(let E=0;E!==A;++E)S[E]=t[E];w.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(d,p,m,g){const v=d!==null?d.length:0;let x=null;if(v!==0){if(x=l.value,g!==!0||x===null){const w=m+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<w)&&(x=new Float32Array(w));for(let A=0,S=m;A!==v;++A,S+=4)o.copy(d[A]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function G9(n){let e=new WeakMap;function t(o,a){return a===Nf?o.mapping=da:a===zf&&(o.mapping=pa),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Nf||a===zf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new XI(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Qr extends _d{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Gu=4,eT=[.125,.215,.35,.446,.526,.582],rl=20,Lx=new Qr,tT=new Ie;let Dx=null;const $a=(1+Math.sqrt(5))/2,xu=1/$a,nT=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,$a,xu),new F(0,$a,-xu),new F(xu,0,$a),new F(-xu,0,$a),new F($a,xu,0),new F(-$a,xu,0)];class hw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Dx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Dx),e.scissorTest=!1,Tm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===da||e.mapping===pa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Dx=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:un,minFilter:un,generateMipmaps:!1,type:gc,format:Ri,encoding:ho,depthBuffer:!1},r=iT(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iT(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=H9(s)),this._blurMaterial=V9(s,e,t)}return r}_compileMaterial(e){const t=new jn(this._lodPlanes[0],e);this._renderer.compile(t,Lx)}_sceneToCubeUV(e,t,i,r){const a=new Jt(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(tT),f.toneMapping=Kr,f.autoClear=!1;const m=new Xi({name:"PMREM.Background",side:ki,depthWrite:!1,depthTest:!1}),g=new jn(new Ca,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(tT),v=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):_===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const A=this._cubeSize;Tm(r,_*A,w>2?A:0,A,A),f.setRenderTarget(r),v&&f.render(g,a),f.render(e,a)}g.geometry.dispose(),g.material.dispose(),f.toneMapping=p,f.autoClear=d,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===da||e.mapping===pa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rT());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Tm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Lx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=nT[(r-1)%nT.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new jn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*rl-1),v=s/g,x=isFinite(s)?1+Math.floor(f*v):rl;x>rl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${rl}`);const w=[];let _=0;for(let R=0;R<rl;++R){const C=R/v,B=Math.exp(-C*C/2);w.push(B),R===0?_+=B:R<x&&(_+=2*B)}for(let R=0;R<w.length;R++)w[R]=w[R]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=g,p.mipInt.value=A-i;const S=this._sizeLods[r],E=3*S*(r>A-Gu?r-A+Gu:0),P=4*(this._cubeSize-S);Tm(t,E,P,3*S,2*S),l.setRenderTarget(t),l.render(d,Lx)}}function H9(n){const e=[],t=[],i=[];let r=n;const s=n-Gu+1+eT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Gu?l=eT[o-n+Gu-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,g=6,v=3,x=2,w=1,_=new Float32Array(v*g*m),A=new Float32Array(x*g*m),S=new Float32Array(w*g*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,C=P>2?0:-1,B=[R,C,0,R+2/3,C,0,R+2/3,C+1,0,R,C,0,R+2/3,C+1,0,R,C+1,0];_.set(B,v*g*P),A.set(p,x*g*P);const D=[P,P,P,P,P,P];S.set(D,w*g*P)}const E=new ft;E.setAttribute("position",new Ot(_,v)),E.setAttribute("uv",new Ot(A,x)),E.setAttribute("faceIndex",new Ot(S,w)),e.push(E),r>Gu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function iT(n,e,t){const i=new $r(n,e,t);return i.texture.mapping=Ic,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Tm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function V9(n,e,t){const i=new Float32Array(rl),r=new F(0,1,0);return new Ss({name:"SphericalGaussianBlur",defines:{n:rl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:yM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ro,depthTest:!1,depthWrite:!1})}function rT(){return new Ss({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:yM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ro,depthTest:!1,depthWrite:!1})}function sT(){return new Ss({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:yM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ro,depthTest:!1,depthWrite:!1})}function yM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function W9(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===Nf||l===zf,f=l===da||l===pa;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new hw(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||f&&d&&r(d)){t===null&&(t=new hw(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function j9(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function J9(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let x=0,w=v.length;x<w;x++)e.update(v[x],34962)}}function u(d){const p=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let A=0,S=_.length;A<S;A+=3){const E=_[A+0],P=_[A+1],R=_[A+2];p.push(E,P,P,R,R,E)}}else{const _=g.array;v=g.version;for(let A=0,S=_.length/3-1;A<S;A+=3){const E=A+0,P=A+1,R=A+2;p.push(E,P,P,R,R,E)}}const x=new(HI(p)?gM:mM)(p,1);x.version=v;const w=s.get(d);w&&e.remove(w),s.set(d,x)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function X9(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function f(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,g){if(g===0)return;let v,x;if(r)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=d}function Y9(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function K9(n,e){return n[0]-e[0]}function Q9(n,e){return Math.abs(e[1])-Math.abs(n[1])}function q9(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new zt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,d,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,x=v!==void 0?v.length:0;let w=s.get(f);if(w===void 0||w.count!==x){let ee=function(){j.dispose(),s.delete(f),f.removeEventListener("dispose",ee)};var g=ee;w!==void 0&&w.texture.dispose();const S=f.morphAttributes.position!==void 0,E=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,R=f.morphAttributes.position||[],C=f.morphAttributes.normal||[],B=f.morphAttributes.color||[];let D=0;S===!0&&(D=1),E===!0&&(D=2),P===!0&&(D=3);let O=f.attributes.position.count*D,Y=1;O>e.maxTextureSize&&(Y=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const W=new Float32Array(O*Y*4*x),j=new ny(W,O,Y,x);j.type=$s,j.needsUpdate=!0;const X=D*4;for(let ne=0;ne<x;ne++){const I=R[ne],U=C[ne],G=B[ne],$=O*Y*4*ne;for(let V=0;V<I.count;V++){const se=V*X;S===!0&&(o.fromBufferAttribute(I,V),W[$+se+0]=o.x,W[$+se+1]=o.y,W[$+se+2]=o.z,W[$+se+3]=0),E===!0&&(o.fromBufferAttribute(U,V),W[$+se+4]=o.x,W[$+se+5]=o.y,W[$+se+6]=o.z,W[$+se+7]=0),P===!0&&(o.fromBufferAttribute(G,V),W[$+se+8]=o.x,W[$+se+9]=o.y,W[$+se+10]=o.z,W[$+se+11]=G.itemSize===4?o.w:1)}}w={count:x,texture:j,size:new ge(O,Y)},s.set(f,w),f.addEventListener("dispose",ee)}let _=0;for(let S=0;S<m.length;S++)_+=m[S];const A=f.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",A),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",w.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",w.size)}else{const v=m===void 0?0:m.length;let x=i[f.id];if(x===void 0||x.length!==v){x=[];for(let E=0;E<v;E++)x[E]=[E,0];i[f.id]=x}for(let E=0;E<v;E++){const P=x[E];P[0]=E,P[1]=m[E]}x.sort(Q9);for(let E=0;E<8;E++)E<v&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(K9);const w=f.morphAttributes.position,_=f.morphAttributes.normal;let A=0;for(let E=0;E<8;E++){const P=a[E],R=P[0],C=P[1];R!==Number.MAX_SAFE_INTEGER&&C?(w&&f.getAttribute("morphTarget"+E)!==w[R]&&f.setAttribute("morphTarget"+E,w[R]),_&&f.getAttribute("morphNormal"+E)!==_[R]&&f.setAttribute("morphNormal"+E,_[R]),r[E]=C,A+=C):(w&&f.hasAttribute("morphTarget"+E)===!0&&f.deleteAttribute("morphTarget"+E),_&&f.hasAttribute("morphNormal"+E)===!0&&f.deleteAttribute("morphNormal"+E),r[E]=0)}const S=f.morphTargetsRelative?1:1-A;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Z9(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,f=l.geometry,d=e.get(l,f);return r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const KI=new sn,QI=new ny,qI=new pM,ZI=new wd,oT=[],aT=[],lT=new Float32Array(16),uT=new Float32Array(9),cT=new Float32Array(4);function Dc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=oT[r];if(s===void 0&&(s=new Float32Array(r),oT[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function kn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function On(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function ry(n,e){let t=aT[e];t===void 0&&(t=new Int32Array(e),aT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function $9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function eH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2fv(this.addr,e),On(t,e)}}function tH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kn(t,e))return;n.uniform3fv(this.addr,e),On(t,e)}}function nH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4fv(this.addr,e),On(t,e)}}function iH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;cT.set(i),n.uniformMatrix2fv(this.addr,!1,cT),On(t,i)}}function rH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;uT.set(i),n.uniformMatrix3fv(this.addr,!1,uT),On(t,i)}}function sH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(kn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),On(t,e)}else{if(kn(t,i))return;lT.set(i),n.uniformMatrix4fv(this.addr,!1,lT),On(t,i)}}function oH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function aH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2iv(this.addr,e),On(t,e)}}function lH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3iv(this.addr,e),On(t,e)}}function uH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4iv(this.addr,e),On(t,e)}}function cH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function hH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2uiv(this.addr,e),On(t,e)}}function fH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3uiv(this.addr,e),On(t,e)}}function dH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4uiv(this.addr,e),On(t,e)}}function pH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||KI,r)}function mH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||qI,r)}function gH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||ZI,r)}function yH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||QI,r)}function vH(n){switch(n){case 5126:return $9;case 35664:return eH;case 35665:return tH;case 35666:return nH;case 35674:return iH;case 35675:return rH;case 35676:return sH;case 5124:case 35670:return oH;case 35667:case 35671:return aH;case 35668:case 35672:return lH;case 35669:case 35673:return uH;case 5125:return cH;case 36294:return hH;case 36295:return fH;case 36296:return dH;case 35678:case 36198:case 36298:case 36306:case 35682:return pH;case 35679:case 36299:case 36307:return mH;case 35680:case 36300:case 36308:case 36293:return gH;case 36289:case 36303:case 36311:case 36292:return yH}}function xH(n,e){n.uniform1fv(this.addr,e)}function _H(n,e){const t=Dc(e,this.size,2);n.uniform2fv(this.addr,t)}function wH(n,e){const t=Dc(e,this.size,3);n.uniform3fv(this.addr,t)}function AH(n,e){const t=Dc(e,this.size,4);n.uniform4fv(this.addr,t)}function MH(n,e){const t=Dc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function SH(n,e){const t=Dc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function bH(n,e){const t=Dc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function CH(n,e){n.uniform1iv(this.addr,e)}function EH(n,e){n.uniform2iv(this.addr,e)}function TH(n,e){n.uniform3iv(this.addr,e)}function PH(n,e){n.uniform4iv(this.addr,e)}function BH(n,e){n.uniform1uiv(this.addr,e)}function RH(n,e){n.uniform2uiv(this.addr,e)}function IH(n,e){n.uniform3uiv(this.addr,e)}function LH(n,e){n.uniform4uiv(this.addr,e)}function DH(n,e,t){const i=this.cache,r=e.length,s=ry(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||KI,s[o])}function FH(n,e,t){const i=this.cache,r=e.length,s=ry(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||qI,s[o])}function kH(n,e,t){const i=this.cache,r=e.length,s=ry(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||ZI,s[o])}function OH(n,e,t){const i=this.cache,r=e.length,s=ry(t,r);kn(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||QI,s[o])}function NH(n){switch(n){case 5126:return xH;case 35664:return _H;case 35665:return wH;case 35666:return AH;case 35674:return MH;case 35675:return SH;case 35676:return bH;case 5124:case 35670:return CH;case 35667:case 35671:return EH;case 35668:case 35672:return TH;case 35669:case 35673:return PH;case 5125:return BH;case 36294:return RH;case 36295:return IH;case 36296:return LH;case 35678:case 36198:case 36298:case 36306:case 35682:return DH;case 35679:case 36299:case 36307:return FH;case 35680:case 36300:case 36308:case 36293:return kH;case 36289:case 36303:case 36311:case 36292:return OH}}class zH{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=vH(t.type)}}class UH{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=NH(t.type)}}class GH{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Fx=/(\w+)(\])?(\[|\.)?/g;function hT(n,e){n.seq.push(e),n.map[e.id]=e}function HH(n,e,t){const i=n.name,r=i.length;for(Fx.lastIndex=0;;){const s=Fx.exec(i),o=Fx.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){hT(t,u===void 0?new zH(a,n,e):new UH(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new GH(a),hT(t,d)),t=d}}}class Pg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);HH(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function fT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let VH=0;function WH(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function jH(n){switch(n){case ho:return["Linear","( value )"];case Tt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function dT(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+WH(n.getShaderSource(e),o)}else return r}function JH(n,e){const t=jH(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function XH(n,e){let t;switch(e){case dI:t="Linear";break;case pI:t="Reinhard";break;case mI:t="OptimizedCineon";break;case lM:t="ACESFilmic";break;case gI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function YH(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vh).join(`
`)}function KH(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function QH(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Vh(n){return n!==""}function pT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qH=/^[ \t]*#include +<([\w\d./]+)>/gm;function fw(n){return n.replace(qH,ZH)}function ZH(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return fw(t)}const $H=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gT(n){return n.replace($H,eV)}function eV(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function yT(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tV(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Z0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===tf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===cl&&(e="SHADOWMAP_TYPE_VSM"),e}function nV(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case da:case pa:e="ENVMAP_TYPE_CUBE";break;case Ic:e="ENVMAP_TYPE_CUBE_UV";break}return e}function iV(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case pa:e="ENVMAP_MODE_REFRACTION";break}return e}function rV(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case yd:e="ENVMAP_BLENDING_MULTIPLY";break;case hI:e="ENVMAP_BLENDING_MIX";break;case fI:e="ENVMAP_BLENDING_ADD";break}return e}function sV(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function oV(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=tV(t),u=nV(t),f=iV(t),d=rV(t),p=sV(t),m=t.isWebGL2?"":YH(t),g=KH(s),v=r.createProgram();let x,w,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[g].filter(Vh).join(`
`),x.length>0&&(x+=`
`),w=[m,g].filter(Vh).join(`
`),w.length>0&&(w+=`
`)):(x=[yT(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Vh).join(`
`),w=[m,yT(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Kr?"#define TONE_MAPPING":"",t.toneMapping!==Kr?yt.tonemapping_pars_fragment:"",t.toneMapping!==Kr?XH("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,JH("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Vh).join(`
`)),o=fw(o),o=pT(o,t),o=mT(o,t),a=fw(a),a=pT(a,t),a=mT(a,t),o=gT(o),a=gT(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===uw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=_+x+o,S=_+w+a,E=fT(r,35633,A),P=fT(r,35632,S);if(r.attachShader(v,E),r.attachShader(v,P),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const B=r.getProgramInfoLog(v).trim(),D=r.getShaderInfoLog(E).trim(),O=r.getShaderInfoLog(P).trim();let Y=!0,W=!0;if(r.getProgramParameter(v,35714)===!1){Y=!1;const j=dT(r,E,"vertex"),X=dT(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+B+`
`+j+`
`+X)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(D===""||O==="")&&(W=!1);W&&(this.diagnostics={runnable:Y,programLog:B,vertexShader:{log:D,prefix:x},fragmentShader:{log:O,prefix:w}})}r.deleteShader(E),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Pg(r,v)),R};let C;return this.getAttributes=function(){return C===void 0&&(C=QH(r,v)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=VH++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=P,this}let aV=0;class lV{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new uV(e),t.set(e,i)),i}}class uV{constructor(e){this.id=aV++,this.code=e,this.usedTimes=0}}function cV(n,e,t,i,r,s,o){const a=new Ml,l=new lV,u=[],f=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,B,D,O,Y){const W=O.fog,j=Y.geometry,X=C.isMeshStandardMaterial?O.environment:null,ee=(C.isMeshStandardMaterial?t:e).get(C.envMap||X),ne=ee&&ee.mapping===Ic?ee.image.height:null,I=g[C.type];C.precision!==null&&(m=r.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const U=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,G=U!==void 0?U.length:0;let $=0;j.morphAttributes.position!==void 0&&($=1),j.morphAttributes.normal!==void 0&&($=2),j.morphAttributes.color!==void 0&&($=3);let V,se,he,xe;if(I){const Fe=Hr[I];V=Fe.vertexShader,se=Fe.fragmentShader}else V=C.vertexShader,se=C.fragmentShader,l.update(C),he=l.getVertexShaderID(C),xe=l.getFragmentShaderID(C);const Z=n.getRenderTarget(),De=C.alphaTest>0,ze=C.clearcoat>0,We=C.iridescence>0;return{isWebGL2:f,shaderID:I,shaderName:C.type,vertexShader:V,fragmentShader:se,defines:C.defines,customVertexShaderID:he,customFragmentShaderID:xe,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:Y.isInstancedMesh===!0,instancingColor:Y.isInstancedMesh===!0&&Y.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Z===null?n.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:ho,map:!!C.map,matcap:!!C.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:ne,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===NI,tangentSpaceNormalMap:C.normalMapType===go,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Tt,clearcoat:ze,clearcoatMap:ze&&!!C.clearcoatMap,clearcoatRoughnessMap:ze&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:ze&&!!C.clearcoatNormalMap,iridescence:We,iridescenceMap:We&&!!C.iridescenceMap,iridescenceThicknessMap:We&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===xl,alphaMap:!!C.alphaMap,alphaTest:De,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!j.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!W,useFog:C.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:Y.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:$,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:Kr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Wr,flipSided:C.side===ki,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||i.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const B=[];if(C.shaderID?B.push(C.shaderID):(B.push(C.customVertexShaderID),B.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)B.push(D),B.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(w(B,C),_(B,C),B.push(n.outputEncoding)),B.push(C.customProgramCacheKey),B.join()}function w(C,B){C.push(B.precision),C.push(B.outputEncoding),C.push(B.envMapMode),C.push(B.envMapCubeUVHeight),C.push(B.combine),C.push(B.vertexUvs),C.push(B.fogExp2),C.push(B.sizeAttenuation),C.push(B.morphTargetsCount),C.push(B.morphAttributeCount),C.push(B.numDirLights),C.push(B.numPointLights),C.push(B.numSpotLights),C.push(B.numSpotLightMaps),C.push(B.numHemiLights),C.push(B.numRectAreaLights),C.push(B.numDirLightShadows),C.push(B.numPointLightShadows),C.push(B.numSpotLightShadows),C.push(B.numSpotLightShadowsWithMaps),C.push(B.shadowMapType),C.push(B.toneMapping),C.push(B.numClippingPlanes),C.push(B.numClipIntersection),C.push(B.depthPacking)}function _(C,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),C.push(a.mask)}function A(C){const B=g[C.type];let D;if(B){const O=Hr[B];D=jI.clone(O.uniforms)}else D=C.uniforms;return D}function S(C,B){let D;for(let O=0,Y=u.length;O<Y;O++){const W=u[O];if(W.cacheKey===B){D=W,++D.usedTimes;break}}return D===void 0&&(D=new oV(n,B,C,s),u.push(D)),D}function E(C){if(--C.usedTimes===0){const B=u.indexOf(C);u[B]=u[u.length-1],u.pop(),C.destroy()}}function P(C){l.remove(C)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:A,acquireProgram:S,releaseProgram:E,releaseShaderCache:P,programs:u,dispose:R}}function hV(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function fV(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xT(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,g,v,x){let w=n[e];return w===void 0?(w={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:x},n[e]=w):(w.id=d.id,w.object=d,w.geometry=p,w.material=m,w.groupOrder=g,w.renderOrder=d.renderOrder,w.z=v,w.group=x),e++,w}function a(d,p,m,g,v,x){const w=o(d,p,m,g,v,x);m.transmission>0?i.push(w):m.transparent===!0?r.push(w):t.push(w)}function l(d,p,m,g,v,x){const w=o(d,p,m,g,v,x);m.transmission>0?i.unshift(w):m.transparent===!0?r.unshift(w):t.unshift(w)}function u(d,p){t.length>1&&t.sort(d||fV),i.length>1&&i.sort(p||vT),r.length>1&&r.sort(p||vT)}function f(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:f,sort:u}}function dV(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new xT,n.set(i,[o])):r>=s.length?(o=new xT,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function pV(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new Ie};break;case"SpotLight":t={position:new F,direction:new F,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new Ie,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":t={color:new Ie,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function mV(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let gV=0;function yV(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function vV(n,e){const t=new pV,i=mV(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)r.probe.push(new F);const s=new F,o=new ot,a=new ot;function l(f,d){let p=0,m=0,g=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let v=0,x=0,w=0,_=0,A=0,S=0,E=0,P=0,R=0,C=0;f.sort(yV);const B=d!==!0?Math.PI:1;for(let O=0,Y=f.length;O<Y;O++){const W=f[O],j=W.color,X=W.intensity,ee=W.distance,ne=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=j.r*X*B,m+=j.g*X*B,g+=j.b*X*B;else if(W.isLightProbe)for(let I=0;I<9;I++)r.probe[I].addScaledVector(W.sh.coefficients[I],X);else if(W.isDirectionalLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*B),W.castShadow){const U=W.shadow,G=i.get(W);G.shadowBias=U.bias,G.shadowNormalBias=U.normalBias,G.shadowRadius=U.radius,G.shadowMapSize=U.mapSize,r.directionalShadow[v]=G,r.directionalShadowMap[v]=ne,r.directionalShadowMatrix[v]=W.shadow.matrix,S++}r.directional[v]=I,v++}else if(W.isSpotLight){const I=t.get(W);I.position.setFromMatrixPosition(W.matrixWorld),I.color.copy(j).multiplyScalar(X*B),I.distance=ee,I.coneCos=Math.cos(W.angle),I.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),I.decay=W.decay,r.spot[w]=I;const U=W.shadow;if(W.map&&(r.spotLightMap[R]=W.map,R++,U.updateMatrices(W),W.castShadow&&C++),r.spotLightMatrix[w]=U.matrix,W.castShadow){const G=i.get(W);G.shadowBias=U.bias,G.shadowNormalBias=U.normalBias,G.shadowRadius=U.radius,G.shadowMapSize=U.mapSize,r.spotShadow[w]=G,r.spotShadowMap[w]=ne,P++}w++}else if(W.isRectAreaLight){const I=t.get(W);I.color.copy(j).multiplyScalar(X),I.halfWidth.set(W.width*.5,0,0),I.halfHeight.set(0,W.height*.5,0),r.rectArea[_]=I,_++}else if(W.isPointLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*B),I.distance=W.distance,I.decay=W.decay,W.castShadow){const U=W.shadow,G=i.get(W);G.shadowBias=U.bias,G.shadowNormalBias=U.normalBias,G.shadowRadius=U.radius,G.shadowMapSize=U.mapSize,G.shadowCameraNear=U.camera.near,G.shadowCameraFar=U.camera.far,r.pointShadow[x]=G,r.pointShadowMap[x]=ne,r.pointShadowMatrix[x]=W.shadow.matrix,E++}r.point[x]=I,x++}else if(W.isHemisphereLight){const I=t.get(W);I.skyColor.copy(W.color).multiplyScalar(X*B),I.groundColor.copy(W.groundColor).multiplyScalar(X*B),r.hemi[A]=I,A++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Re.LTC_FLOAT_1,r.rectAreaLTC2=Re.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Re.LTC_HALF_1,r.rectAreaLTC2=Re.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=g;const D=r.hash;(D.directionalLength!==v||D.pointLength!==x||D.spotLength!==w||D.rectAreaLength!==_||D.hemiLength!==A||D.numDirectionalShadows!==S||D.numPointShadows!==E||D.numSpotShadows!==P||D.numSpotMaps!==R)&&(r.directional.length=v,r.spot.length=w,r.rectArea.length=_,r.point.length=x,r.hemi.length=A,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=P+R-C,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=C,D.directionalLength=v,D.pointLength=x,D.spotLength=w,D.rectAreaLength=_,D.hemiLength=A,D.numDirectionalShadows=S,D.numPointShadows=E,D.numSpotShadows=P,D.numSpotMaps=R,r.version=gV++)}function u(f,d){let p=0,m=0,g=0,v=0,x=0;const w=d.matrixWorldInverse;for(let _=0,A=f.length;_<A;_++){const S=f[_];if(S.isDirectionalLight){const E=r.directional[p];E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(w),p++}else if(S.isSpotLight){const E=r.spot[g];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(w),E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(w),g++}else if(S.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(w),a.identity(),o.copy(S.matrixWorld),o.premultiply(w),a.extractRotation(o),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const E=r.point[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(w),m++}else if(S.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(w),x++}}}return{setup:l,setupView:u,state:r}}function _T(n,e){const t=new vV(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function u(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function xV(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new _T(n,e),t.set(s,[l])):o>=a.length?(l=new _T(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class vM extends Rn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=kI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class xM extends Rn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _V=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wV=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function AV(n,e,t){let i=new iy;const r=new ge,s=new ge,o=new zt,a=new vM({depthPacking:OI}),l=new xM,u={},f=t.maxTextureSize,d={[As]:ki,[ki]:As,[Wr]:Wr},p=new Ss({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:_V,fragmentShader:wV}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new ft;g.setAttribute("position",new Ot(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new jn(g,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Z0,this.render=function(S,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),D=n.state;D.setBlending(ro),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let O=0,Y=S.length;O<Y;O++){const W=S[O],j=W.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const X=j.getFrameExtents();if(r.multiply(X),s.copy(j.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/X.x),r.x=s.x*X.x,j.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/X.y),r.y=s.y*X.y,j.mapSize.y=s.y)),j.map===null){const ne=this.type!==cl?{minFilter:_n,magFilter:_n}:{};j.map=new $r(r.x,r.y,ne),j.map.texture.name=W.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const ee=j.getViewportCount();for(let ne=0;ne<ee;ne++){const I=j.getViewport(ne);o.set(s.x*I.x,s.y*I.y,s.x*I.z,s.y*I.w),D.viewport(o),j.updateMatrices(W,ne),i=j.getFrustum(),A(E,P,j.camera,W,this.type)}j.isPointLightShadow!==!0&&this.type===cl&&w(j,P),j.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,C,B)};function w(S,E){const P=e.update(v);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new $r(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,P,p,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,P,m,v,null)}function _(S,E,P,R,C,B){let D=null;const O=P.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(O!==void 0)D=O;else if(D=P.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const Y=D.uuid,W=E.uuid;let j=u[Y];j===void 0&&(j={},u[Y]=j);let X=j[W];X===void 0&&(X=D.clone(),j[W]=X),D=X}return D.visible=E.visible,D.wireframe=E.wireframe,B===cl?D.side=E.shadowSide!==null?E.shadowSide:E.side:D.side=E.shadowSide!==null?E.shadowSide:d[E.side],D.alphaMap=E.alphaMap,D.alphaTest=E.alphaTest,D.map=E.map,D.clipShadows=E.clipShadows,D.clippingPlanes=E.clippingPlanes,D.clipIntersection=E.clipIntersection,D.displacementMap=E.displacementMap,D.displacementScale=E.displacementScale,D.displacementBias=E.displacementBias,D.wireframeLinewidth=E.wireframeLinewidth,D.linewidth=E.linewidth,P.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(P.matrixWorld),D.nearDistance=R,D.farDistance=C),D}function A(S,E,P,R,C){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&C===cl)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,S.matrixWorld);const O=e.update(S),Y=S.material;if(Array.isArray(Y)){const W=O.groups;for(let j=0,X=W.length;j<X;j++){const ee=W[j],ne=Y[ee.materialIndex];if(ne&&ne.visible){const I=_(S,ne,R,P.near,P.far,C);n.renderBufferDirect(P,null,O,I,S,ee)}}}else if(Y.visible){const W=_(S,Y,R,P.near,P.far,C);n.renderBufferDirect(P,null,O,W,S,null)}}const D=S.children;for(let O=0,Y=D.length;O<Y;O++)A(D[O],E,P,R,C)}}function MV(n,e,t){const i=t.isWebGL2;function r(){let Q=!1;const ce=new zt;let _e=null;const Ue=new zt(0,0,0,0);return{setMask:function(qe){_e!==qe&&!Q&&(n.colorMask(qe,qe,qe,qe),_e=qe)},setLocked:function(qe){Q=qe},setClear:function(qe,Rt,wn,Nn,rs){rs===!0&&(qe*=Nn,Rt*=Nn,wn*=Nn),ce.set(qe,Rt,wn,Nn),Ue.equals(ce)===!1&&(n.clearColor(qe,Rt,wn,Nn),Ue.copy(ce))},reset:function(){Q=!1,_e=null,Ue.set(-1,0,0,0)}}}function s(){let Q=!1,ce=null,_e=null,Ue=null;return{setTest:function(qe){qe?De(2929):ze(2929)},setMask:function(qe){ce!==qe&&!Q&&(n.depthMask(qe),ce=qe)},setFunc:function(qe){if(_e!==qe){switch(qe){case rI:n.depthFunc(512);break;case sI:n.depthFunc(519);break;case oI:n.depthFunc(513);break;case a0:n.depthFunc(515);break;case aI:n.depthFunc(514);break;case lI:n.depthFunc(518);break;case uI:n.depthFunc(516);break;case cI:n.depthFunc(517);break;default:n.depthFunc(515)}_e=qe}},setLocked:function(qe){Q=qe},setClear:function(qe){Ue!==qe&&(n.clearDepth(qe),Ue=qe)},reset:function(){Q=!1,ce=null,_e=null,Ue=null}}}function o(){let Q=!1,ce=null,_e=null,Ue=null,qe=null,Rt=null,wn=null,Nn=null,rs=null;return{setTest:function(Vt){Q||(Vt?De(2960):ze(2960))},setMask:function(Vt){ce!==Vt&&!Q&&(n.stencilMask(Vt),ce=Vt)},setFunc:function(Vt,ir,Si){(_e!==Vt||Ue!==ir||qe!==Si)&&(n.stencilFunc(Vt,ir,Si),_e=Vt,Ue=ir,qe=Si)},setOp:function(Vt,ir,Si){(Rt!==Vt||wn!==ir||Nn!==Si)&&(n.stencilOp(Vt,ir,Si),Rt=Vt,wn=ir,Nn=Si)},setLocked:function(Vt){Q=Vt},setClear:function(Vt){rs!==Vt&&(n.clearStencil(Vt),rs=Vt)},reset:function(){Q=!1,ce=null,_e=null,Ue=null,qe=null,Rt=null,wn=null,Nn=null,rs=null}}}const a=new r,l=new s,u=new o,f=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,v=[],x=null,w=!1,_=null,A=null,S=null,E=null,P=null,R=null,C=null,B=!1,D=null,O=null,Y=null,W=null,j=null;const X=n.getParameter(35661);let ee=!1,ne=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(I)[1]),ee=ne>=1):I.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),ee=ne>=2);let U=null,G={};const $=n.getParameter(3088),V=n.getParameter(2978),se=new zt().fromArray($),he=new zt().fromArray(V);function xe(Q,ce,_e){const Ue=new Uint8Array(4),qe=n.createTexture();n.bindTexture(Q,qe),n.texParameteri(Q,10241,9728),n.texParameteri(Q,10240,9728);for(let Rt=0;Rt<_e;Rt++)n.texImage2D(ce+Rt,0,6408,1,1,0,6408,5121,Ue);return qe}const Z={};Z[3553]=xe(3553,3553,1),Z[34067]=xe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),De(2929),l.setFunc(a0),Be(!1),$e(D_),De(2884),be(ro);function De(Q){p[Q]!==!0&&(n.enable(Q),p[Q]=!0)}function ze(Q){p[Q]!==!1&&(n.disable(Q),p[Q]=!1)}function We(Q,ce){return m[Q]!==ce?(n.bindFramebuffer(Q,ce),m[Q]=ce,i&&(Q===36009&&(m[36160]=ce),Q===36160&&(m[36009]=ce)),!0):!1}function Ae(Q,ce){let _e=v,Ue=!1;if(Q)if(_e=g.get(ce),_e===void 0&&(_e=[],g.set(ce,_e)),Q.isWebGLMultipleRenderTargets){const qe=Q.texture;if(_e.length!==qe.length||_e[0]!==36064){for(let Rt=0,wn=qe.length;Rt<wn;Rt++)_e[Rt]=36064+Rt;_e.length=qe.length,Ue=!0}}else _e[0]!==36064&&(_e[0]=36064,Ue=!0);else _e[0]!==1029&&(_e[0]=1029,Ue=!0);Ue&&(t.isWebGL2?n.drawBuffers(_e):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(_e))}function Fe(Q){return x!==Q?(n.useProgram(Q),x=Q,!0):!1}const de={[il]:32774,[XR]:32778,[YR]:32779};if(i)de[N_]=32775,de[z_]=32776;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(de[N_]=Q.MIN_EXT,de[z_]=Q.MAX_EXT)}const ae={[KR]:0,[QR]:1,[qR]:768,[oM]:770,[iI]:776,[tI]:774,[$R]:772,[ZR]:769,[aM]:771,[nI]:775,[eI]:773};function be(Q,ce,_e,Ue,qe,Rt,wn,Nn){if(Q===ro){w===!0&&(ze(3042),w=!1);return}if(w===!1&&(De(3042),w=!0),Q!==JR){if(Q!==_||Nn!==B){if((A!==il||P!==il)&&(n.blendEquation(32774),A=il,P=il),Nn)switch(Q){case xl:n.blendFuncSeparate(1,771,1,771);break;case F_:n.blendFunc(1,1);break;case k_:n.blendFuncSeparate(0,769,0,1);break;case O_:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case xl:n.blendFuncSeparate(770,771,1,771);break;case F_:n.blendFunc(770,1);break;case k_:n.blendFuncSeparate(0,769,0,1);break;case O_:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}S=null,E=null,R=null,C=null,_=Q,B=Nn}return}qe=qe||ce,Rt=Rt||_e,wn=wn||Ue,(ce!==A||qe!==P)&&(n.blendEquationSeparate(de[ce],de[qe]),A=ce,P=qe),(_e!==S||Ue!==E||Rt!==R||wn!==C)&&(n.blendFuncSeparate(ae[_e],ae[Ue],ae[Rt],ae[wn]),S=_e,E=Ue,R=Rt,C=wn),_=Q,B=!1}function Ge(Q,ce){Q.side===Wr?ze(2884):De(2884);let _e=Q.side===ki;ce&&(_e=!_e),Be(_e),Q.blending===xl&&Q.transparent===!1?be(ro):be(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const Ue=Q.stencilWrite;u.setTest(Ue),Ue&&(u.setMask(Q.stencilWriteMask),u.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),u.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Je(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?De(32926):ze(32926)}function Be(Q){D!==Q&&(Q?n.frontFace(2304):n.frontFace(2305),D=Q)}function $e(Q){Q!==VR?(De(2884),Q!==O&&(Q===D_?n.cullFace(1029):Q===WR?n.cullFace(1028):n.cullFace(1032))):ze(2884),O=Q}function Ye(Q){Q!==Y&&(ee&&n.lineWidth(Q),Y=Q)}function Je(Q,ce,_e){Q?(De(32823),(W!==ce||j!==_e)&&(n.polygonOffset(ce,_e),W=ce,j=_e)):ze(32823)}function wt(Q){Q?De(3089):ze(3089)}function Ct(Q){Q===void 0&&(Q=33984+X-1),U!==Q&&(n.activeTexture(Q),U=Q)}function z(Q,ce,_e){_e===void 0&&(U===null?_e=33984+X-1:_e=U);let Ue=G[_e];Ue===void 0&&(Ue={type:void 0,texture:void 0},G[_e]=Ue),(Ue.type!==Q||Ue.texture!==ce)&&(U!==_e&&(n.activeTexture(_e),U=_e),n.bindTexture(Q,ce||Z[Q]),Ue.type=Q,Ue.texture=ce)}function L(){const Q=G[U];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Me(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function it(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ye(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ke(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function J(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function le(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function we(Q){se.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),se.copy(Q))}function Te(Q){he.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),he.copy(Q))}function tt(Q,ce){let _e=d.get(ce);_e===void 0&&(_e=new WeakMap,d.set(ce,_e));let Ue=_e.get(Q);Ue===void 0&&(Ue=n.getUniformBlockIndex(ce,Q.name),_e.set(Q,Ue))}function _t(Q,ce){const Ue=d.get(ce).get(Q);f.get(ce)!==Ue&&(n.uniformBlockBinding(ce,Ue,Q.__bindingPointIndex),f.set(ce,Ue))}function Yt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},U=null,G={},m={},g=new WeakMap,v=[],x=null,w=!1,_=null,A=null,S=null,E=null,P=null,R=null,C=null,B=!1,D=null,O=null,Y=null,W=null,j=null,se.set(0,0,n.canvas.width,n.canvas.height),he.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:De,disable:ze,bindFramebuffer:We,drawBuffers:Ae,useProgram:Fe,setBlending:be,setMaterial:Ge,setFlipSided:Be,setCullFace:$e,setLineWidth:Ye,setPolygonOffset:Je,setScissorTest:wt,activeTexture:Ct,bindTexture:z,unbindTexture:L,compressedTexImage2D:oe,compressedTexImage3D:Me,texImage2D:J,texImage3D:le,updateUBOMapping:tt,uniformBlockBinding:_t,texStorage2D:ye,texStorage3D:Ke,texSubImage2D:Ce,texSubImage3D:Pe,compressedTexSubImage2D:it,compressedTexSubImage3D:ke,scissor:we,viewport:Te,reset:Yt}}function SV(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,f=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(z,L){return w?new OffscreenCanvas(z,L):Wf("canvas")}function A(z,L,oe,Me){let Ce=1;if((z.width>Me||z.height>Me)&&(Ce=Me/Math.max(z.width,z.height)),Ce<1||L===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const Pe=L?u0:Math.floor,it=Pe(Ce*z.width),ke=Pe(Ce*z.height);v===void 0&&(v=_(it,ke));const ye=oe?_(it,ke):v;return ye.width=it,ye.height=ke,ye.getContext("2d").drawImage(z,0,0,it,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+it+"x"+ke+")."),ye}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function S(z){return cw(z.width)&&cw(z.height)}function E(z){return a?!1:z.wrapS!==Kn||z.wrapT!==Kn||z.minFilter!==_n&&z.minFilter!==un}function P(z,L){return z.generateMipmaps&&L&&z.minFilter!==_n&&z.minFilter!==un}function R(z){n.generateMipmap(z)}function C(z,L,oe,Me,Ce=!1){if(a===!1)return L;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Pe=L;return L===6403&&(oe===5126&&(Pe=33326),oe===5131&&(Pe=33325),oe===5121&&(Pe=33321)),L===33319&&(oe===5126&&(Pe=33328),oe===5131&&(Pe=33327),oe===5121&&(Pe=33323)),L===6408&&(oe===5126&&(Pe=34836),oe===5131&&(Pe=34842),oe===5121&&(Pe=Me===Tt&&Ce===!1?35907:32856),oe===32819&&(Pe=32854),oe===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function B(z,L,oe){return P(z,oe)===!0||z.isFramebufferTexture&&z.minFilter!==_n&&z.minFilter!==un?Math.log2(Math.max(L.width,L.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?L.mipmaps.length:1}function D(z){return z===_n||z===Uf||z===$u?9728:9729}function O(z){const L=z.target;L.removeEventListener("dispose",O),W(L),L.isVideoTexture&&g.delete(L)}function Y(z){const L=z.target;L.removeEventListener("dispose",Y),X(L)}function W(z){const L=i.get(z);if(L.__webglInit===void 0)return;const oe=z.source,Me=x.get(oe);if(Me){const Ce=Me[L.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&j(z),Object.keys(Me).length===0&&x.delete(oe)}i.remove(z)}function j(z){const L=i.get(z);n.deleteTexture(L.__webglTexture);const oe=z.source,Me=x.get(oe);delete Me[L.__cacheKey],o.memory.textures--}function X(z){const L=z.texture,oe=i.get(z),Me=i.get(L);if(Me.__webglTexture!==void 0&&(n.deleteTexture(Me.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(oe.__webglFramebuffer[Ce]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ce=0;Ce<oe.__webglColorRenderbuffer.length;Ce++)oe.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ce]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ce=0,Pe=L.length;Ce<Pe;Ce++){const it=i.get(L[Ce]);it.__webglTexture&&(n.deleteTexture(it.__webglTexture),o.memory.textures--),i.remove(L[Ce])}i.remove(L),i.remove(z)}let ee=0;function ne(){ee=0}function I(){const z=ee;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),ee+=1,z}function U(z){const L=[];return L.push(z.wrapS),L.push(z.wrapT),L.push(z.wrapR||0),L.push(z.magFilter),L.push(z.minFilter),L.push(z.anisotropy),L.push(z.internalFormat),L.push(z.format),L.push(z.type),L.push(z.generateMipmaps),L.push(z.premultiplyAlpha),L.push(z.flipY),L.push(z.unpackAlignment),L.push(z.encoding),L.join()}function G(z,L){const oe=i.get(z);if(z.isVideoTexture&&wt(z),z.isRenderTargetTexture===!1&&z.version>0&&oe.__version!==z.version){const Me=z.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ze(oe,z,L);return}}t.bindTexture(3553,oe.__webglTexture,33984+L)}function $(z,L){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){ze(oe,z,L);return}t.bindTexture(35866,oe.__webglTexture,33984+L)}function V(z,L){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){ze(oe,z,L);return}t.bindTexture(32879,oe.__webglTexture,33984+L)}function se(z,L){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){We(oe,z,L);return}t.bindTexture(34067,oe.__webglTexture,33984+L)}const he={[ma]:10497,[Kn]:33071,[mc]:33648},xe={[_n]:9728,[Uf]:9984,[$u]:9986,[un]:9729,[ey]:9985,[Ms]:9987};function Z(z,L,oe){if(oe?(n.texParameteri(z,10242,he[L.wrapS]),n.texParameteri(z,10243,he[L.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,he[L.wrapR]),n.texParameteri(z,10240,xe[L.magFilter]),n.texParameteri(z,10241,xe[L.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(L.wrapS!==Kn||L.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,D(L.magFilter)),n.texParameteri(z,10241,D(L.minFilter)),L.minFilter!==_n&&L.minFilter!==un&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Me=e.get("EXT_texture_filter_anisotropic");if(L.magFilter===_n||L.minFilter!==$u&&L.minFilter!==Ms||L.type===$s&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===gc&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(n.texParameterf(z,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function De(z,L){let oe=!1;z.__webglInit===void 0&&(z.__webglInit=!0,L.addEventListener("dispose",O));const Me=L.source;let Ce=x.get(Me);Ce===void 0&&(Ce={},x.set(Me,Ce));const Pe=U(L);if(Pe!==z.__cacheKey){Ce[Pe]===void 0&&(Ce[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ce[Pe].usedTimes++;const it=Ce[z.__cacheKey];it!==void 0&&(Ce[z.__cacheKey].usedTimes--,it.usedTimes===0&&j(L)),z.__cacheKey=Pe,z.__webglTexture=Ce[Pe].texture}return oe}function ze(z,L,oe){let Me=3553;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(Me=35866),L.isData3DTexture&&(Me=32879);const Ce=De(z,L),Pe=L.source;t.bindTexture(Me,z.__webglTexture,33984+oe);const it=i.get(Pe);if(Pe.version!==it.__version||Ce===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const ke=E(L)&&S(L.image)===!1;let ye=A(L.image,ke,!1,f);ye=Ct(L,ye);const Ke=S(ye)||a,J=s.convert(L.format,L.encoding);let le=s.convert(L.type),we=C(L.internalFormat,J,le,L.encoding,L.isVideoTexture);Z(Me,L,Ke);let Te;const tt=L.mipmaps,_t=a&&L.isVideoTexture!==!0,Yt=it.__version===void 0||Ce===!0,Q=B(L,ye,Ke);if(L.isDepthTexture)we=6402,a?L.type===$s?we=36012:L.type===Jo?we=33190:L.type===_l?we=35056:we=33189:L.type===$s&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===aa&&we===6402&&L.type!==uM&&L.type!==Jo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=Jo,le=s.convert(L.type)),L.format===Bl&&we===6402&&(we=34041,L.type!==_l&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=_l,le=s.convert(L.type))),Yt&&(_t?t.texStorage2D(3553,1,we,ye.width,ye.height):t.texImage2D(3553,0,we,ye.width,ye.height,0,J,le,null));else if(L.isDataTexture)if(tt.length>0&&Ke){_t&&Yt&&t.texStorage2D(3553,Q,we,tt[0].width,tt[0].height);for(let ce=0,_e=tt.length;ce<_e;ce++)Te=tt[ce],_t?t.texSubImage2D(3553,ce,0,0,Te.width,Te.height,J,le,Te.data):t.texImage2D(3553,ce,we,Te.width,Te.height,0,J,le,Te.data);L.generateMipmaps=!1}else _t?(Yt&&t.texStorage2D(3553,Q,we,ye.width,ye.height),t.texSubImage2D(3553,0,0,0,ye.width,ye.height,J,le,ye.data)):t.texImage2D(3553,0,we,ye.width,ye.height,0,J,le,ye.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){_t&&Yt&&t.texStorage3D(35866,Q,we,tt[0].width,tt[0].height,ye.depth);for(let ce=0,_e=tt.length;ce<_e;ce++)Te=tt[ce],L.format!==Ri?J!==null?_t?t.compressedTexSubImage3D(35866,ce,0,0,0,Te.width,Te.height,ye.depth,J,Te.data,0,0):t.compressedTexImage3D(35866,ce,we,Te.width,Te.height,ye.depth,0,Te.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_t?t.texSubImage3D(35866,ce,0,0,0,Te.width,Te.height,ye.depth,J,le,Te.data):t.texImage3D(35866,ce,we,Te.width,Te.height,ye.depth,0,J,le,Te.data)}else{_t&&Yt&&t.texStorage2D(3553,Q,we,tt[0].width,tt[0].height);for(let ce=0,_e=tt.length;ce<_e;ce++)Te=tt[ce],L.format!==Ri?J!==null?_t?t.compressedTexSubImage2D(3553,ce,0,0,Te.width,Te.height,J,Te.data):t.compressedTexImage2D(3553,ce,we,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_t?t.texSubImage2D(3553,ce,0,0,Te.width,Te.height,J,le,Te.data):t.texImage2D(3553,ce,we,Te.width,Te.height,0,J,le,Te.data)}else if(L.isDataArrayTexture)_t?(Yt&&t.texStorage3D(35866,Q,we,ye.width,ye.height,ye.depth),t.texSubImage3D(35866,0,0,0,0,ye.width,ye.height,ye.depth,J,le,ye.data)):t.texImage3D(35866,0,we,ye.width,ye.height,ye.depth,0,J,le,ye.data);else if(L.isData3DTexture)_t?(Yt&&t.texStorage3D(32879,Q,we,ye.width,ye.height,ye.depth),t.texSubImage3D(32879,0,0,0,0,ye.width,ye.height,ye.depth,J,le,ye.data)):t.texImage3D(32879,0,we,ye.width,ye.height,ye.depth,0,J,le,ye.data);else if(L.isFramebufferTexture){if(Yt)if(_t)t.texStorage2D(3553,Q,we,ye.width,ye.height);else{let ce=ye.width,_e=ye.height;for(let Ue=0;Ue<Q;Ue++)t.texImage2D(3553,Ue,we,ce,_e,0,J,le,null),ce>>=1,_e>>=1}}else if(tt.length>0&&Ke){_t&&Yt&&t.texStorage2D(3553,Q,we,tt[0].width,tt[0].height);for(let ce=0,_e=tt.length;ce<_e;ce++)Te=tt[ce],_t?t.texSubImage2D(3553,ce,0,0,J,le,Te):t.texImage2D(3553,ce,we,J,le,Te);L.generateMipmaps=!1}else _t?(Yt&&t.texStorage2D(3553,Q,we,ye.width,ye.height),t.texSubImage2D(3553,0,0,0,J,le,ye)):t.texImage2D(3553,0,we,J,le,ye);P(L,Ke)&&R(Me),it.__version=Pe.version,L.onUpdate&&L.onUpdate(L)}z.__version=L.version}function We(z,L,oe){if(L.image.length!==6)return;const Me=De(z,L),Ce=L.source;t.bindTexture(34067,z.__webglTexture,33984+oe);const Pe=i.get(Ce);if(Ce.version!==Pe.__version||Me===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const it=L.isCompressedTexture||L.image[0].isCompressedTexture,ke=L.image[0]&&L.image[0].isDataTexture,ye=[];for(let ce=0;ce<6;ce++)!it&&!ke?ye[ce]=A(L.image[ce],!1,!0,u):ye[ce]=ke?L.image[ce].image:L.image[ce],ye[ce]=Ct(L,ye[ce]);const Ke=ye[0],J=S(Ke)||a,le=s.convert(L.format,L.encoding),we=s.convert(L.type),Te=C(L.internalFormat,le,we,L.encoding),tt=a&&L.isVideoTexture!==!0,_t=Pe.__version===void 0||Me===!0;let Yt=B(L,Ke,J);Z(34067,L,J);let Q;if(it){tt&&_t&&t.texStorage2D(34067,Yt,Te,Ke.width,Ke.height);for(let ce=0;ce<6;ce++){Q=ye[ce].mipmaps;for(let _e=0;_e<Q.length;_e++){const Ue=Q[_e];L.format!==Ri?le!==null?tt?t.compressedTexSubImage2D(34069+ce,_e,0,0,Ue.width,Ue.height,le,Ue.data):t.compressedTexImage2D(34069+ce,_e,Te,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tt?t.texSubImage2D(34069+ce,_e,0,0,Ue.width,Ue.height,le,we,Ue.data):t.texImage2D(34069+ce,_e,Te,Ue.width,Ue.height,0,le,we,Ue.data)}}}else{Q=L.mipmaps,tt&&_t&&(Q.length>0&&Yt++,t.texStorage2D(34067,Yt,Te,ye[0].width,ye[0].height));for(let ce=0;ce<6;ce++)if(ke){tt?t.texSubImage2D(34069+ce,0,0,0,ye[ce].width,ye[ce].height,le,we,ye[ce].data):t.texImage2D(34069+ce,0,Te,ye[ce].width,ye[ce].height,0,le,we,ye[ce].data);for(let _e=0;_e<Q.length;_e++){const qe=Q[_e].image[ce].image;tt?t.texSubImage2D(34069+ce,_e+1,0,0,qe.width,qe.height,le,we,qe.data):t.texImage2D(34069+ce,_e+1,Te,qe.width,qe.height,0,le,we,qe.data)}}else{tt?t.texSubImage2D(34069+ce,0,0,0,le,we,ye[ce]):t.texImage2D(34069+ce,0,Te,le,we,ye[ce]);for(let _e=0;_e<Q.length;_e++){const Ue=Q[_e];tt?t.texSubImage2D(34069+ce,_e+1,0,0,le,we,Ue.image[ce]):t.texImage2D(34069+ce,_e+1,Te,le,we,Ue.image[ce])}}}P(L,J)&&R(34067),Pe.__version=Ce.version,L.onUpdate&&L.onUpdate(L)}z.__version=L.version}function Ae(z,L,oe,Me,Ce){const Pe=s.convert(oe.format,oe.encoding),it=s.convert(oe.type),ke=C(oe.internalFormat,Pe,it,oe.encoding);i.get(L).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,ke,L.width,L.height,L.depth,0,Pe,it,null):t.texImage2D(Ce,0,ke,L.width,L.height,0,Pe,it,null)),t.bindFramebuffer(36160,z),Je(L)?p.framebufferTexture2DMultisampleEXT(36160,Me,Ce,i.get(oe).__webglTexture,0,Ye(L)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,Me,Ce,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Fe(z,L,oe){if(n.bindRenderbuffer(36161,z),L.depthBuffer&&!L.stencilBuffer){let Me=33189;if(oe||Je(L)){const Ce=L.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===$s?Me=36012:Ce.type===Jo&&(Me=33190));const Pe=Ye(L);Je(L)?p.renderbufferStorageMultisampleEXT(36161,Pe,Me,L.width,L.height):n.renderbufferStorageMultisample(36161,Pe,Me,L.width,L.height)}else n.renderbufferStorage(36161,Me,L.width,L.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(L.depthBuffer&&L.stencilBuffer){const Me=Ye(L);oe&&Je(L)===!1?n.renderbufferStorageMultisample(36161,Me,35056,L.width,L.height):Je(L)?p.renderbufferStorageMultisampleEXT(36161,Me,35056,L.width,L.height):n.renderbufferStorage(36161,34041,L.width,L.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const Me=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let Ce=0;Ce<Me.length;Ce++){const Pe=Me[Ce],it=s.convert(Pe.format,Pe.encoding),ke=s.convert(Pe.type),ye=C(Pe.internalFormat,it,ke,Pe.encoding),Ke=Ye(L);oe&&Je(L)===!1?n.renderbufferStorageMultisample(36161,Ke,ye,L.width,L.height):Je(L)?p.renderbufferStorageMultisampleEXT(36161,Ke,ye,L.width,L.height):n.renderbufferStorage(36161,ye,L.width,L.height)}}n.bindRenderbuffer(36161,null)}function de(z,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),G(L.depthTexture,0);const Me=i.get(L.depthTexture).__webglTexture,Ce=Ye(L);if(L.depthTexture.format===aa)Je(L)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Me,0,Ce):n.framebufferTexture2D(36160,36096,3553,Me,0);else if(L.depthTexture.format===Bl)Je(L)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Me,0,Ce):n.framebufferTexture2D(36160,33306,3553,Me,0);else throw new Error("Unknown depthTexture format")}function ae(z){const L=i.get(z),oe=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!L.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");de(L.__webglFramebuffer,z)}else if(oe){L.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)t.bindFramebuffer(36160,L.__webglFramebuffer[Me]),L.__webglDepthbuffer[Me]=n.createRenderbuffer(),Fe(L.__webglDepthbuffer[Me],z,!1)}else t.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),Fe(L.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function be(z,L,oe){const Me=i.get(z);L!==void 0&&Ae(Me.__webglFramebuffer,z,z.texture,36064,3553),oe!==void 0&&ae(z)}function Ge(z){const L=z.texture,oe=i.get(z),Me=i.get(L);z.addEventListener("dispose",Y),z.isWebGLMultipleRenderTargets!==!0&&(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=L.version,o.memory.textures++);const Ce=z.isWebGLCubeRenderTarget===!0,Pe=z.isWebGLMultipleRenderTargets===!0,it=S(z)||a;if(Ce){oe.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)oe.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),Pe)if(r.drawBuffers){const ke=z.texture;for(let ye=0,Ke=ke.length;ye<Ke;ye++){const J=i.get(ke[ye]);J.__webglTexture===void 0&&(J.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&Je(z)===!1){const ke=Pe?L:[L];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let ye=0;ye<ke.length;ye++){const Ke=ke[ye];oe.__webglColorRenderbuffer[ye]=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[ye]);const J=s.convert(Ke.format,Ke.encoding),le=s.convert(Ke.type),we=C(Ke.internalFormat,J,le,Ke.encoding,z.isXRRenderTarget===!0),Te=Ye(z);n.renderbufferStorageMultisample(36161,Te,we,z.width,z.height),n.framebufferRenderbuffer(36160,36064+ye,36161,oe.__webglColorRenderbuffer[ye])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(oe.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,Me.__webglTexture),Z(34067,L,it);for(let ke=0;ke<6;ke++)Ae(oe.__webglFramebuffer[ke],z,L,36064,34069+ke);P(L,it)&&R(34067),t.unbindTexture()}else if(Pe){const ke=z.texture;for(let ye=0,Ke=ke.length;ye<Ke;ye++){const J=ke[ye],le=i.get(J);t.bindTexture(3553,le.__webglTexture),Z(3553,J,it),Ae(oe.__webglFramebuffer,z,J,36064+ye,3553),P(J,it)&&R(3553)}t.unbindTexture()}else{let ke=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?ke=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,Me.__webglTexture),Z(ke,L,it),Ae(oe.__webglFramebuffer,z,L,36064,ke),P(L,it)&&R(ke),t.unbindTexture()}z.depthBuffer&&ae(z)}function Be(z){const L=S(z)||a,oe=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Me=0,Ce=oe.length;Me<Ce;Me++){const Pe=oe[Me];if(P(Pe,L)){const it=z.isWebGLCubeRenderTarget?34067:3553,ke=i.get(Pe).__webglTexture;t.bindTexture(it,ke),R(it),t.unbindTexture()}}}function $e(z){if(a&&z.samples>0&&Je(z)===!1){const L=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],oe=z.width,Me=z.height;let Ce=16384;const Pe=[],it=z.stencilBuffer?33306:36096,ke=i.get(z),ye=z.isWebGLMultipleRenderTargets===!0;if(ye)for(let Ke=0;Ke<L.length;Ke++)t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,null),t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,null,0);t.bindFramebuffer(36008,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ke.__webglFramebuffer);for(let Ke=0;Ke<L.length;Ke++){Pe.push(36064+Ke),z.depthBuffer&&Pe.push(it);const J=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(J===!1&&(z.depthBuffer&&(Ce|=256),z.stencilBuffer&&(Ce|=1024)),ye&&n.framebufferRenderbuffer(36008,36064,36161,ke.__webglColorRenderbuffer[Ke]),J===!0&&(n.invalidateFramebuffer(36008,[it]),n.invalidateFramebuffer(36009,[it])),ye){const le=i.get(L[Ke]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,le,0)}n.blitFramebuffer(0,0,oe,Me,0,0,oe,Me,Ce,9728),m&&n.invalidateFramebuffer(36008,Pe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ye)for(let Ke=0;Ke<L.length;Ke++){t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,ke.__webglColorRenderbuffer[Ke]);const J=i.get(L[Ke]).__webglTexture;t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,J,0)}t.bindFramebuffer(36009,ke.__webglMultisampledFramebuffer)}}function Ye(z){return Math.min(d,z.samples)}function Je(z){const L=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function wt(z){const L=o.render.frame;g.get(z)!==L&&(g.set(z,L),z.update())}function Ct(z,L){const oe=z.encoding,Me=z.format,Ce=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===l0||oe!==ho&&(oe===Tt?a===!1?e.has("EXT_sRGB")===!0&&Me===Ri?(z.format=l0,z.minFilter=un,z.generateMipmaps=!1):L=dM.sRGBToLinear(L):(Me!==Ri||Ce!==co)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),L}this.allocateTextureUnit=I,this.resetTextureUnits=ne,this.setTexture2D=G,this.setTexture2DArray=$,this.setTexture3D=V,this.setTextureCube=se,this.rebindTextures=be,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=ae,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=Je}function $I(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===co)return 5121;if(s===_I)return 32819;if(s===wI)return 32820;if(s===yI)return 5120;if(s===vI)return 5122;if(s===uM)return 5123;if(s===xI)return 5124;if(s===Jo)return 5125;if(s===$s)return 5126;if(s===gc)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===AI)return 6406;if(s===Ri)return 6408;if(s===MI)return 6409;if(s===SI)return 6410;if(s===aa)return 6402;if(s===Bl)return 34041;if(s===l0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===bI)return 6403;if(s===CI)return 36244;if(s===EI)return 33319;if(s===TI)return 33320;if(s===PI)return 36249;if(s===wg||s===Ag||s===Mg||s===Sg)if(o===Tt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===wg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ag)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Mg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===wg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ag)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Mg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Sg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===U_||s===G_||s===H_||s===V_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===U_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===G_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===H_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===V_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===BI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===W_||s===j_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===W_)return o===Tt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===j_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===J_||s===X_||s===Y_||s===K_||s===Q_||s===q_||s===Z_||s===$_||s===ew||s===tw||s===nw||s===iw||s===rw||s===sw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===J_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===X_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Y_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===K_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Q_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===q_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Z_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===$_)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ew)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tw)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===nw)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===iw)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rw)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===sw)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===bg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===bg)return o===Tt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===RI||s===ow||s===aw||s===lw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===bg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===ow)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===aw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===lw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===_l?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class eL extends Jt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class to extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bV={type:"move"};class kx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new to,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new to,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new to,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,i),w=this._getHandJoint(u,v);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(bV)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new to;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class tL extends sn{constructor(e,t,i,r,s,o,a,l,u,f){if(f=f!==void 0?f:aa,f!==aa&&f!==Bl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===aa&&(i=Jo),i===void 0&&f===Bl&&(i=_l),super(null,r,s,o,a,l,f,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:_n,this.minFilter=l!==void 0?l:_n,this.flipY=!1,this.generateMipmaps=!1}}class CV extends Cs{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,d=null,p=null,m=null,g=null;const v=t.getContextAttributes();let x=null,w=null;const _=[],A=[],S=new Set,E=new Map,P=new Jt;P.layers.enable(1),P.viewport=new zt;const R=new Jt;R.layers.enable(2),R.viewport=new zt;const C=[P,R],B=new eL;B.layers.enable(1),B.layers.enable(2);let D=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let se=_[V];return se===void 0&&(se=new kx,_[V]=se),se.getTargetRaySpace()},this.getControllerGrip=function(V){let se=_[V];return se===void 0&&(se=new kx,_[V]=se),se.getGripSpace()},this.getHand=function(V){let se=_[V];return se===void 0&&(se=new kx,_[V]=se),se.getHandSpace()};function Y(V){const se=A.indexOf(V.inputSource);if(se===-1)return;const he=_[se];he!==void 0&&he.dispatchEvent({type:V.type,data:V.inputSource})}function W(){r.removeEventListener("select",Y),r.removeEventListener("selectstart",Y),r.removeEventListener("selectend",Y),r.removeEventListener("squeeze",Y),r.removeEventListener("squeezestart",Y),r.removeEventListener("squeezeend",Y),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",j);for(let V=0;V<_.length;V++){const se=A[V];se!==null&&(A[V]=null,_[V].disconnect(se))}D=null,O=null,e.setRenderTarget(x),m=null,p=null,d=null,r=null,w=null,$.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(V){u=V},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",Y),r.addEventListener("selectstart",Y),r.addEventListener("selectend",Y),r.addEventListener("squeeze",Y),r.addEventListener("squeezestart",Y),r.addEventListener("squeezeend",Y),r.addEventListener("end",W),r.addEventListener("inputsourceschange",j),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,se),r.updateRenderState({baseLayer:m}),w=new $r(m.framebufferWidth,m.framebufferHeight,{format:Ri,type:co,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let se=null,he=null,xe=null;v.depth&&(xe=v.stencil?35056:33190,se=v.stencil?Bl:aa,he=v.stencil?_l:Jo);const Z={colorFormat:32856,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(Z),r.updateRenderState({layers:[p]}),w=new $r(p.textureWidth,p.textureHeight,{format:Ri,type:co,depthTexture:new tL(p.textureWidth,p.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const De=e.properties.get(w);De.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),$.setContext(r),$.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function j(V){for(let se=0;se<V.removed.length;se++){const he=V.removed[se],xe=A.indexOf(he);xe>=0&&(A[xe]=null,_[xe].disconnect(he))}for(let se=0;se<V.added.length;se++){const he=V.added[se];let xe=A.indexOf(he);if(xe===-1){for(let De=0;De<_.length;De++)if(De>=A.length){A.push(he),xe=De;break}else if(A[De]===null){A[De]=he,xe=De;break}if(xe===-1)break}const Z=_[xe];Z&&Z.connect(he)}}const X=new F,ee=new F;function ne(V,se,he){X.setFromMatrixPosition(se.matrixWorld),ee.setFromMatrixPosition(he.matrixWorld);const xe=X.distanceTo(ee),Z=se.projectionMatrix.elements,De=he.projectionMatrix.elements,ze=Z[14]/(Z[10]-1),We=Z[14]/(Z[10]+1),Ae=(Z[9]+1)/Z[5],Fe=(Z[9]-1)/Z[5],de=(Z[8]-1)/Z[0],ae=(De[8]+1)/De[0],be=ze*de,Ge=ze*ae,Be=xe/(-de+ae),$e=Be*-de;se.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX($e),V.translateZ(Be),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Ye=ze+Be,Je=We+Be,wt=be-$e,Ct=Ge+(xe-$e),z=Ae*We/Je*Ye,L=Fe*We/Je*Ye;V.projectionMatrix.makePerspective(wt,Ct,z,L,Ye,Je)}function I(V,se){se===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(se.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;B.near=R.near=P.near=V.near,B.far=R.far=P.far=V.far,(D!==B.near||O!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),D=B.near,O=B.far);const se=V.parent,he=B.cameras;I(B,se);for(let Z=0;Z<he.length;Z++)I(he[Z],se);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),V.matrix.copy(B.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale);const xe=V.children;for(let Z=0,De=xe.length;Z<De;Z++)xe[Z].updateMatrixWorld(!0);he.length===2?ne(B,P,R):B.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return B},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(V){l=V,p!==null&&(p.fixedFoveation=V),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=V)},this.getPlanes=function(){return S};let U=null;function G(V,se){if(f=se.getViewerPose(u||o),g=se,f!==null){const he=f.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let xe=!1;he.length!==B.cameras.length&&(B.cameras.length=0,xe=!0);for(let Z=0;Z<he.length;Z++){const De=he[Z];let ze=null;if(m!==null)ze=m.getViewport(De);else{const Ae=d.getViewSubImage(p,De);ze=Ae.viewport,Z===0&&(e.setRenderTargetTextures(w,Ae.colorTexture,p.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(w))}let We=C[Z];We===void 0&&(We=new Jt,We.layers.enable(Z),We.viewport=new zt,C[Z]=We),We.matrix.fromArray(De.transform.matrix),We.projectionMatrix.fromArray(De.projectionMatrix),We.viewport.set(ze.x,ze.y,ze.width,ze.height),Z===0&&B.matrix.copy(We.matrix),xe===!0&&B.cameras.push(We)}}for(let he=0;he<_.length;he++){const xe=A[he],Z=_[he];xe!==null&&Z!==void 0&&Z.update(xe,se,u||o)}if(U&&U(V,se),se.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:se.detectedPlanes});let he=null;for(const xe of S)se.detectedPlanes.has(xe)||(he===null&&(he=[]),he.push(xe));if(he!==null)for(const xe of he)S.delete(xe),E.delete(xe),i.dispatchEvent({type:"planeremoved",data:xe});for(const xe of se.detectedPlanes)if(!S.has(xe))S.add(xe),E.set(xe,se.lastChangedTime),i.dispatchEvent({type:"planeadded",data:xe});else{const Z=E.get(xe);xe.lastChangedTime>Z&&(E.set(xe,xe.lastChangedTime),i.dispatchEvent({type:"planechanged",data:xe}))}}g=null}const $=new YI;$.setAnimationLoop(G),this.setAnimationLoop=function(V){U=V},this.dispose=function(){}}}function EV(n,e){function t(v,x){x.color.getRGB(v.fogColor.value,WI(n)),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function i(v,x,w,_,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(v,x):x.isMeshToonMaterial?(r(v,x),f(v,x)):x.isMeshPhongMaterial?(r(v,x),u(v,x)):x.isMeshStandardMaterial?(r(v,x),d(v,x),x.isMeshPhysicalMaterial&&p(v,x,A)):x.isMeshMatcapMaterial?(r(v,x),m(v,x)):x.isMeshDepthMaterial?r(v,x):x.isMeshDistanceMaterial?(r(v,x),g(v,x)):x.isMeshNormalMaterial?r(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,w,_):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===ki&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===ki&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let A;x.aoMap?A=x.aoMap:x.lightMap&&(A=x.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),v.uv2Transform.value.copy(A.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,w,_){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*w,v.scale.value=_*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),v.uvTransform.value.copy(A.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function u(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function f(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function d(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function p(v,x,w){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===ki&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function m(v,x){x.matcap&&(v.matcap.value=x.matcap)}function g(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function TV(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,A){const S=A.program;i.uniformBlockBinding(_,S)}function u(_,A){let S=r[_.id];S===void 0&&(g(_),S=f(_),r[_.id]=S,_.addEventListener("dispose",x));const E=A.program;i.updateUBOMapping(_,E);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function f(_){const A=d();_.__bindingPointIndex=A;const S=n.createBuffer(),E=_.__size,P=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,E,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,A,S),S}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const A=r[_.id],S=_.uniforms,E=_.__cache;n.bindBuffer(35345,A);for(let P=0,R=S.length;P<R;P++){const C=S[P];if(m(C,P,E)===!0){const B=C.__offset,D=Array.isArray(C.value)?C.value:[C.value];let O=0;for(let Y=0;Y<D.length;Y++){const W=D[Y],j=v(W);typeof W=="number"?(C.__data[0]=W,n.bufferSubData(35345,B+O,C.__data)):W.isMatrix3?(C.__data[0]=W.elements[0],C.__data[1]=W.elements[1],C.__data[2]=W.elements[2],C.__data[3]=W.elements[0],C.__data[4]=W.elements[3],C.__data[5]=W.elements[4],C.__data[6]=W.elements[5],C.__data[7]=W.elements[0],C.__data[8]=W.elements[6],C.__data[9]=W.elements[7],C.__data[10]=W.elements[8],C.__data[11]=W.elements[0]):(W.toArray(C.__data,O),O+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,B,C.__data)}}n.bindBuffer(35345,null)}function m(_,A,S){const E=_.value;if(S[A]===void 0){if(typeof E=="number")S[A]=E;else{const P=Array.isArray(E)?E:[E],R=[];for(let C=0;C<P.length;C++)R.push(P[C].clone());S[A]=R}return!0}else if(typeof E=="number"){if(S[A]!==E)return S[A]=E,!0}else{const P=Array.isArray(S[A])?S[A]:[S[A]],R=Array.isArray(E)?E:[E];for(let C=0;C<P.length;C++){const B=P[C];if(B.equals(R[C])===!1)return B.copy(R[C]),!0}}return!1}function g(_){const A=_.uniforms;let S=0;const E=16;let P=0;for(let R=0,C=A.length;R<C;R++){const B=A[R],D={boundary:0,storage:0},O=Array.isArray(B.value)?B.value:[B.value];for(let Y=0,W=O.length;Y<W;Y++){const j=O[Y],X=v(j);D.boundary+=X.boundary,D.storage+=X.storage}if(B.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=S,R>0){P=S%E;const Y=E-P;P!==0&&Y-D.boundary<0&&(S+=E-P,B.__offset=S)}S+=D.storage}return P=S%E,P>0&&(S+=E-P),_.__size=S,_.__cache={},this}function v(_){const A={boundary:0,storage:0};return typeof _=="number"?(A.boundary=4,A.storage=4):_.isVector2?(A.boundary=8,A.storage=8):_.isVector3||_.isColor?(A.boundary=16,A.storage=12):_.isVector4?(A.boundary=16,A.storage=16):_.isMatrix3?(A.boundary=48,A.storage=48):_.isMatrix4?(A.boundary=64,A.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),A}function x(_){const A=_.target;A.removeEventListener("dispose",x);const S=o.indexOf(A.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function w(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:u,dispose:w}}function PV(){const n=Wf("canvas");return n.style.display="block",n}function _M(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:PV(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ho,this.physicallyCorrectLights=!1,this.toneMapping=Kr,this.toneMappingExposure=1;const v=this;let x=!1,w=0,_=0,A=null,S=-1,E=null;const P=new zt,R=new zt;let C=null,B=e.width,D=e.height,O=1,Y=null,W=null;const j=new zt(0,0,B,D),X=new zt(0,0,B,D);let ee=!1;const ne=new iy;let I=!1,U=!1,G=null;const $=new ot,V=new ge,se=new F,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return A===null?O:1}let Z=t;function De(k,ie){for(let pe=0;pe<k.length;pe++){const te=k[pe],ve=e.getContext(te,ie);if(ve!==null)return ve}return null}try{const k={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${q0}`),e.addEventListener("webglcontextlost",we,!1),e.addEventListener("webglcontextrestored",Te,!1),e.addEventListener("webglcontextcreationerror",tt,!1),Z===null){const ie=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ie.shift(),Z=De(ie,k),Z===null)throw De(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let ze,We,Ae,Fe,de,ae,be,Ge,Be,$e,Ye,Je,wt,Ct,z,L,oe,Me,Ce,Pe,it,ke,ye,Ke;function J(){ze=new j9(Z),We=new z9(Z,ze,n),ze.init(We),ke=new $I(Z,ze,We),Ae=new MV(Z,ze,We),Fe=new Y9,de=new hV,ae=new SV(Z,ze,Ae,de,We,ke,Fe),be=new G9(v),Ge=new W9(v),Be=new iU(Z,We),ye=new O9(Z,ze,Be,We),$e=new J9(Z,Be,Fe,ye),Ye=new Z9(Z,$e,Be,Fe),Ce=new q9(Z,We,ae),L=new U9(de),Je=new cV(v,be,Ge,ze,We,ye,L),wt=new EV(v,de),Ct=new dV,z=new xV(ze,We),Me=new k9(v,be,Ge,Ae,Ye,f,o),oe=new AV(v,Ye,We),Ke=new TV(Z,Fe,We,Ae),Pe=new N9(Z,ze,Fe,We),it=new X9(Z,ze,Fe,We),Fe.programs=Je.programs,v.capabilities=We,v.extensions=ze,v.properties=de,v.renderLists=Ct,v.shadowMap=oe,v.state=Ae,v.info=Fe}J();const le=new CV(v,Z);this.xr=le,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const k=ze.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=ze.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(k){k!==void 0&&(O=k,this.setSize(B,D,!1))},this.getSize=function(k){return k.set(B,D)},this.setSize=function(k,ie,pe){if(le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=k,D=ie,e.width=Math.floor(k*O),e.height=Math.floor(ie*O),pe!==!1&&(e.style.width=k+"px",e.style.height=ie+"px"),this.setViewport(0,0,k,ie)},this.getDrawingBufferSize=function(k){return k.set(B*O,D*O).floor()},this.setDrawingBufferSize=function(k,ie,pe){B=k,D=ie,O=pe,e.width=Math.floor(k*pe),e.height=Math.floor(ie*pe),this.setViewport(0,0,k,ie)},this.getCurrentViewport=function(k){return k.copy(P)},this.getViewport=function(k){return k.copy(j)},this.setViewport=function(k,ie,pe,te){k.isVector4?j.set(k.x,k.y,k.z,k.w):j.set(k,ie,pe,te),Ae.viewport(P.copy(j).multiplyScalar(O).floor())},this.getScissor=function(k){return k.copy(X)},this.setScissor=function(k,ie,pe,te){k.isVector4?X.set(k.x,k.y,k.z,k.w):X.set(k,ie,pe,te),Ae.scissor(R.copy(X).multiplyScalar(O).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(k){Ae.setScissorTest(ee=k)},this.setOpaqueSort=function(k){Y=k},this.setTransparentSort=function(k){W=k},this.getClearColor=function(k){return k.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(k=!0,ie=!0,pe=!0){let te=0;k&&(te|=16384),ie&&(te|=256),pe&&(te|=1024),Z.clear(te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",we,!1),e.removeEventListener("webglcontextrestored",Te,!1),e.removeEventListener("webglcontextcreationerror",tt,!1),Ct.dispose(),z.dispose(),de.dispose(),be.dispose(),Ge.dispose(),Ye.dispose(),ye.dispose(),Ke.dispose(),Je.dispose(),le.dispose(),le.removeEventListener("sessionstart",Ue),le.removeEventListener("sessionend",qe),G&&(G.dispose(),G=null),Rt.stop()};function we(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const k=Fe.autoReset,ie=oe.enabled,pe=oe.autoUpdate,te=oe.needsUpdate,ve=oe.type;J(),Fe.autoReset=k,oe.enabled=ie,oe.autoUpdate=pe,oe.needsUpdate=te,oe.type=ve}function tt(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function _t(k){const ie=k.target;ie.removeEventListener("dispose",_t),Yt(ie)}function Yt(k){Q(k),de.remove(k)}function Q(k){const ie=de.get(k).programs;ie!==void 0&&(ie.forEach(function(pe){Je.releaseProgram(pe)}),k.isShaderMaterial&&Je.releaseShaderCache(k))}this.renderBufferDirect=function(k,ie,pe,te,ve,et){ie===null&&(ie=he);const st=ve.isMesh&&ve.matrixWorld.determinant()<0,pt=Dy(k,ie,pe,te,ve);Ae.setMaterial(te,st);let vt=pe.index,Et=1;te.wireframe===!0&&(vt=$e.getWireframeAttribute(pe),Et=2);const Mt=pe.drawRange,St=pe.attributes.position;let mn=Mt.start*Et,hi=(Mt.start+Mt.count)*Et;et!==null&&(mn=Math.max(mn,et.start*Et),hi=Math.min(hi,(et.start+et.count)*Et)),vt!==null?(mn=Math.max(mn,0),hi=Math.min(hi,vt.count)):St!=null&&(mn=Math.max(mn,0),hi=Math.min(hi,St.count));const Br=hi-mn;if(Br<0||Br===1/0)return;ye.setup(ve,te,pt,pe,vt);let Es,$t=Pe;if(vt!==null&&(Es=Be.get(vt),$t=it,$t.setIndex(Es)),ve.isMesh)te.wireframe===!0?(Ae.setLineWidth(te.wireframeLinewidth*xe()),$t.setMode(1)):$t.setMode(4);else if(ve.isLine){let mt=te.linewidth;mt===void 0&&(mt=1),Ae.setLineWidth(mt*xe()),ve.isLineSegments?$t.setMode(1):ve.isLineLoop?$t.setMode(2):$t.setMode(3)}else ve.isPoints?$t.setMode(0):ve.isSprite&&$t.setMode(4);if(ve.isInstancedMesh)$t.renderInstances(mn,Br,ve.count);else if(pe.isInstancedBufferGeometry){const mt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Pa=Math.min(pe.instanceCount,mt);$t.renderInstances(mn,Br,Pa)}else $t.render(mn,Br)},this.compile=function(k,ie){function pe(te,ve,et){te.transparent===!0&&te.side===Wr&&te.forceSinglePass===!1?(te.side=ki,te.needsUpdate=!0,Si(te,ve,et),te.side=As,te.needsUpdate=!0,Si(te,ve,et),te.side=Wr):Si(te,ve,et)}p=z.get(k),p.init(),g.push(p),k.traverseVisible(function(te){te.isLight&&te.layers.test(ie.layers)&&(p.pushLight(te),te.castShadow&&p.pushShadow(te))}),p.setupLights(v.physicallyCorrectLights),k.traverse(function(te){const ve=te.material;if(ve)if(Array.isArray(ve))for(let et=0;et<ve.length;et++){const st=ve[et];pe(st,k,te)}else pe(ve,k,te)}),g.pop(),p=null};let ce=null;function _e(k){ce&&ce(k)}function Ue(){Rt.stop()}function qe(){Rt.start()}const Rt=new YI;Rt.setAnimationLoop(_e),typeof self<"u"&&Rt.setContext(self),this.setAnimationLoop=function(k){ce=k,le.setAnimationLoop(k),k===null?Rt.stop():Rt.start()},le.addEventListener("sessionstart",Ue),le.addEventListener("sessionend",qe),this.render=function(k,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),le.enabled===!0&&le.isPresenting===!0&&(le.cameraAutoUpdate===!0&&le.updateCamera(ie),ie=le.getCamera()),k.isScene===!0&&k.onBeforeRender(v,k,ie,A),p=z.get(k,g.length),p.init(),g.push(p),$.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ne.setFromProjectionMatrix($),U=this.localClippingEnabled,I=L.init(this.clippingPlanes,U),d=Ct.get(k,m.length),d.init(),m.push(d),wn(k,ie,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(Y,W),I===!0&&L.beginShadows();const pe=p.state.shadowsArray;if(oe.render(pe,k,ie),I===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),Me.render(d,k),p.setupLights(v.physicallyCorrectLights),ie.isArrayCamera){const te=ie.cameras;for(let ve=0,et=te.length;ve<et;ve++){const st=te[ve];Nn(d,k,st,st.viewport)}}else Nn(d,k,ie);A!==null&&(ae.updateMultisampleRenderTarget(A),ae.updateRenderTargetMipmap(A)),k.isScene===!0&&k.onAfterRender(v,k,ie),ye.resetDefaultState(),S=-1,E=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function wn(k,ie,pe,te){if(k.visible===!1)return;if(k.layers.test(ie.layers)){if(k.isGroup)pe=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(ie);else if(k.isLight)p.pushLight(k),k.castShadow&&p.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||ne.intersectsSprite(k)){te&&se.setFromMatrixPosition(k.matrixWorld).applyMatrix4($);const st=Ye.update(k),pt=k.material;pt.visible&&d.push(k,st,pt,pe,se.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(k.isSkinnedMesh&&k.skeleton.frame!==Fe.render.frame&&(k.skeleton.update(),k.skeleton.frame=Fe.render.frame),!k.frustumCulled||ne.intersectsObject(k))){te&&se.setFromMatrixPosition(k.matrixWorld).applyMatrix4($);const st=Ye.update(k),pt=k.material;if(Array.isArray(pt)){const vt=st.groups;for(let Et=0,Mt=vt.length;Et<Mt;Et++){const St=vt[Et],mn=pt[St.materialIndex];mn&&mn.visible&&d.push(k,st,mn,pe,se.z,St)}}else pt.visible&&d.push(k,st,pt,pe,se.z,null)}}const et=k.children;for(let st=0,pt=et.length;st<pt;st++)wn(et[st],ie,pe,te)}function Nn(k,ie,pe,te){const ve=k.opaque,et=k.transmissive,st=k.transparent;p.setupLightsView(pe),I===!0&&L.setGlobalState(v.clippingPlanes,pe),et.length>0&&rs(ve,ie,pe),te&&Ae.viewport(P.copy(te)),ve.length>0&&Vt(ve,ie,pe),et.length>0&&Vt(et,ie,pe),st.length>0&&Vt(st,ie,pe),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function rs(k,ie,pe){const te=We.isWebGL2;G===null&&(G=new $r(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")?gc:co,minFilter:Ms,samples:te&&s===!0?4:0})),v.getDrawingBufferSize(V),te?G.setSize(V.x,V.y):G.setSize(u0(V.x),u0(V.y));const ve=v.getRenderTarget();v.setRenderTarget(G),v.clear();const et=v.toneMapping;v.toneMapping=Kr,Vt(k,ie,pe),v.toneMapping=et,ae.updateMultisampleRenderTarget(G),ae.updateRenderTargetMipmap(G),v.setRenderTarget(ve)}function Vt(k,ie,pe){const te=ie.isScene===!0?ie.overrideMaterial:null;for(let ve=0,et=k.length;ve<et;ve++){const st=k[ve],pt=st.object,vt=st.geometry,Et=te===null?st.material:te,Mt=st.group;pt.layers.test(pe.layers)&&ir(pt,ie,pe,vt,Et,Mt)}}function ir(k,ie,pe,te,ve,et){k.onBeforeRender(v,ie,pe,te,ve,et),k.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),ve.onBeforeRender(v,ie,pe,te,k,et),ve.transparent===!0&&ve.side===Wr&&ve.forceSinglePass===!1?(ve.side=ki,ve.needsUpdate=!0,v.renderBufferDirect(pe,ie,te,ve,k,et),ve.side=As,ve.needsUpdate=!0,v.renderBufferDirect(pe,ie,te,ve,k,et),ve.side=Wr):v.renderBufferDirect(pe,ie,te,ve,k,et),k.onAfterRender(v,ie,pe,te,ve,et)}function Si(k,ie,pe){ie.isScene!==!0&&(ie=he);const te=de.get(k),ve=p.state.lights,et=p.state.shadowsArray,st=ve.state.version,pt=Je.getParameters(k,ve.state,et,ie,pe),vt=Je.getProgramCacheKey(pt);let Et=te.programs;te.environment=k.isMeshStandardMaterial?ie.environment:null,te.fog=ie.fog,te.envMap=(k.isMeshStandardMaterial?Ge:be).get(k.envMap||te.environment),Et===void 0&&(k.addEventListener("dispose",_t),Et=new Map,te.programs=Et);let Mt=Et.get(vt);if(Mt!==void 0){if(te.currentProgram===Mt&&te.lightsStateVersion===st)return Zd(k,pt),Mt}else pt.uniforms=Je.getUniforms(k),k.onBuild(pe,pt,v),k.onBeforeCompile(pt,v),Mt=Je.acquireProgram(pt,vt),Et.set(vt,Mt),te.uniforms=pt.uniforms;const St=te.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(St.clippingPlanes=L.uniform),Zd(k,pt),te.needsLights=Uc(k),te.lightsStateVersion=st,te.needsLights&&(St.ambientLightColor.value=ve.state.ambient,St.lightProbe.value=ve.state.probe,St.directionalLights.value=ve.state.directional,St.directionalLightShadows.value=ve.state.directionalShadow,St.spotLights.value=ve.state.spot,St.spotLightShadows.value=ve.state.spotShadow,St.rectAreaLights.value=ve.state.rectArea,St.ltc_1.value=ve.state.rectAreaLTC1,St.ltc_2.value=ve.state.rectAreaLTC2,St.pointLights.value=ve.state.point,St.pointLightShadows.value=ve.state.pointShadow,St.hemisphereLights.value=ve.state.hemi,St.directionalShadowMap.value=ve.state.directionalShadowMap,St.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,St.spotShadowMap.value=ve.state.spotShadowMap,St.spotLightMatrix.value=ve.state.spotLightMatrix,St.spotLightMap.value=ve.state.spotLightMap,St.pointShadowMap.value=ve.state.pointShadowMap,St.pointShadowMatrix.value=ve.state.pointShadowMatrix);const mn=Mt.getUniforms(),hi=Pg.seqWithValue(mn.seq,St);return te.currentProgram=Mt,te.uniformsList=hi,Mt}function Zd(k,ie){const pe=de.get(k);pe.outputEncoding=ie.outputEncoding,pe.instancing=ie.instancing,pe.skinning=ie.skinning,pe.morphTargets=ie.morphTargets,pe.morphNormals=ie.morphNormals,pe.morphColors=ie.morphColors,pe.morphTargetsCount=ie.morphTargetsCount,pe.numClippingPlanes=ie.numClippingPlanes,pe.numIntersection=ie.numClipIntersection,pe.vertexAlphas=ie.vertexAlphas,pe.vertexTangents=ie.vertexTangents,pe.toneMapping=ie.toneMapping}function Dy(k,ie,pe,te,ve){ie.isScene!==!0&&(ie=he),ae.resetTextureUnits();const et=ie.fog,st=te.isMeshStandardMaterial?ie.environment:null,pt=A===null?v.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:ho,vt=(te.isMeshStandardMaterial?Ge:be).get(te.envMap||st),Et=te.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Mt=!!te.normalMap&&!!pe.attributes.tangent,St=!!pe.morphAttributes.position,mn=!!pe.morphAttributes.normal,hi=!!pe.morphAttributes.color,Br=te.toneMapped?v.toneMapping:Kr,Es=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,$t=Es!==void 0?Es.length:0,mt=de.get(te),Pa=p.state.lights;if(I===!0&&(U===!0||k!==E)){const Nt=k===E&&te.id===S;L.setState(te,k,Nt)}let gn=!1;te.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==Pa.state.version||mt.outputEncoding!==pt||ve.isInstancedMesh&&mt.instancing===!1||!ve.isInstancedMesh&&mt.instancing===!0||ve.isSkinnedMesh&&mt.skinning===!1||!ve.isSkinnedMesh&&mt.skinning===!0||mt.envMap!==vt||te.fog===!0&&mt.fog!==et||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==L.numPlanes||mt.numIntersection!==L.numIntersection)||mt.vertexAlphas!==Et||mt.vertexTangents!==Mt||mt.morphTargets!==St||mt.morphNormals!==mn||mt.morphColors!==hi||mt.toneMapping!==Br||We.isWebGL2===!0&&mt.morphTargetsCount!==$t)&&(gn=!0):(gn=!0,mt.__version=te.version);let Ts=mt.currentProgram;gn===!0&&(Ts=Si(te,ie,ve));let Jl=!1,rr=!1,sr=!1;const dt=Ts.getUniforms(),Pt=mt.uniforms;if(Ae.useProgram(Ts.program)&&(Jl=!0,rr=!0,sr=!0),te.id!==S&&(S=te.id,rr=!0),Jl||E!==k){if(dt.setValue(Z,"projectionMatrix",k.projectionMatrix),We.logarithmicDepthBuffer&&dt.setValue(Z,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),E!==k&&(E=k,rr=!0,sr=!0),te.isShaderMaterial||te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshStandardMaterial||te.envMap){const Nt=dt.map.cameraPosition;Nt!==void 0&&Nt.setValue(Z,se.setFromMatrixPosition(k.matrixWorld))}(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial)&&dt.setValue(Z,"isOrthographic",k.isOrthographicCamera===!0),(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial||te.isShadowMaterial||ve.isSkinnedMesh)&&dt.setValue(Z,"viewMatrix",k.matrixWorldInverse)}if(ve.isSkinnedMesh){dt.setOptional(Z,ve,"bindMatrix"),dt.setOptional(Z,ve,"bindMatrixInverse");const Nt=ve.skeleton;Nt&&(We.floatVertexTextures?(Nt.boneTexture===null&&Nt.computeBoneTexture(),dt.setValue(Z,"boneTexture",Nt.boneTexture,ae),dt.setValue(Z,"boneTextureSize",Nt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const or=pe.morphAttributes;if((or.position!==void 0||or.normal!==void 0||or.color!==void 0&&We.isWebGL2===!0)&&Ce.update(ve,pe,te,Ts),(rr||mt.receiveShadow!==ve.receiveShadow)&&(mt.receiveShadow=ve.receiveShadow,dt.setValue(Z,"receiveShadow",ve.receiveShadow)),te.isMeshGouraudMaterial&&te.envMap!==null&&(Pt.envMap.value=vt,Pt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),rr&&(dt.setValue(Z,"toneMappingExposure",v.toneMappingExposure),mt.needsLights&&$d(Pt,sr),et&&te.fog===!0&&wt.refreshFogUniforms(Pt,et),wt.refreshMaterialUniforms(Pt,te,O,D,G),Pg.upload(Z,mt.uniformsList,Pt,ae)),te.isShaderMaterial&&te.uniformsNeedUpdate===!0&&(Pg.upload(Z,mt.uniformsList,Pt,ae),te.uniformsNeedUpdate=!1),te.isSpriteMaterial&&dt.setValue(Z,"center",ve.center),dt.setValue(Z,"modelViewMatrix",ve.modelViewMatrix),dt.setValue(Z,"normalMatrix",ve.normalMatrix),dt.setValue(Z,"modelMatrix",ve.matrixWorld),te.isShaderMaterial||te.isRawShaderMaterial){const Nt=te.uniformsGroups;for(let zn=0,Ps=Nt.length;zn<Ps;zn++)if(We.isWebGL2){const Bs=Nt[zn];Ke.update(Bs,Ts),Ke.bind(Bs,Ts)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ts}function $d(k,ie){k.ambientLightColor.needsUpdate=ie,k.lightProbe.needsUpdate=ie,k.directionalLights.needsUpdate=ie,k.directionalLightShadows.needsUpdate=ie,k.pointLights.needsUpdate=ie,k.pointLightShadows.needsUpdate=ie,k.spotLights.needsUpdate=ie,k.spotLightShadows.needsUpdate=ie,k.rectAreaLights.needsUpdate=ie,k.hemisphereLights.needsUpdate=ie}function Uc(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(k,ie,pe){de.get(k.texture).__webglTexture=ie,de.get(k.depthTexture).__webglTexture=pe;const te=de.get(k);te.__hasExternalTextures=!0,te.__hasExternalTextures&&(te.__autoAllocateDepthBuffer=pe===void 0,te.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),te.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,ie){const pe=de.get(k);pe.__webglFramebuffer=ie,pe.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(k,ie=0,pe=0){A=k,w=ie,_=pe;let te=!0,ve=null,et=!1,st=!1;if(k){const vt=de.get(k);vt.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer(36160,null),te=!1):vt.__webglFramebuffer===void 0?ae.setupRenderTarget(k):vt.__hasExternalTextures&&ae.rebindTextures(k,de.get(k.texture).__webglTexture,de.get(k.depthTexture).__webglTexture);const Et=k.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(st=!0);const Mt=de.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(ve=Mt[ie],et=!0):We.isWebGL2&&k.samples>0&&ae.useMultisampledRTT(k)===!1?ve=de.get(k).__webglMultisampledFramebuffer:ve=Mt,P.copy(k.viewport),R.copy(k.scissor),C=k.scissorTest}else P.copy(j).multiplyScalar(O).floor(),R.copy(X).multiplyScalar(O).floor(),C=ee;if(Ae.bindFramebuffer(36160,ve)&&We.drawBuffers&&te&&Ae.drawBuffers(k,ve),Ae.viewport(P),Ae.scissor(R),Ae.setScissorTest(C),et){const vt=de.get(k.texture);Z.framebufferTexture2D(36160,36064,34069+ie,vt.__webglTexture,pe)}else if(st){const vt=de.get(k.texture),Et=ie||0;Z.framebufferTextureLayer(36160,36064,vt.__webglTexture,pe||0,Et)}S=-1},this.readRenderTargetPixels=function(k,ie,pe,te,ve,et,st){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=de.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&st!==void 0&&(pt=pt[st]),pt){Ae.bindFramebuffer(36160,pt);try{const vt=k.texture,Et=vt.format,Mt=vt.type;if(Et!==Ri&&ke.convert(Et)!==Z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const St=Mt===gc&&(ze.has("EXT_color_buffer_half_float")||We.isWebGL2&&ze.has("EXT_color_buffer_float"));if(Mt!==co&&ke.convert(Mt)!==Z.getParameter(35738)&&!(Mt===$s&&(We.isWebGL2||ze.has("OES_texture_float")||ze.has("WEBGL_color_buffer_float")))&&!St){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=k.width-te&&pe>=0&&pe<=k.height-ve&&Z.readPixels(ie,pe,te,ve,ke.convert(Et),ke.convert(Mt),et)}finally{const vt=A!==null?de.get(A).__webglFramebuffer:null;Ae.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(k,ie,pe=0){const te=Math.pow(2,-pe),ve=Math.floor(ie.image.width*te),et=Math.floor(ie.image.height*te);ae.setTexture2D(ie,0),Z.copyTexSubImage2D(3553,pe,0,0,k.x,k.y,ve,et),Ae.unbindTexture()},this.copyTextureToTexture=function(k,ie,pe,te=0){const ve=ie.image.width,et=ie.image.height,st=ke.convert(pe.format),pt=ke.convert(pe.type);ae.setTexture2D(pe,0),Z.pixelStorei(37440,pe.flipY),Z.pixelStorei(37441,pe.premultiplyAlpha),Z.pixelStorei(3317,pe.unpackAlignment),ie.isDataTexture?Z.texSubImage2D(3553,te,k.x,k.y,ve,et,st,pt,ie.image.data):ie.isCompressedTexture?Z.compressedTexSubImage2D(3553,te,k.x,k.y,ie.mipmaps[0].width,ie.mipmaps[0].height,st,ie.mipmaps[0].data):Z.texSubImage2D(3553,te,k.x,k.y,st,pt,ie.image),te===0&&pe.generateMipmaps&&Z.generateMipmap(3553),Ae.unbindTexture()},this.copyTextureToTexture3D=function(k,ie,pe,te,ve=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=k.max.x-k.min.x+1,st=k.max.y-k.min.y+1,pt=k.max.z-k.min.z+1,vt=ke.convert(te.format),Et=ke.convert(te.type);let Mt;if(te.isData3DTexture)ae.setTexture3D(te,0),Mt=32879;else if(te.isDataArrayTexture)ae.setTexture2DArray(te,0),Mt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(37440,te.flipY),Z.pixelStorei(37441,te.premultiplyAlpha),Z.pixelStorei(3317,te.unpackAlignment);const St=Z.getParameter(3314),mn=Z.getParameter(32878),hi=Z.getParameter(3316),Br=Z.getParameter(3315),Es=Z.getParameter(32877),$t=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;Z.pixelStorei(3314,$t.width),Z.pixelStorei(32878,$t.height),Z.pixelStorei(3316,k.min.x),Z.pixelStorei(3315,k.min.y),Z.pixelStorei(32877,k.min.z),pe.isDataTexture||pe.isData3DTexture?Z.texSubImage3D(Mt,ve,ie.x,ie.y,ie.z,et,st,pt,vt,Et,$t.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Mt,ve,ie.x,ie.y,ie.z,et,st,pt,vt,$t.data)):Z.texSubImage3D(Mt,ve,ie.x,ie.y,ie.z,et,st,pt,vt,Et,$t),Z.pixelStorei(3314,St),Z.pixelStorei(32878,mn),Z.pixelStorei(3316,hi),Z.pixelStorei(3315,Br),Z.pixelStorei(32877,Es),ve===0&&te.generateMipmaps&&Z.generateMipmap(Mt),Ae.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?ae.setTextureCube(k,0):k.isData3DTexture?ae.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?ae.setTexture2DArray(k,0):ae.setTexture2D(k,0),Ae.unbindTexture()},this.resetState=function(){w=0,_=0,A=null,Ae.reset(),ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class nL extends _M{}nL.prototype.isWebGL1Renderer=!0;class sy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ie(e),this.density=t}clone(){return new sy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class oy{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ie(e),this.near=t,this.far=i}clone(){return new oy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class c0 extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ad{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Hf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const pi=new F;class ga{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=eo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=eo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=eo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=eo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ot(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ga(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wM extends Rn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _u;const wh=new F,wu=new F,Au=new F,Mu=new ge,Ah=new ge,iL=new ot,Pm=new F,Mh=new F,Bm=new F,wT=new ge,Ox=new ge,AT=new ge;class rL extends Lt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_u===void 0){_u=new ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Ad(t,5);_u.setIndex([0,1,2,0,2,3]),_u.setAttribute("position",new ga(i,3,0,!1)),_u.setAttribute("uv",new ga(i,2,3,!1))}this.geometry=_u,this.material=e!==void 0?e:new wM,this.center=new ge(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wu.setFromMatrixScale(this.matrixWorld),iL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Au.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wu.multiplyScalar(-Au.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Rm(Pm.set(-.5,-.5,0),Au,o,wu,r,s),Rm(Mh.set(.5,-.5,0),Au,o,wu,r,s),Rm(Bm.set(.5,.5,0),Au,o,wu,r,s),wT.set(0,0),Ox.set(1,0),AT.set(1,1);let a=e.ray.intersectTriangle(Pm,Mh,Bm,!1,wh);if(a===null&&(Rm(Mh.set(-.5,.5,0),Au,o,wu,r,s),Ox.set(0,1),a=e.ray.intersectTriangle(Pm,Bm,Mh,!1,wh),a===null))return;const l=e.ray.origin.distanceTo(wh);l<e.near||l>e.far||t.push({distance:l,point:wh.clone(),uv:Mr.getUV(wh,Pm,Mh,Bm,wT,Ox,AT,new ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Rm(n,e,t,i,r,s){Mu.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Ah.x=s*Mu.x-r*Mu.y,Ah.y=r*Mu.x+s*Mu.y):Ah.copy(Mu),n.copy(e),n.x+=Ah.x,n.y+=Ah.y,n.applyMatrix4(iL)}const Im=new F,MT=new F;class sL extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Im.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Im);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Im.setFromMatrixPosition(e.matrixWorld),MT.setFromMatrixPosition(this.matrixWorld);const i=Im.distanceTo(MT)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const ST=new F,bT=new zt,CT=new zt,BV=new F,ET=new ot;class AM extends jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ot,this.bindMatrixInverse=new ot}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;bT.fromBufferAttribute(r.attributes.skinIndex,e),CT.fromBufferAttribute(r.attributes.skinWeight,e),ST.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=CT.getComponent(s);if(o!==0){const a=bT.getComponent(s);ET.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(BV.copy(ST).applyMatrix4(ET),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ay extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ec extends sn{constructor(e=null,t=1,i=1,r,s,o,a,l,u=_n,f=_n,d,p){super(null,o,a,l,u,f,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TT=new ot,RV=new ot;class Md{constructor(e=[],t=[]){this.uuid=Ki(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:RV;TT.multiplyMatrices(a,t[s]),TT.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Md(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=UI(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ec(t,e,e,Ri,$s);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ay),this.bones.push(o),this.boneInverses.push(new ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class _c extends Ot{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const PT=new ot,BT=new ot,Lm=[],IV=new ot,Sh=new jn;class oL extends jn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new _c(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,IV)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Sh.geometry=this.geometry,Sh.material=this.material,Sh.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,PT),BT.multiplyMatrices(i,PT),Sh.matrixWorld=BT,Sh.raycast(e,Lm);for(let o=0,a=Lm.length;o<a;o++){const l=Lm[o];l.instanceId=s,l.object=this,t.push(l)}Lm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new _c(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ci extends Rn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RT=new F,IT=new F,LT=new ot,Nx=new vd,Dm=new ba;class fo extends Lt{constructor(e=new ft,t=new ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)RT.fromBufferAttribute(t,r-1),IT.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=RT.distanceTo(IT);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Dm.copy(i.boundingSphere),Dm.applyMatrix4(r),Dm.radius+=s,e.ray.intersectsSphere(Dm)===!1)return;LT.copy(r).invert(),Nx.copy(e.ray).applyMatrix4(LT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,f=new F,d=new F,p=new F,m=this.isLineSegments?2:1,g=i.index,x=i.attributes.position;if(g!==null){const w=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let A=w,S=_-1;A<S;A+=m){const E=g.getX(A),P=g.getX(A+1);if(u.fromBufferAttribute(x,E),f.fromBufferAttribute(x,P),Nx.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let A=w,S=_-1;A<S;A+=m){if(u.fromBufferAttribute(x,A),f.fromBufferAttribute(x,A+1),Nx.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const DT=new F,FT=new F;class ts extends fo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)DT.fromBufferAttribute(t,r),FT.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+DT.distanceTo(FT);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class MM extends fo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ly extends Rn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const kT=new ot,dw=new vd,Fm=new ba,km=new F;class SM extends Lt{constructor(e=new ft,t=new ly){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Fm.copy(i.boundingSphere),Fm.applyMatrix4(r),Fm.radius+=s,e.ray.intersectsSphere(Fm)===!1)return;kT.copy(r).invert(),dw.copy(e.ray).applyMatrix4(kT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,v=m;g<v;g++){const x=u.getX(g);km.fromBufferAttribute(d,x),OT(km,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,v=m;g<v;g++)km.fromBufferAttribute(d,g),OT(km,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function OT(n,e,t,i,r,s,o){const a=dw.distanceSqToPoint(n);if(a<t){const l=new F;dw.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class LV extends sn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:un,this.magFilter=s!==void 0?s:un,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class DV extends sn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=_n,this.minFilter=_n,this.generateMipmaps=!1,this.needsUpdate=!0}}class bM extends sn{constructor(e,t,i,r,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class FV extends bM{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Kn}}class kV extends sn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ns{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ge:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,l=new ot;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=u&&(u=f,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(bn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(bn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class uy extends ns{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ge,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*d+this.aX,u=p*d+m*f+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class aL extends uy{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function CM(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Om=new F,zx=new CM,Ux=new CM,Gx=new CM;class lL extends ns{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=r[(a-1)%s]:(Om.subVectors(r[0],r[1]).add(r[0]),u=Om);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(Om.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=Om),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);v<1e-4&&(v=1),g<1e-4&&(g=v),x<1e-4&&(x=v),zx.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,g,v,x),Ux.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,g,v,x),Gx.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,g,v,x)}else this.curveType==="catmullrom"&&(zx.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),Ux.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),Gx.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return i.set(zx.calc(l),Ux.calc(l),Gx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function NT(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function OV(n,e){const t=1-n;return t*t*e}function NV(n,e){return 2*(1-n)*n*e}function zV(n,e){return n*n*e}function rf(n,e,t,i){return OV(n,e)+NV(n,t)+zV(n,i)}function UV(n,e){const t=1-n;return t*t*t*e}function GV(n,e){const t=1-n;return 3*t*t*n*e}function HV(n,e){return 3*(1-n)*n*n*e}function VV(n,e){return n*n*n*e}function sf(n,e,t,i,r){return UV(n,e)+GV(n,t)+HV(n,i)+VV(n,r)}class EM extends ns{constructor(e=new ge,t=new ge,i=new ge,r=new ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(sf(e,r.x,s.x,o.x,a.x),sf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uL extends ns{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(sf(e,r.x,s.x,o.x,a.x),sf(e,r.y,s.y,o.y,a.y),sf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cy extends ns{constructor(e=new ge,t=new ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ge;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cL extends ns{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TM extends ns{constructor(e=new ge,t=new ge,i=new ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(rf(e,r.x,s.x,o.x),rf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PM extends ns{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(rf(e,r.x,s.x,o.x),rf(e,r.y,s.y,o.y),rf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BM extends ns{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ge){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],f=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(NT(a,l.x,u.x,f.x,d.x),NT(a,l.y,u.y,f.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ge().fromArray(r))}return this}}var RM=Object.freeze({__proto__:null,ArcCurve:aL,CatmullRomCurve3:lL,CubicBezierCurve:EM,CubicBezierCurve3:uL,EllipseCurve:uy,LineCurve:cy,LineCurve3:cL,QuadraticBezierCurve:TM,QuadraticBezierCurve3:PM,SplineCurve:BM});class hL extends ns{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new cy(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new RM[r.type]().fromJSON(r))}return this}}class jf extends hL{constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new cy(this.currentPoint.clone(),new ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new TM(this.currentPoint.clone(),new ge(e,t),new ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new EM(this.currentPoint.clone(),new ge(e,t),new ge(i,r),new ge(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new BM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,t+f,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new uy(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Fc extends ft{constructor(e=[new ge(0,-.5),new ge(.5,0),new ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=bn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/t,d=new F,p=new ge,m=new F,g=new F,v=new F;let x=0,w=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=t;_++){const A=i+_*f*r,S=Math.sin(A),E=Math.cos(A);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*S,d.y=e[P].y,d.z=e[P].x*E,o.push(d.x,d.y,d.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*S,C=l[3*P+1],B=l[3*P+0]*E;u.push(R,C,B)}}for(let _=0;_<t;_++)for(let A=0;A<e.length-1;A++){const S=A+_*e.length,E=S,P=S+e.length,R=S+e.length+1,C=S+1;s.push(E,P,C),s.push(R,C,P)}this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2)),this.setAttribute("normal",new Xe(u,3))}static fromJSON(e){return new Fc(e.points,e.segments,e.phiStart,e.phiLength)}}class Sd extends Fc{constructor(e=1,t=1,i=4,r=8){const s=new jf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Sd(e.radius,e.length,e.capSegments,e.radialSegments)}}class bd extends ft{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new F,f=new ge;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(l,2))}static fromJSON(e){return new bd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ul extends ft{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const f=[],d=[],p=[],m=[];let g=0;const v=[],x=i/2;let w=0;_(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(f),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function _(){const S=new F,E=new F;let P=0;const R=(t-e)/i;for(let C=0;C<=s;C++){const B=[],D=C/s,O=D*(t-e)+e;for(let Y=0;Y<=r;Y++){const W=Y/r,j=W*l+a,X=Math.sin(j),ee=Math.cos(j);E.x=O*X,E.y=-D*i+x,E.z=O*ee,d.push(E.x,E.y,E.z),S.set(X,R,ee).normalize(),p.push(S.x,S.y,S.z),m.push(W,1-D),B.push(g++)}v.push(B)}for(let C=0;C<r;C++)for(let B=0;B<s;B++){const D=v[B][C],O=v[B+1][C],Y=v[B+1][C+1],W=v[B][C+1];f.push(D,O,W),f.push(O,Y,W),P+=6}u.addGroup(w,P,0),w+=P}function A(S){const E=g,P=new ge,R=new F;let C=0;const B=S===!0?e:t,D=S===!0?1:-1;for(let Y=1;Y<=r;Y++)d.push(0,x*D,0),p.push(0,D,0),m.push(.5,.5),g++;const O=g;for(let Y=0;Y<=r;Y++){const j=Y/r*l+a,X=Math.cos(j),ee=Math.sin(j);R.x=B*ee,R.y=x*D,R.z=B*X,d.push(R.x,R.y,R.z),p.push(0,D,0),P.x=X*.5+.5,P.y=ee*.5*D+.5,m.push(P.x,P.y),g++}for(let Y=0;Y<r;Y++){const W=E+Y,j=O+Y;S===!0?f.push(j,j+1,W):f.push(j+1,j,W),C+=3}u.addGroup(w,C,S===!0?1:2),w+=C}}static fromJSON(e){return new Ul(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Cd extends Ul{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Cd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yo extends ft{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),f(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(s.slice(),3)),this.setAttribute("uv",new Xe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const A=new F,S=new F,E=new F;for(let P=0;P<t.length;P+=3)m(t[P+0],A),m(t[P+1],S),m(t[P+2],E),l(A,S,E,_)}function l(_,A,S,E){const P=E+1,R=[];for(let C=0;C<=P;C++){R[C]=[];const B=_.clone().lerp(S,C/P),D=A.clone().lerp(S,C/P),O=P-C;for(let Y=0;Y<=O;Y++)Y===0&&C===P?R[C][Y]=B:R[C][Y]=B.clone().lerp(D,Y/O)}for(let C=0;C<P;C++)for(let B=0;B<2*(P-C)-1;B++){const D=Math.floor(B/2);B%2===0?(p(R[C][D+1]),p(R[C+1][D]),p(R[C][D])):(p(R[C][D+1]),p(R[C+1][D+1]),p(R[C+1][D]))}}function u(_){const A=new F;for(let S=0;S<s.length;S+=3)A.x=s[S+0],A.y=s[S+1],A.z=s[S+2],A.normalize().multiplyScalar(_),s[S+0]=A.x,s[S+1]=A.y,s[S+2]=A.z}function f(){const _=new F;for(let A=0;A<s.length;A+=3){_.x=s[A+0],_.y=s[A+1],_.z=s[A+2];const S=x(_)/2/Math.PI+.5,E=w(_)/Math.PI+.5;o.push(S,1-E)}g(),d()}function d(){for(let _=0;_<o.length;_+=6){const A=o[_+0],S=o[_+2],E=o[_+4],P=Math.max(A,S,E),R=Math.min(A,S,E);P>.9&&R<.1&&(A<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,A){const S=_*3;A.x=e[S+0],A.y=e[S+1],A.z=e[S+2]}function g(){const _=new F,A=new F,S=new F,E=new F,P=new ge,R=new ge,C=new ge;for(let B=0,D=0;B<s.length;B+=9,D+=6){_.set(s[B+0],s[B+1],s[B+2]),A.set(s[B+3],s[B+4],s[B+5]),S.set(s[B+6],s[B+7],s[B+8]),P.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),C.set(o[D+4],o[D+5]),E.copy(_).add(A).add(S).divideScalar(3);const O=x(E);v(P,D+0,_,O),v(R,D+2,A,O),v(C,D+4,S,O)}}function v(_,A,S,E){E<0&&_.x===1&&(o[A]=_.x-1),S.x===0&&S.z===0&&(o[A]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new yo(e.vertices,e.indices,e.radius,e.details)}}class Ed extends yo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ed(e.radius,e.detail)}}const Nm=new F,zm=new F,Hx=new F,Um=new Mr;class fL extends ft{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(wl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:x,c:w}=Um;if(v.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),Um.getNormal(Hx),d[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const A=(_+1)%3,S=d[_],E=d[A],P=Um[f[_]],R=Um[f[A]],C=`${S}_${E}`,B=`${E}_${S}`;B in p&&p[B]?(Hx.dot(p[B].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[B]=null):C in p||(p[C]={index0:u[_],index1:u[A],normal:Hx.clone()})}}for(const g in p)if(p[g]){const{index0:v,index1:x}=p[g];Nm.fromBufferAttribute(a,v),zm.fromBufferAttribute(a,x),m.push(Nm.x,Nm.y,Nm.z),m.push(zm.x,zm.y,zm.z)}this.setAttribute("position",new Xe(m,3))}}}let Sl=class extends jf{constructor(e){super(e),this.uuid=Ki(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new jf().fromJSON(r))}return this}};const WV={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=dL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,d,p,m;if(i&&(s=KV(n,e,s,t)),n.length>80*t){a=u=n[0],l=f=n[1];for(let g=t;g<r;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return Jf(s,o,t,a,l,m,0),o}};function dL(n,e,t,i,r){let s,o;if(r===o8(n,e,t,i)>0)for(s=e;s<t;s+=i)o=zT(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=zT(s,n[s],n[s+1],o);return o&&hy(o,o.next)&&(Yf(o),o=o.next),o}function Il(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(hy(t,t.next)||cn(t.prev,t,t.next)===0)){if(Yf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Jf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&e8(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?JV(n,i,r,s):jV(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Yf(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=XV(Il(n),e,t),Jf(n,e,t,i,r,s,2)):o===2&&YV(n,e,t,i,r,s):Jf(Il(n),e,t,i,r,s,1);break}}}function jV(n){const e=n.prev,t=n,i=n.next;if(cn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,f=r<s?r<o?r:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=i.next;for(;g!==e;){if(g.x>=f&&g.x<=p&&g.y>=d&&g.y<=m&&Hu(r,a,s,l,o,u,g.x,g.y)&&cn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function JV(n,e,t,i){const r=n.prev,s=n,o=n.next;if(cn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,f=r.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=f<d?f<p?f:p:d<p?d:p,v=a>l?a>u?a:u:l>u?l:u,x=f>d?f>p?f:p:d>p?d:p,w=pw(m,g,e,t,i),_=pw(v,x,e,t,i);let A=n.prevZ,S=n.nextZ;for(;A&&A.z>=w&&S&&S.z<=_;){if(A.x>=m&&A.x<=v&&A.y>=g&&A.y<=x&&A!==r&&A!==o&&Hu(a,f,l,d,u,p,A.x,A.y)&&cn(A.prev,A,A.next)>=0||(A=A.prevZ,S.x>=m&&S.x<=v&&S.y>=g&&S.y<=x&&S!==r&&S!==o&&Hu(a,f,l,d,u,p,S.x,S.y)&&cn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;A&&A.z>=w;){if(A.x>=m&&A.x<=v&&A.y>=g&&A.y<=x&&A!==r&&A!==o&&Hu(a,f,l,d,u,p,A.x,A.y)&&cn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=x&&S!==r&&S!==o&&Hu(a,f,l,d,u,p,S.x,S.y)&&cn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function XV(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!hy(r,s)&&pL(r,i,i.next,s)&&Xf(r,s)&&Xf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Yf(i),Yf(i.next),i=n=s),i=i.next}while(i!==n);return Il(i)}function YV(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&i8(o,a)){let l=mL(o,a);o=Il(o,o.next),l=Il(l,l.next),Jf(o,e,t,i,r,s,0),Jf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function KV(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=dL(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(n8(u));for(r.sort(QV),s=0;s<r.length;s++)t=qV(r[s],t);return t}function QV(n,e){return n.x-e.x}function qV(n,e){const t=ZV(n,e);if(!t)return e;const i=mL(t,n);return Il(i,i.next),Il(t,t.next)}function ZV(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let f=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Hu(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Xf(t,n)&&(d<f||d===f&&(t.x>r.x||t.x===r.x&&$V(r,t)))&&(r=t,f=d)),t=t.next;while(t!==a);return r}function $V(n,e){return cn(n.prev,n,e.prev)<0&&cn(e.next,n,n.next)<0}function e8(n,e,t,i){let r=n;do r.z===0&&(r.z=pw(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,t8(r)}function t8(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function pw(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function n8(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Hu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function i8(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!r8(n,e)&&(Xf(n,e)&&Xf(e,n)&&s8(n,e)&&(cn(n.prev,n,e.prev)||cn(n,e.prev,e))||hy(n,e)&&cn(n.prev,n,n.next)>0&&cn(e.prev,e,e.next)>0)}function cn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function hy(n,e){return n.x===e.x&&n.y===e.y}function pL(n,e,t,i){const r=Hm(cn(n,e,t)),s=Hm(cn(n,e,i)),o=Hm(cn(t,i,n)),a=Hm(cn(t,i,e));return!!(r!==s&&o!==a||r===0&&Gm(n,t,e)||s===0&&Gm(n,i,e)||o===0&&Gm(t,n,i)||a===0&&Gm(t,e,i))}function Gm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Hm(n){return n>0?1:n<0?-1:0}function r8(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Xf(n,e){return cn(n.prev,n,n.next)<0?cn(n,e,n.next)>=0&&cn(n,n.prev,e)>=0:cn(n,e,n.prev)<0||cn(n,n.next,e)<0}function s8(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function mL(n,e){const t=new mw(n.i,n.x,n.y),i=new mw(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function zT(n,e,t,i){const r=new mw(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Yf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function mw(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function o8(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class xs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return xs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];UT(e),GT(i,e);let o=e.length;t.forEach(UT);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,GT(i,t[l]);const a=WV.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function UT(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function GT(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Td extends ft{constructor(e=new Sl([new ge(.5,.5),new ge(-.5,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:a8;let A,S=!1,E,P,R,C;w&&(A=w.getSpacedPoints(f),S=!0,p=!1,E=w.computeFrenetFrames(f,!1),P=new F,R=new F,C=new F),p||(x=0,m=0,g=0,v=0);const B=a.extractPoints(u);let D=B.shape;const O=B.holes;if(!xs.isClockWise(D)){D=D.reverse();for(let de=0,ae=O.length;de<ae;de++){const be=O[de];xs.isClockWise(be)&&(O[de]=be.reverse())}}const W=xs.triangulateShape(D,O),j=D;for(let de=0,ae=O.length;de<ae;de++){const be=O[de];D=D.concat(be)}function X(de,ae,be){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().multiplyScalar(be).add(de)}const ee=D.length,ne=W.length;function I(de,ae,be){let Ge,Be,$e;const Ye=de.x-ae.x,Je=de.y-ae.y,wt=be.x-de.x,Ct=be.y-de.y,z=Ye*Ye+Je*Je,L=Ye*Ct-Je*wt;if(Math.abs(L)>Number.EPSILON){const oe=Math.sqrt(z),Me=Math.sqrt(wt*wt+Ct*Ct),Ce=ae.x-Je/oe,Pe=ae.y+Ye/oe,it=be.x-Ct/Me,ke=be.y+wt/Me,ye=((it-Ce)*Ct-(ke-Pe)*wt)/(Ye*Ct-Je*wt);Ge=Ce+Ye*ye-de.x,Be=Pe+Je*ye-de.y;const Ke=Ge*Ge+Be*Be;if(Ke<=2)return new ge(Ge,Be);$e=Math.sqrt(Ke/2)}else{let oe=!1;Ye>Number.EPSILON?wt>Number.EPSILON&&(oe=!0):Ye<-Number.EPSILON?wt<-Number.EPSILON&&(oe=!0):Math.sign(Je)===Math.sign(Ct)&&(oe=!0),oe?(Ge=-Je,Be=Ye,$e=Math.sqrt(z)):(Ge=Ye,Be=Je,$e=Math.sqrt(z/2))}return new ge(Ge/$e,Be/$e)}const U=[];for(let de=0,ae=j.length,be=ae-1,Ge=de+1;de<ae;de++,be++,Ge++)be===ae&&(be=0),Ge===ae&&(Ge=0),U[de]=I(j[de],j[be],j[Ge]);const G=[];let $,V=U.concat();for(let de=0,ae=O.length;de<ae;de++){const be=O[de];$=[];for(let Ge=0,Be=be.length,$e=Be-1,Ye=Ge+1;Ge<Be;Ge++,$e++,Ye++)$e===Be&&($e=0),Ye===Be&&(Ye=0),$[Ge]=I(be[Ge],be[$e],be[Ye]);G.push($),V=V.concat($)}for(let de=0;de<x;de++){const ae=de/x,be=m*Math.cos(ae*Math.PI/2),Ge=g*Math.sin(ae*Math.PI/2)+v;for(let Be=0,$e=j.length;Be<$e;Be++){const Ye=X(j[Be],U[Be],Ge);De(Ye.x,Ye.y,-be)}for(let Be=0,$e=O.length;Be<$e;Be++){const Ye=O[Be];$=G[Be];for(let Je=0,wt=Ye.length;Je<wt;Je++){const Ct=X(Ye[Je],$[Je],Ge);De(Ct.x,Ct.y,-be)}}}const se=g+v;for(let de=0;de<ee;de++){const ae=p?X(D[de],V[de],se):D[de];S?(R.copy(E.normals[0]).multiplyScalar(ae.x),P.copy(E.binormals[0]).multiplyScalar(ae.y),C.copy(A[0]).add(R).add(P),De(C.x,C.y,C.z)):De(ae.x,ae.y,0)}for(let de=1;de<=f;de++)for(let ae=0;ae<ee;ae++){const be=p?X(D[ae],V[ae],se):D[ae];S?(R.copy(E.normals[de]).multiplyScalar(be.x),P.copy(E.binormals[de]).multiplyScalar(be.y),C.copy(A[de]).add(R).add(P),De(C.x,C.y,C.z)):De(be.x,be.y,d/f*de)}for(let de=x-1;de>=0;de--){const ae=de/x,be=m*Math.cos(ae*Math.PI/2),Ge=g*Math.sin(ae*Math.PI/2)+v;for(let Be=0,$e=j.length;Be<$e;Be++){const Ye=X(j[Be],U[Be],Ge);De(Ye.x,Ye.y,d+be)}for(let Be=0,$e=O.length;Be<$e;Be++){const Ye=O[Be];$=G[Be];for(let Je=0,wt=Ye.length;Je<wt;Je++){const Ct=X(Ye[Je],$[Je],Ge);S?De(Ct.x,Ct.y+A[f-1].y,A[f-1].x+be):De(Ct.x,Ct.y,d+be)}}}he(),xe();function he(){const de=r.length/3;if(p){let ae=0,be=ee*ae;for(let Ge=0;Ge<ne;Ge++){const Be=W[Ge];ze(Be[2]+be,Be[1]+be,Be[0]+be)}ae=f+x*2,be=ee*ae;for(let Ge=0;Ge<ne;Ge++){const Be=W[Ge];ze(Be[0]+be,Be[1]+be,Be[2]+be)}}else{for(let ae=0;ae<ne;ae++){const be=W[ae];ze(be[2],be[1],be[0])}for(let ae=0;ae<ne;ae++){const be=W[ae];ze(be[0]+ee*f,be[1]+ee*f,be[2]+ee*f)}}i.addGroup(de,r.length/3-de,0)}function xe(){const de=r.length/3;let ae=0;Z(j,ae),ae+=j.length;for(let be=0,Ge=O.length;be<Ge;be++){const Be=O[be];Z(Be,ae),ae+=Be.length}i.addGroup(de,r.length/3-de,1)}function Z(de,ae){let be=de.length;for(;--be>=0;){const Ge=be;let Be=be-1;Be<0&&(Be=de.length-1);for(let $e=0,Ye=f+x*2;$e<Ye;$e++){const Je=ee*$e,wt=ee*($e+1),Ct=ae+Ge+Je,z=ae+Be+Je,L=ae+Be+wt,oe=ae+Ge+wt;We(Ct,z,L,oe)}}}function De(de,ae,be){l.push(de),l.push(ae),l.push(be)}function ze(de,ae,be){Ae(de),Ae(ae),Ae(be);const Ge=r.length/3,Be=_.generateTopUV(i,r,Ge-3,Ge-2,Ge-1);Fe(Be[0]),Fe(Be[1]),Fe(Be[2])}function We(de,ae,be,Ge){Ae(de),Ae(ae),Ae(Ge),Ae(ae),Ae(be),Ae(Ge);const Be=r.length/3,$e=_.generateSideWallUV(i,r,Be-6,Be-3,Be-2,Be-1);Fe($e[0]),Fe($e[1]),Fe($e[3]),Fe($e[1]),Fe($e[2]),Fe($e[3])}function Ae(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function Fe(de){s.push(de.x),s.push(de.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return l8(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new RM[r.type]().fromJSON(r)),new Td(i,e.options)}}const a8={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],f=e[r*3+1];return[new ge(s,o),new ge(a,l),new ge(u,f)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],f=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],g=e[r*3+2],v=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new ge(o,1-l),new ge(u,1-d),new ge(p,1-g),new ge(v,1-w)]:[new ge(a,1-l),new ge(f,1-d),new ge(m,1-g),new ge(x,1-w)]}};function l8(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Pd extends yo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class kc extends yo{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kc(e.radius,e.detail)}}class Bd extends ft{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],f=[];let d=e;const p=(t-e)/r,m=new F,g=new ge;for(let v=0;v<=r;v++){for(let x=0;x<=i;x++){const w=s+x/i*o;m.x=d*Math.cos(w),m.y=d*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,f.push(g.x,g.y)}d+=p}for(let v=0;v<r;v++){const x=v*(i+1);for(let w=0;w<i;w++){const _=w+x,A=_,S=_+i+1,E=_+i+2,P=_+1;a.push(A,S,P),a.push(S,E,P)}}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(f,2))}static fromJSON(e){return new Bd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Rd extends ft{constructor(e=new Sl([new ge(0,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(o,2));function u(f){const d=r.length/3,p=f.extractPoints(t);let m=p.shape;const g=p.holes;xs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=g.length;x<w;x++){const _=g[x];xs.isClockWise(_)===!0&&(g[x]=_.reverse())}const v=xs.triangulateShape(m,g);for(let x=0,w=g.length;x<w;x++){const _=g[x];m=m.concat(_)}for(let x=0,w=m.length;x<w;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,w=v.length;x<w;x++){const _=v[x],A=_[0]+d,S=_[1]+d,E=_[2]+d;i.push(A,S,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return u8(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Rd(i,e.curveSegments)}}function u8(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Oc extends ft{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new F,p=new F,m=[],g=[],v=[],x=[];for(let w=0;w<=i;w++){const _=[],A=w/i;let S=0;w==0&&o==0?S=.5/t:w==i&&l==Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const P=E/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+A*a),d.y=e*Math.cos(o+A*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+A*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),x.push(P+S,1-A),_.push(u++)}f.push(_)}for(let w=0;w<i;w++)for(let _=0;_<t;_++){const A=f[w][_+1],S=f[w][_],E=f[w+1][_],P=f[w+1][_+1];(w!==0||o>0)&&m.push(A,S,P),(w!==i-1||l<Math.PI)&&m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new Xe(g,3)),this.setAttribute("normal",new Xe(v,3)),this.setAttribute("uv",new Xe(x,2))}static fromJSON(e){return new Oc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Id extends yo{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Id(e.radius,e.detail)}}class Ld extends ft{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],f=new F,d=new F,p=new F;for(let m=0;m<=i;m++)for(let g=0;g<=r;g++){const v=g/r*s,x=m/i*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(v),d.y=(e+t*Math.cos(x))*Math.sin(v),d.z=t*Math.sin(x),a.push(d.x,d.y,d.z),f.x=e*Math.cos(v),f.y=e*Math.sin(v),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(g/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=r;g++){const v=(r+1)*m+g-1,x=(r+1)*(m-1)+g-1,w=(r+1)*(m-1)+g,_=(r+1)*m+g;o.push(v,x,_),o.push(x,w,_)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(u,2))}static fromJSON(e){return new Ld(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Dd extends ft{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],f=[],d=new F,p=new F,m=new F,g=new F,v=new F,x=new F,w=new F;for(let A=0;A<=i;++A){const S=A/i*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,g),x.subVectors(g,m),w.addVectors(g,m),v.crossVectors(x,w),w.crossVectors(v,x),v.normalize(),w.normalize();for(let E=0;E<=r;++E){const P=E/r*Math.PI*2,R=-t*Math.cos(P),C=t*Math.sin(P);d.x=m.x+(R*w.x+C*v.x),d.y=m.y+(R*w.y+C*v.y),d.z=m.z+(R*w.z+C*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),f.push(A/i),f.push(E/r)}}for(let A=1;A<=i;A++)for(let S=1;S<=r;S++){const E=(r+1)*(A-1)+(S-1),P=(r+1)*A+(S-1),R=(r+1)*A+S,C=(r+1)*(A-1)+S;a.push(E,P,C),a.push(P,R,C)}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(f,2));function _(A,S,E,P,R){const C=Math.cos(A),B=Math.sin(A),D=E/S*A,O=Math.cos(D);R.x=P*(2+O)*.5*C,R.y=P*(2+O)*B*.5,R.z=P*Math.sin(D)*.5}}static fromJSON(e){return new Dd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Fd extends ft{constructor(e=new PM(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new ge;let f=new F;const d=[],p=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function v(){for(let A=0;A<t;A++)x(A);x(s===!1?t:0),_(),w()}function x(A){f=e.getPointAt(A/t,f);const S=o.normals[A],E=o.binormals[A];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,C=Math.sin(R),B=-Math.cos(R);l.x=B*S.x+C*E.x,l.y=B*S.y+C*E.y,l.z=B*S.z+C*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+i*l.x,a.y=f.y+i*l.y,a.z=f.z+i*l.z,d.push(a.x,a.y,a.z)}}function w(){for(let A=1;A<=t;A++)for(let S=1;S<=r;S++){const E=(r+1)*(A-1)+(S-1),P=(r+1)*A+(S-1),R=(r+1)*A+S,C=(r+1)*(A-1)+S;g.push(E,P,C),g.push(P,R,C)}}function _(){for(let A=0;A<=t;A++)for(let S=0;S<=r;S++)u.x=A/t,u.y=S/r,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Fd(new RM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class gL extends ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,m=d.count;for(let g=p,v=p+m;g<v;g+=3)for(let x=0;x<3;x++){const w=a.getX(g+x),_=a.getX(g+(x+1)%3);r.fromBufferAttribute(o,w),s.fromBufferAttribute(o,_),HT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),HT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xe(t,3))}}}function HT(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var VT=Object.freeze({__proto__:null,BoxGeometry:Ca,CapsuleGeometry:Sd,CircleGeometry:bd,ConeGeometry:Cd,CylinderGeometry:Ul,DodecahedronGeometry:Ed,EdgesGeometry:fL,ExtrudeGeometry:Td,IcosahedronGeometry:Pd,LatheGeometry:Fc,OctahedronGeometry:kc,PlaneGeometry:Lc,PolyhedronGeometry:yo,RingGeometry:Bd,ShapeGeometry:Rd,SphereGeometry:Oc,TetrahedronGeometry:Id,TorusGeometry:Ld,TorusKnotGeometry:Dd,TubeGeometry:Fd,WireframeGeometry:gL});class yL extends Rn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ie(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vL extends Ss{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Nc extends Rn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vo extends Nc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ie(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class xL extends Rn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ie(16777215),this.specular=new Ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _L extends Rn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wL extends Rn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class AL extends Rn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ML extends Rn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=go,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SL extends ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xr(n,e,t){return IM(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function pl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function IM(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function bL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function gw(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function LM(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function c8(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*r;if(!(g<t||g>=i)){d.push(u.times[m]);for(let v=0;v<f;++v)p.push(u.values[m*f+v])}}d.length!==0&&(u.times=pl(d,u.times.constructor),u.values=pl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function h8(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const w=f,_=d-f;v=xr(a.values,w,_)}else if(s>=a.times[g]){const w=g*d+f,_=w+d-f;v=xr(a.values,w,_)}else{const w=a.createInterpolant(),_=f,A=d-f;w.evaluate(s),v=xr(w.resultBuffer,_,A)}l==="quaternion"&&new qn().fromArray(v).normalize().conjugate().toArray(v);const x=u.times.length;for(let w=0;w<x;++w){const _=w*m+p;if(l==="quaternion")qn.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const A=m-p*2;for(let S=0;S<A;++S)u.values[_+S]-=v[S]}}}return n.blendMode=cM,n}var f8=Object.freeze({__proto__:null,arraySlice:xr,convertArray:pl,flattenJSON:LM,getKeyframeOrder:bL,isTypedArray:IM,makeClipAdditive:h8,sortedArray:gw,subclip:c8});class zc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CL extends zc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hl,endingEnd:hl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case fl:s=e,a=2*t-i;break;case Gf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case fl:o=e,l=2*i-t;break;case Gf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,f=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(i-t)/(r-t),v=g*g,x=v*g,w=-p*x+2*p*v-p*g,_=(1+p)*x+(-1.5-2*p)*v+(-.5+p)*g+1,A=(-1-m)*x+(1.5+m)*v+.5*g,S=m*x-m*v;for(let E=0;E!==a;++E)s[E]=w*o[f+E]+_*o[u+E]+A*o[l+E]+S*o[d+E];return s}}class DM extends zc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(i-t)/(r-t),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class EL extends zc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class is{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pl(t,this.TimeBufferType),this.values=pl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:pl(e.times,Array),values:pl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new EL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new DM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case yc:t=this.InterpolantFactoryMethodDiscrete;break;case Rl:t=this.InterpolantFactoryMethodLinear;break;case Cg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yc;case this.InterpolantFactoryMethodLinear:return Rl;case this.InterpolantFactoryMethodSmooth:return Cg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=xr(i,s,o),this.values=xr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&IM(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=xr(this.times),t=xr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Cg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let g=0;g!==i;++g){const v=t[d+g];if(v!==t[p+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=xr(e,0,o),this.values=xr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=xr(this.times,0),t=xr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}is.prototype.TimeBufferType=Float32Array;is.prototype.ValueBufferType=Float32Array;is.prototype.DefaultInterpolation=Rl;class Gl extends is{}Gl.prototype.ValueTypeName="bool";Gl.prototype.ValueBufferType=Array;Gl.prototype.DefaultInterpolation=yc;Gl.prototype.InterpolantFactoryMethodLinear=void 0;Gl.prototype.InterpolantFactoryMethodSmooth=void 0;class FM extends is{}FM.prototype.ValueTypeName="color";class wc extends is{}wc.prototype.ValueTypeName="number";class TL extends zc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let f=u+a;u!==f;u+=4)qn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class ya extends is{InterpolantFactoryMethodLinear(e){return new TL(this.times,this.values,this.getValueSize(),e)}}ya.prototype.ValueTypeName="quaternion";ya.prototype.DefaultInterpolation=Rl;ya.prototype.InterpolantFactoryMethodSmooth=void 0;class Hl extends is{}Hl.prototype.ValueTypeName="string";Hl.prototype.ValueBufferType=Array;Hl.prototype.DefaultInterpolation=yc;Hl.prototype.InterpolantFactoryMethodLinear=void 0;Hl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ac extends is{}Ac.prototype.ValueTypeName="vector";class Mc{constructor(e,t=-1,i,r=ty){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ki(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(p8(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(is.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=bL(l);l=gw(l,1,f),u=gw(u,1,f),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new wc(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=r[d];p||(r[d]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,g,v){if(m.length!==0){const x=[],w=[];LM(m,x,w,g),x.length!==0&&v.push(new d(p,x,w))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let v=0;v<p[g].morphTargets.length;v++)m[p[g].morphTargets[v]]=-1;for(const v in m){const x=[],w=[];for(let _=0;_!==p[g].morphTargets.length;++_){const A=p[g];x.push(A.time),w.push(A.morphTarget===v?1:0)}r.push(new wc(".morphTargetInfluence["+v+"]",x,w))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(Ac,m+".position",p,"pos",r),i(ya,m+".quaternion",p,"rot",r),i(Ac,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function d8(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wc;case"vector":case"vector2":case"vector3":case"vector4":return Ac;case"color":return FM;case"quaternion":return ya;case"bool":case"boolean":return Gl;case"string":return Hl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function p8(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=d8(n.type);if(n.times===void 0){const t=[],i=[];LM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ll={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class kM{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(f))return g}return null}}}const Vu=new kM;let Mi=class{constructor(e){this.manager=e!==void 0?e:Vu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Hs={};class m8 extends Error{constructor(e,t){super(e),this.response=t}}class qi extends Mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ll.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Hs[e]!==void 0){Hs[e].push({onLoad:t,onProgress:i,onError:r});return}Hs[e]=[],Hs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Hs[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let v=0;const x=new ReadableStream({start(w){_();function _(){d.read().then(({done:A,value:S})=>{if(A)w.close();else{v+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let P=0,R=f.length;P<R;P++){const C=f[P];C.onProgress&&C.onProgress(E)}w.enqueue(S),_()}})}}});return new Response(x)}else throw new m8(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{Ll.add(e,u);const f=Hs[e];delete Hs[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=Hs[e];if(f===void 0)throw this.manager.itemError(e),u;delete Hs[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class g8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new qi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Mc.parse(e[i]);t.push(r)}return t}}class y8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new bM,l=new qi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=un),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+v]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=un),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Kf extends Mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ll.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Wf("img");function l(){f(),Ll.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){f(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class v8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new wd,o=new Kf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class x8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ec,a=new qi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Kn,o.wrapT=u.wrapT!==void 0?u.wrapT:Kn,o.magFilter=u.magFilter!==void 0?u.magFilter:un,o.minFilter=u.minFilter!==void 0?u.minFilter:un,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ms),u.mipmapCount===1&&(o.minFilter=un),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},i,r),o}}class PL extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new sn,o=new Kf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Ea extends Lt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ie(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class BL extends Ea{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ie(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Vx=new ot,WT=new F,jT=new F;class OM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ge(512,512),this.map=null,this.mapPass=null,this.matrix=new ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new iy,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;WT.setFromMatrixPosition(e.matrixWorld),t.position.copy(WT),jT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jT),t.updateMatrixWorld(),Vx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Vx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _8 extends OM{constructor(){super(new Jt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Vf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class NM extends Ea{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new _8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JT=new ot,bh=new F,Wx=new F;class w8 extends OM{constructor(){super(new Jt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),bh.setFromMatrixPosition(e.matrixWorld),i.position.copy(bh),Wx.copy(i.position),Wx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Wx),i.updateMatrixWorld(),r.makeTranslation(-bh.x,-bh.y,-bh.z),JT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JT)}}class zM extends Ea{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new w8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class A8 extends OM{constructor(){super(new Qr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UM extends Ea{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new A8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class RL extends Ea{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class IL extends Ea{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class LL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class fy extends Ea{constructor(e=new LL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class dy extends Mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new qi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=dy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ie().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ie().setHex(o.value);break;case"v2":r.uniforms[s].value=new ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new vi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ot().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:yL,SpriteMaterial:wM,RawShaderMaterial:vL,ShaderMaterial:Ss,PointsMaterial:ly,MeshPhysicalMaterial:vo,MeshStandardMaterial:Nc,MeshPhongMaterial:xL,MeshToonMaterial:_L,MeshNormalMaterial:wL,MeshLambertMaterial:AL,MeshDepthMaterial:vM,MeshDistanceMaterial:xM,MeshBasicMaterial:Xi,MeshMatcapMaterial:ML,LineDashedMaterial:SL,LineBasicMaterial:ci,Material:Rn};return new t[e]}}class _s{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class DL extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class FL extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new qi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,g){if(t[g]!==void 0)return t[g];const x=m.interleavedBuffers[g],w=s(m,x.buffer),_=Uu(x.type,w),A=new Ad(_,x.stride);return A.uuid=x.uuid,t[g]=A,A}function s(m,g){if(i[g]!==void 0)return i[g];const x=m.arrayBuffers[g],w=new Uint32Array(x).buffer;return i[g]=w,w}const o=e.isInstancedBufferGeometry?new DL:new ft,a=e.data.index;if(a!==void 0){const m=Uu(a.type,a.array);o.setIndex(new Ot(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const x=r(e.data,g.data);v=new ga(x,g.itemSize,g.offset,g.normalized)}else{const x=Uu(g.type,g.array),w=g.isInstancedBufferAttribute?_c:Ot;v=new w(x,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let x=0,w=g.length;x<w;x++){const _=g[x];let A;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);A=new ga(S,_.itemSize,_.offset,_.normalized)}else{const S=Uu(_.type,_.array);A=new Ot(S,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),v.push(A)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ba(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class M8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?_s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new qi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?_s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new qi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Sl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Md().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new FL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in VT?a=VT[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new dy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Mc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(f)}else return l.data?{data:Uu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new kM(t);s=new Kf(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const x=p[g],w=a(x);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new ec(w.data,w.width,w.height)))}r[d.uuid]=new dl(m)}else{const m=a(d.url);r[d.uuid]=new dl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Uu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Kf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new ec(g.data,g.width,g.height)))}i[l.uuid]=new dl(f)}else{const f=await s(l.url);i[l.uuid]=new dl(f)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let f;Array.isArray(u)?(f=new wd,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new ec:f=new sn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,S8)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],XT),f.wrapT=i(a.wrap[1],XT)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,YT)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,YT)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const x=p[g];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,d;switch(e.type){case"Scene":o=new c0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ie(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new oy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new sy(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Jt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Qr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new RL(e.color,e.intensity);break;case"DirectionalLight":o=new UM(e.color,e.intensity);break;case"PointLight":o=new zM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new IL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new NM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new BL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new fy().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new AM(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new jn(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new oL(f,d,p),o.instanceMatrix=new _c(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new _c(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new sL;break;case"Line":o=new fo(a(e.geometry),l(e.material));break;case"LineLoop":o=new MM(a(e.geometry),l(e.material));break;case"LineSegments":o=new ts(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new SM(a(e.geometry),l(e.material));break;case"Sprite":o=new rL(l(e.material));break;case"Group":o=new to;break;case"Bone":o=new ay;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const S8={UVMapping:$0,CubeReflectionMapping:da,CubeRefractionMapping:pa,EquirectangularReflectionMapping:Nf,EquirectangularRefractionMapping:zf,CubeUVReflectionMapping:Ic},XT={RepeatWrapping:ma,ClampToEdgeWrapping:Kn,MirroredRepeatWrapping:mc},YT={NearestFilter:_n,NearestMipmapNearestFilter:Uf,NearestMipmapLinearFilter:$u,LinearFilter:un,LinearMipmapNearestFilter:ey,LinearMipmapLinearFilter:Ms};class kL extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ll.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ll.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Vm;class GM{static getContext(){return Vm===void 0&&(Vm=new(window.AudioContext||window.webkitAudioContext)),Vm}static setContext(e){Vm=e}}class b8 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new qi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);GM.getContext().decodeAudioData(l,function(f){t(f)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class C8 extends fy{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ie().set(e),s=new Ie().set(t),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class E8 extends fy{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ie().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const KT=new ot,QT=new ot,Ha=new ot;class T8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Jt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Jt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ha.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(wl*t.fov*.5)/t.zoom;let a,l;QT.elements[12]=-r,KT.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ha.elements[0]=2*t.near/(l-a),Ha.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ha),a=-o*t.aspect-s,l=o*t.aspect-s,Ha.elements[0]=2*t.near/(l-a),Ha.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ha)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(KT)}}class HM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=qT();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function qT(){return(typeof performance>"u"?Date:performance).now()}const Va=new F,ZT=new qn,P8=new F,Wa=new F;class B8 extends Lt{constructor(){super(),this.type="AudioListener",this.context=GM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Va,ZT,P8),Wa.set(0,0,-1).applyQuaternion(ZT),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Va.x,r),t.positionY.linearRampToValueAtTime(Va.y,r),t.positionZ.linearRampToValueAtTime(Va.z,r),t.forwardX.linearRampToValueAtTime(Wa.x,r),t.forwardY.linearRampToValueAtTime(Wa.y,r),t.forwardZ.linearRampToValueAtTime(Wa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Va.x,Va.y,Va.z),t.setOrientation(Wa.x,Wa.y,Wa.z,i.x,i.y,i.z)}}class OL extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ja=new F,$T=new qn,R8=new F,Ja=new F;class I8 extends OL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ja,$T,R8),Ja.set(0,0,1).applyQuaternion($T);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ja.x,i),t.positionY.linearRampToValueAtTime(ja.y,i),t.positionZ.linearRampToValueAtTime(ja.z,i),t.orientationX.linearRampToValueAtTime(Ja.x,i),t.orientationY.linearRampToValueAtTime(Ja.y,i),t.orientationZ.linearRampToValueAtTime(Ja.z,i)}else t.setPosition(ja.x,ja.y,ja.z),t.setOrientation(Ja.x,Ja.y,Ja.z)}}class L8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class NL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){qn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;qn.multiplyQuaternionsFlat(e,o,e,t,e,i),qn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const VM="\\[\\]\\.:\\/",D8=new RegExp("["+VM+"]","g"),WM="[^"+VM+"]",F8="[^"+VM.replace("\\.","")+"]",k8=/((?:WC+[\/:])*)/.source.replace("WC",WM),O8=/(WCOD+)?/.source.replace("WCOD",F8),N8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WM),z8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WM),U8=new RegExp("^"+k8+O8+N8+z8+"$"),G8=["material","materials","bones","map"];class H8{constructor(e,t,i){const r=i||Bt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Bt{constructor(e,t,i){this.path=t,this.parsedPath=i||Bt.parseTrackName(t),this.node=Bt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Bt.Composite(e,t,i):new Bt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(D8,"")}static parseTrackName(e){const t=U8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);G8.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Bt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bt.Composite=H8;Bt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bt.prototype.GetterByBindingType=[Bt.prototype._getValue_direct,Bt.prototype._getValue_array,Bt.prototype._getValue_arrayElement,Bt.prototype._getValue_toArray];Bt.prototype.SetterByBindingTypeAndVersioning=[[Bt.prototype._setValue_direct,Bt.prototype._setValue_direct_setNeedsUpdate,Bt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_array,Bt.prototype._setValue_array_setNeedsUpdate,Bt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_arrayElement,Bt.prototype._setValue_arrayElement_setNeedsUpdate,Bt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_fromArray,Bt.prototype._setValue_fromArray_setNeedsUpdate,Bt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class V8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ki(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let v=0,x=o;v!==x;++v)s[v].push(new Bt(p,i[v],r[v]))}else if(g<u){a=e[g];const v=--u,x=e[v];t[x.uuid]=g,e[g]=x,t[m]=v,e[v]=p;for(let w=0,_=o;w!==_;++w){const A=s[w],S=A[v];let E=A[g];A[g]=S,E===void 0&&(E=new Bt(p,i[w],r[w])),A[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=t[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];t[p.uuid]=f,e[f]=p,t[u]=d,e[d]=l;for(let m=0,g=r;m!==g;++m){const v=i[m],x=v[d],w=v[f];v[f]=x,v[d]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<s){const p=--s,m=e[p],g=--o,v=e[g];t[m.uuid]=d,e[d]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let x=0,w=r;x!==w;++x){const _=i[x],A=_[p],S=_[g];_[d]=A,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,v=r;g!==v;++g){const x=i[g];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=f,m=l.length;p!==m;++p){const g=l[p];d[p]=new Bt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class W8{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:hl,endingEnd:hl};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case cM:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case ty:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===DI;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===II){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=fl,r.endingEnd=fl):(e?r.endingStart=this.zeroSlopeAtStart?fl:hl:r.endingStart=Gf,t?r.endingEnd=this.zeroSlopeAtEnd?fl:hl:r.endingEnd=Gf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const j8=new Float32Array(1);class J8 extends Cs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let g=f[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new NL(Bt.create(i,m,v),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new DM(new Float32Array(2),new Float32Array(2),1,j8),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Mc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=ty),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new W8(this,o,t,i);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Mc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class jM{constructor(e){this.value=e}clone(){return new jM(this.value.clone===void 0?this.value:this.value.clone())}}let X8=0;class Y8 extends Cs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:X8++}),this.name="",this.usage=Hf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class K8 extends Ad{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Q8{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class zL{constructor(e,t,i=0,r=1/0){this.ray=new vd(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ml,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return yw(e,this,i,t),i.sort(e2),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)yw(e[r],this,i,t);return i.sort(e2),i}}function e2(n,e){return n.distance-e.distance}function yw(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)yw(r[s],e,t,!0)}}class vw{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class q8{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const t2=new ge;class Z8{constructor(e=new ge(1/0,1/0),t=new ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=t2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return t2.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const n2=new F,Wm=new F;class $8{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){n2.subVectors(e,this.start),Wm.subVectors(this.end,this.start);const i=Wm.dot(Wm);let s=Wm.dot(n2)/i;return t&&(s=bn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const i2=new F;class e6 extends Lt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ft,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Xe(r,3));const s=new ci({fog:!1,toneMapped:!1});this.cone=new ts(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),i2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(i2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Io=new F,jm=new ot,jx=new ot;class t6 extends ts{constructor(e){const t=UL(e),i=new ft,r=[],s=[],o=new Ie(0,0,1),a=new Ie(0,1,0);for(let u=0;u<t.length;u++){const f=t[u];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Xe(r,3)),i.setAttribute("color",new Xe(s,3));const l=new ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");jx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(jm.multiplyMatrices(jx,a.matrixWorld),Io.setFromMatrixPosition(jm),r.setXYZ(o,Io.x,Io.y,Io.z),jm.multiplyMatrices(jx,a.parent.matrixWorld),Io.setFromMatrixPosition(jm),r.setXYZ(o+1,Io.x,Io.y,Io.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function UL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UL(n.children[t]));return e}class n6 extends jn{constructor(e,t,i){const r=new Oc(t,4,2),s=new Xi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const i6=new F,r2=new Ie,s2=new Ie;class r6 extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new kc(t);r.rotateY(Math.PI*.5),this.material=new Xi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ot(o,3)),this.add(new jn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");r2.copy(this.light.color),s2.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?r2:s2;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(i6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class s6 extends ts{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ie(i),r=new Ie(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=p===s?i:r;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const f=new ft;f.setAttribute("position",new Xe(l,3)),f.setAttribute("color",new Xe(u,3));const d=new ci({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class o6 extends ts{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ie(s),o=new Ie(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let g=0;g<r;g++){let v=g/r*(Math.PI*2),x=Math.sin(v)*m,w=Math.cos(v)*m;a.push(x,0,w),l.push(p.r,p.g,p.b),v=(g+1)/r*(Math.PI*2),x=Math.sin(v)*m,w=Math.cos(v)*m,a.push(x,0,w),l.push(p.r,p.g,p.b)}}const u=new ft;u.setAttribute("position",new Xe(a,3)),u.setAttribute("color",new Xe(l,3));const f=new ci({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const o2=new F,Jm=new F,a2=new F;class a6 extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ft;r.setAttribute("position",new Xe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ci({fog:!1,toneMapped:!1});this.lightPlane=new fo(r,s),this.add(this.lightPlane),r=new ft,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new fo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),o2.setFromMatrixPosition(this.light.matrixWorld),Jm.setFromMatrixPosition(this.light.target.matrixWorld),a2.subVectors(Jm,o2),this.lightPlane.lookAt(Jm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jm),this.targetLine.scale.z=a2.length()}}const Xm=new F,vn=new _d;class l6 extends ts{constructor(e){const t=new ft,i=new ci({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new Xe(r,3)),t.setAttribute("color",new Xe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ie(16755200),f=new Ie(16711680),d=new Ie(43775),p=new Ie(16777215),m=new Ie(3355443);this.setColors(u,f,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;vn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mn("c",t,e,vn,0,0,-1),Mn("t",t,e,vn,0,0,1),Mn("n1",t,e,vn,-i,-r,-1),Mn("n2",t,e,vn,i,-r,-1),Mn("n3",t,e,vn,-i,r,-1),Mn("n4",t,e,vn,i,r,-1),Mn("f1",t,e,vn,-i,-r,1),Mn("f2",t,e,vn,i,-r,1),Mn("f3",t,e,vn,-i,r,1),Mn("f4",t,e,vn,i,r,1),Mn("u1",t,e,vn,i*.7,r*1.1,-1),Mn("u2",t,e,vn,-i*.7,r*1.1,-1),Mn("u3",t,e,vn,0,r*2,-1),Mn("cf1",t,e,vn,-i,0,1),Mn("cf2",t,e,vn,i,0,1),Mn("cf3",t,e,vn,0,-r,1),Mn("cf4",t,e,vn,0,r,1),Mn("cn1",t,e,vn,-i,0,-1),Mn("cn2",t,e,vn,i,0,-1),Mn("cn3",t,e,vn,0,-r,-1),Mn("cn4",t,e,vn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mn(n,e,t,i,r,s,o){Xm.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],Xm.x,Xm.y,Xm.z)}}const Ym=new Sa;class u6 extends ts{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ft;s.setIndex(new Ot(i,1)),s.setAttribute("position",new Ot(r,3)),super(s,new ci({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ym.setFromObject(this.object),Ym.isEmpty())return;const t=Ym.min,i=Ym.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class c6 extends ts{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new Ot(i,1)),s.setAttribute("position",new Xe(r,3)),super(s,new ci({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class h6 extends fo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ft;o.setAttribute("position",new Xe(s,3)),o.computeBoundingSphere(),super(o,new ci({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ft;l.setAttribute("position",new Xe(a,3)),l.computeBoundingSphere(),this.add(new jn(l,new Xi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const l2=new F;let Km,Jx;class f6 extends Lt{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Km===void 0&&(Km=new ft,Km.setAttribute("position",new Xe([0,0,0,0,1,0],3)),Jx=new Ul(0,.5,1,5,1),Jx.translate(0,-.5,0)),this.position.copy(t),this.line=new fo(Km,new ci({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new jn(Jx,new Xi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{l2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(l2,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class d6 extends ts{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ft;r.setAttribute("position",new Xe(t,3)),r.setAttribute("color",new Xe(i,3));const s=new ci({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ie,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class p6{constructor(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new jf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const _=[];for(let A=0,S=w.length;A<S;A++){const E=w[A],P=new Sl;P.curves=E.curves,_.push(P)}return _}function i(w,_){const A=_.length;let S=!1;for(let E=A-1,P=0;P<A;E=P++){let R=_[E],C=_[P],B=C.x-R.x,D=C.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=_[P],B=-B,C=_[E],D=-D),w.y<R.y||w.y>C.y)continue;if(w.y===R.y){if(w.x===R.x)return!0}else{const O=D*(w.x-R.x)-B*(w.y-R.y);if(O===0)return!0;if(O<0)continue;S=!S}}else{if(w.y!==R.y)continue;if(C.x<=w.x&&w.x<=R.x||R.x<=w.x&&w.x<=C.x)return!0}}return S}const r=xs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Sl,l.curves=a.curves,u.push(l),u;let f=!r(s[0].getPoints());f=e?!f:f;const d=[],p=[];let m=[],g=0,v;p[g]=void 0,m[g]=[];for(let w=0,_=s.length;w<_;w++)a=s[w],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!f&&p[g]&&g++,p[g]={s:new Sl,p:v},p[g].s.curves=a.curves,f&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let w=!1,_=0;for(let A=0,S=p.length;A<S;A++)d[A]=[];for(let A=0,S=p.length;A<S;A++){const E=m[A];for(let P=0;P<E.length;P++){const R=E[P];let C=!0;for(let B=0;B<p.length;B++)i(R.p,p[B].p)&&(A!==B&&_++,C?(C=!1,d[B].push(R)):w=!0);C&&d[A].push(R)}}_>0&&w===!1&&(m=d)}let x;for(let w=0,_=p.length;w<_;w++){l=p[w].s,u.push(l),x=m[w];for(let A=0,S=x.length;A<S;A++)l.holes.push(x[A].h)}return u}}const Ys=m6();function m6(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function g6(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=bn(n,-65504,65504),Ys.floatView[0]=n;const e=Ys.uint32View[0],t=e>>23&511;return Ys.baseTable[t]+((e&8388607)>>Ys.shiftTable[t])}function y6(n){const e=n>>10;return Ys.uint32View[0]=Ys.mantissaTable[Ys.offsetTable[e]+(n&1023)]+Ys.exponentTable[e],Ys.floatView[0]}var v6=Object.freeze({__proto__:null,fromHalfFloat:y6,toHalfFloat:g6});class x6 extends Ca{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class _6 extends Sd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class w6 extends bd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class A6 extends Cd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class M6 extends Ul{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class S6 extends Ed{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class b6 extends Td{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class C6 extends Pd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class E6 extends Fc{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class T6 extends kc{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class P6 extends Lc{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class B6 extends yo{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class R6 extends Bd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class I6 extends Rd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class L6 extends Oc{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class D6 extends Id{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class F6 extends Ld{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class k6 extends Dd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class O6 extends Fd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:q0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=q0);const N6=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lM,AddEquation:il,AddOperation:fI,AdditiveAnimationBlendMode:cM,AdditiveBlending:F_,AlphaFormat:AI,AlwaysDepth:sI,AlwaysStencilFunc:zI,AmbientLight:RL,AmbientLightProbe:E8,AnimationClip:Mc,AnimationLoader:g8,AnimationMixer:J8,AnimationObjectGroup:V8,AnimationUtils:f8,ArcCurve:aL,ArrayCamera:eL,ArrowHelper:f6,Audio:OL,AudioAnalyser:L8,AudioContext:GM,AudioListener:B8,AudioLoader:b8,AxesHelper:d6,BackSide:ki,BasicDepthPacking:kI,BasicShadowMap:jR,Bone:ay,BooleanKeyframeTrack:Gl,Box2:Z8,Box3:Sa,Box3Helper:c6,BoxBufferGeometry:x6,BoxGeometry:Ca,BoxHelper:u6,BufferAttribute:Ot,BufferGeometry:ft,BufferGeometryLoader:FL,ByteType:yI,Cache:Ll,Camera:_d,CameraHelper:l6,CanvasTexture:kV,CapsuleBufferGeometry:_6,CapsuleGeometry:Sd,CatmullRomCurve3:lL,CineonToneMapping:mI,CircleBufferGeometry:w6,CircleGeometry:bd,ClampToEdgeWrapping:Kn,Clock:HM,Color:Ie,ColorKeyframeTrack:FM,ColorManagement:oi,CompressedArrayTexture:FV,CompressedTexture:bM,CompressedTextureLoader:y8,ConeBufferGeometry:A6,ConeGeometry:Cd,CubeCamera:JI,CubeReflectionMapping:da,CubeRefractionMapping:pa,CubeTexture:wd,CubeTextureLoader:v8,CubeUVReflectionMapping:Ic,CubicBezierCurve:EM,CubicBezierCurve3:uL,CubicInterpolant:CL,CullFaceBack:D_,CullFaceFront:WR,CullFaceFrontBack:U4,CullFaceNone:VR,Curve:ns,CurvePath:hL,CustomBlending:JR,CustomToneMapping:gI,CylinderBufferGeometry:M6,CylinderGeometry:Ul,Cylindrical:q8,Data3DTexture:pM,DataArrayTexture:ny,DataTexture:ec,DataTextureLoader:x8,DataUtils:v6,DecrementStencilOp:q4,DecrementWrapStencilOp:$4,DefaultLoadingManager:Vu,DepthFormat:aa,DepthStencilFormat:Bl,DepthTexture:tL,DirectionalLight:UM,DirectionalLightHelper:a6,DiscreteInterpolant:EL,DodecahedronBufferGeometry:S6,DodecahedronGeometry:Ed,DoubleSide:Wr,DstAlphaFactor:$R,DstColorFactor:tI,DynamicCopyUsage:p5,DynamicDrawUsage:l5,DynamicReadUsage:h5,EdgesGeometry:fL,EllipseCurve:uy,EqualDepth:aI,EqualStencilFunc:i5,EquirectangularReflectionMapping:Nf,EquirectangularRefractionMapping:zf,Euler:xd,EventDispatcher:Cs,ExtrudeBufferGeometry:b6,ExtrudeGeometry:Td,FileLoader:qi,Float16BufferAttribute:Y5,Float32BufferAttribute:Xe,Float64BufferAttribute:K5,FloatType:$s,Fog:oy,FogExp2:sy,FramebufferTexture:DV,FrontSide:As,Frustum:iy,GLBufferAttribute:Q8,GLSL1:g5,GLSL3:uw,GreaterDepth:uI,GreaterEqualDepth:lI,GreaterEqualStencilFunc:a5,GreaterStencilFunc:s5,GridHelper:s6,Group:to,HalfFloatType:gc,HemisphereLight:BL,HemisphereLightHelper:r6,HemisphereLightProbe:C8,IcosahedronBufferGeometry:C6,IcosahedronGeometry:Pd,ImageBitmapLoader:kL,ImageLoader:Kf,ImageUtils:dM,IncrementStencilOp:Q4,IncrementWrapStencilOp:Z4,InstancedBufferAttribute:_c,InstancedBufferGeometry:DL,InstancedInterleavedBuffer:K8,InstancedMesh:oL,Int16BufferAttribute:J5,Int32BufferAttribute:X5,Int8BufferAttribute:V5,IntType:xI,InterleavedBuffer:Ad,InterleavedBufferAttribute:ga,Interpolant:zc,InterpolateDiscrete:yc,InterpolateLinear:Rl,InterpolateSmooth:Cg,InvertStencilOp:e5,KeepStencilOp:Eg,KeyframeTrack:is,LOD:sL,LatheBufferGeometry:E6,LatheGeometry:Fc,Layers:Ml,LessDepth:oI,LessEqualDepth:a0,LessEqualStencilFunc:r5,LessStencilFunc:n5,Light:Ea,LightProbe:fy,Line:fo,Line3:$8,LineBasicMaterial:ci,LineCurve:cy,LineCurve3:cL,LineDashedMaterial:SL,LineLoop:MM,LineSegments:ts,LinearEncoding:ho,LinearFilter:un,LinearInterpolant:DM,LinearMipMapLinearFilter:j4,LinearMipMapNearestFilter:W4,LinearMipmapLinearFilter:Ms,LinearMipmapNearestFilter:ey,LinearSRGBColorSpace:vc,LinearToneMapping:dI,Loader:Mi,LoaderUtils:_s,LoadingManager:kM,LoopOnce:II,LoopPingPong:DI,LoopRepeat:LI,LuminanceAlphaFormat:SI,LuminanceFormat:MI,MOUSE:qa,Material:Rn,MaterialLoader:dy,MathUtils:GI,Matrix3:vi,Matrix4:ot,MaxEquation:z_,Mesh:jn,MeshBasicMaterial:Xi,MeshDepthMaterial:vM,MeshDistanceMaterial:xM,MeshLambertMaterial:AL,MeshMatcapMaterial:ML,MeshNormalMaterial:wL,MeshPhongMaterial:xL,MeshPhysicalMaterial:vo,MeshStandardMaterial:Nc,MeshToonMaterial:_L,MinEquation:N_,MirroredRepeatWrapping:mc,MixOperation:hI,MultiplyBlending:O_,MultiplyOperation:yd,NearestFilter:_n,NearestMipMapLinearFilter:V4,NearestMipMapNearestFilter:H4,NearestMipmapLinearFilter:$u,NearestMipmapNearestFilter:Uf,NeverDepth:rI,NeverStencilFunc:t5,NoBlending:ro,NoColorSpace:X4,NoToneMapping:Kr,NormalAnimationBlendMode:ty,NormalBlending:xl,NotEqualDepth:cI,NotEqualStencilFunc:o5,NumberKeyframeTrack:wc,Object3D:Lt,ObjectLoader:M8,ObjectSpaceNormalMap:NI,OctahedronBufferGeometry:T6,OctahedronGeometry:kc,OneFactor:QR,OneMinusDstAlphaFactor:eI,OneMinusDstColorFactor:nI,OneMinusSrcAlphaFactor:aM,OneMinusSrcColorFactor:ZR,OrthographicCamera:Qr,PCFShadowMap:Z0,PCFSoftShadowMap:tf,PMREMGenerator:hw,Path:jf,PerspectiveCamera:Jt,Plane:Uo,PlaneBufferGeometry:P6,PlaneGeometry:Lc,PlaneHelper:h6,PointLight:zM,PointLightHelper:n6,Points:SM,PointsMaterial:ly,PolarGridHelper:o6,PolyhedronBufferGeometry:B6,PolyhedronGeometry:yo,PositionalAudio:I8,PropertyBinding:Bt,PropertyMixer:NL,QuadraticBezierCurve:TM,QuadraticBezierCurve3:PM,Quaternion:qn,QuaternionKeyframeTrack:ya,QuaternionLinearInterpolant:TL,RED_GREEN_RGTC2_Format:aw,RED_RGTC1_Format:RI,REVISION:q0,RGBADepthPacking:OI,RGBAFormat:Ri,RGBAIntegerFormat:PI,RGBA_ASTC_10x10_Format:iw,RGBA_ASTC_10x5_Format:ew,RGBA_ASTC_10x6_Format:tw,RGBA_ASTC_10x8_Format:nw,RGBA_ASTC_12x10_Format:rw,RGBA_ASTC_12x12_Format:sw,RGBA_ASTC_4x4_Format:J_,RGBA_ASTC_5x4_Format:X_,RGBA_ASTC_5x5_Format:Y_,RGBA_ASTC_6x5_Format:K_,RGBA_ASTC_6x6_Format:Q_,RGBA_ASTC_8x5_Format:q_,RGBA_ASTC_8x6_Format:Z_,RGBA_ASTC_8x8_Format:$_,RGBA_BPTC_Format:bg,RGBA_ETC2_EAC_Format:j_,RGBA_PVRTC_2BPPV1_Format:V_,RGBA_PVRTC_4BPPV1_Format:H_,RGBA_S3TC_DXT1_Format:Ag,RGBA_S3TC_DXT3_Format:Mg,RGBA_S3TC_DXT5_Format:Sg,RGB_ETC1_Format:BI,RGB_ETC2_Format:W_,RGB_PVRTC_2BPPV1_Format:G_,RGB_PVRTC_4BPPV1_Format:U_,RGB_S3TC_DXT1_Format:wg,RGFormat:EI,RGIntegerFormat:TI,RawShaderMaterial:vL,Ray:vd,Raycaster:zL,RectAreaLight:IL,RedFormat:bI,RedIntegerFormat:CI,ReinhardToneMapping:pI,RepeatWrapping:ma,ReplaceStencilOp:K4,ReverseSubtractEquation:YR,RingBufferGeometry:R6,RingGeometry:Bd,SIGNED_RED_GREEN_RGTC2_Format:lw,SIGNED_RED_RGTC1_Format:ow,SRGBColorSpace:Ur,Scene:c0,ShaderChunk:yt,ShaderLib:Hr,ShaderMaterial:Ss,ShadowMaterial:yL,Shape:Sl,ShapeBufferGeometry:I6,ShapeGeometry:Rd,ShapePath:p6,ShapeUtils:xs,ShortType:vI,Skeleton:Md,SkeletonHelper:t6,SkinnedMesh:AM,Source:dl,Sphere:ba,SphereBufferGeometry:L6,SphereGeometry:Oc,Spherical:vw,SphericalHarmonics3:LL,SplineCurve:BM,SpotLight:NM,SpotLightHelper:e6,Sprite:rL,SpriteMaterial:wM,SrcAlphaFactor:oM,SrcAlphaSaturateFactor:iI,SrcColorFactor:qR,StaticCopyUsage:d5,StaticDrawUsage:Hf,StaticReadUsage:c5,StereoCamera:T8,StreamCopyUsage:m5,StreamDrawUsage:u5,StreamReadUsage:f5,StringKeyframeTrack:Hl,SubtractEquation:XR,SubtractiveBlending:k_,TOUCH:Za,TangentSpaceNormalMap:go,TetrahedronBufferGeometry:D6,TetrahedronGeometry:Id,Texture:sn,TextureLoader:PL,TorusBufferGeometry:F6,TorusGeometry:Ld,TorusKnotBufferGeometry:k6,TorusKnotGeometry:Dd,Triangle:Mr,TriangleFanDrawMode:hM,TriangleStripDrawMode:FI,TrianglesDrawMode:J4,TubeBufferGeometry:O6,TubeGeometry:Fd,TwoPassDoubleSide:G4,UVMapping:$0,Uint16BufferAttribute:mM,Uint32BufferAttribute:gM,Uint8BufferAttribute:W5,Uint8ClampedBufferAttribute:j5,Uniform:jM,UniformsGroup:Y8,UniformsLib:Re,UniformsUtils:jI,UnsignedByteType:co,UnsignedInt248Type:_l,UnsignedIntType:Jo,UnsignedShort4444Type:_I,UnsignedShort5551Type:wI,UnsignedShortType:uM,VSMShadowMap:cl,Vector2:ge,Vector3:F,Vector4:zt,VectorKeyframeTrack:Ac,VideoTexture:LV,WebGL1Renderer:nL,WebGL3DRenderTarget:L5,WebGLArrayRenderTarget:I5,WebGLCubeRenderTarget:XI,WebGLMultipleRenderTargets:D5,WebGLRenderTarget:$r,WebGLRenderer:_M,WebGLUtils:$I,WireframeGeometry:gL,WrapAroundEnding:Gf,ZeroCurvatureEnding:hl,ZeroFactor:KR,ZeroSlopeEnding:fl,ZeroStencilOp:Y4,_SRGBAFormat:l0,sRGBEncoding:Tt},Symbol.toStringTag,{value:"Module"}));var Xo={},z6={get exports(){return Xo},set exports(n){Xo=n}},Vl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Vl.ConcurrentRoot=1;Vl.ContinuousEventPriority=4;Vl.DefaultEventPriority=16;Vl.DiscreteEventPriority=1;Vl.IdleEventPriority=536870912;Vl.LegacyRoot=0;(function(n){n.exports=Vl})(z6);function U6(n){let e;const t=new Set,i=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,f=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const g=f(e);if(!d(p,g)){const v=p;u(p=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,f,d)=>f||d?s(u,f,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const G6=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),u2=G6?H.useEffect:H.useLayoutEffect;function GL(n){const e=typeof n=="function"?U6(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=H.useReducer(x=>x+1,0),o=e.getState(),a=H.useRef(o),l=H.useRef(i),u=H.useRef(r),f=H.useRef(!1),d=H.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||f.current)&&(p=i(o),m=!r(d.current,p)),u2(()=>{m&&(d.current=p),a.current=o,l.current=i,u.current=r,f.current=!1});const g=H.useRef(o);u2(()=>{const x=()=>{try{const _=e.getState(),A=l.current(_);u.current(d.current,A)||(a.current=_,d.current=A,s())}catch{f.current=!0,s()}},w=e.subscribe(x);return e.getState()!==g.current&&x(),w},[]);const v=m?p:d.current;return H.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var xw={},H6={get exports(){return xw},set exports(n){xw=n}},h0={},V6={get exports(){return h0},set exports(n){h0=n}},Xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function W6(){return c2||(c2=1,function(n){function e(I,U){var G=I.length;I.push(U);e:for(;0<G;){var $=G-1>>>1,V=I[$];if(0<r(V,U))I[$]=U,I[G]=V,G=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var U=I[0],G=I.pop();if(G!==U){I[0]=G;e:for(var $=0,V=I.length,se=V>>>1;$<se;){var he=2*($+1)-1,xe=I[he],Z=he+1,De=I[Z];if(0>r(xe,G))Z<V&&0>r(De,xe)?(I[$]=De,I[Z]=G,$=Z):(I[$]=xe,I[he]=G,$=he);else if(Z<V&&0>r(De,G))I[$]=De,I[Z]=G,$=Z;else break e}}return U}function r(I,U){var G=I.sortIndex-U.sortIndex;return G!==0?G:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var U=t(u);U!==null;){if(U.callback===null)i(u);else if(U.startTime<=I)i(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(u)}}function S(I){if(v=!1,A(I),!g)if(t(l)!==null)g=!0,ee(E);else{var U=t(u);U!==null&&ne(S,U.startTime-I)}}function E(I,U){g=!1,v&&(v=!1,w(C),C=-1),m=!0;var G=p;try{for(A(U),d=t(l);d!==null&&(!(d.expirationTime>U)||I&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var V=$(d.expirationTime<=U);U=n.unstable_now(),typeof V=="function"?d.callback=V:d===t(l)&&i(l),A(U)}else i(l);d=t(l)}if(d!==null)var se=!0;else{var he=t(u);he!==null&&ne(S,he.startTime-U),se=!1}return se}finally{d=null,p=G,m=!1}}var P=!1,R=null,C=-1,B=5,D=-1;function O(){return!(n.unstable_now()-D<B)}function Y(){if(R!==null){var I=n.unstable_now();D=I;var U=!0;try{U=R(!0,I)}finally{U?W():(P=!1,R=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(Y)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=Y,W=function(){X.postMessage(null)}}else W=function(){x(Y,0)};function ee(I){R=I,P||(P=!0,W())}function ne(I,U){C=x(function(){I(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(E))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var G=p;p=U;try{return I()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=p;p=I;try{return U()}finally{p=G}},n.unstable_scheduleCallback=function(I,U,G){var $=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,I={id:f++,callback:U,priorityLevel:I,startTime:G,expirationTime:V,sortIndex:-1},G>$?(I.sortIndex=G,e(u,I),t(l)===null&&I===t(u)&&(v?(w(C),C=-1):v=!0,ne(S,G-$))):(I.sortIndex=V,e(l,I),g||m||(g=!0,ee(E))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var U=p;return function(){var G=p;p=U;try{return I.apply(this,arguments)}finally{p=G}}}}(Xx)),Xx}var h2;function j6(){return h2||(h2=1,function(n){n.exports=W6()}(V6)),h0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6=function(e){var t={},i=H,r=j6(),s=Object.assign;function o(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=E&&c[E]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case v:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return h=c.displayName||null,h!==null?h:R(c.type)||"Memo";case A:h=c._payload,c=c._init;try{return R(c(h))}catch{}}return null}function C(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function B(c){var h=c,y=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,h.flags&4098&&(y=h.return),c=h.return;while(c)}return h.tag===3?y:null}function D(c){if(B(c)!==c)throw Error(o(188))}function O(c){var h=c.alternate;if(!h){if(h=B(c),h===null)throw Error(o(188));return h!==c?null:c}for(var y=c,M=h;;){var b=y.return;if(b===null)break;var T=b.alternate;if(T===null){if(M=b.return,M!==null){y=M;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===y)return D(b),c;if(T===M)return D(b),h;T=T.sibling}throw Error(o(188))}if(y.return!==M.return)y=b,M=T;else{for(var N=!1,K=b.child;K;){if(K===y){N=!0,y=b,M=T;break}if(K===M){N=!0,M=b,y=T;break}K=K.sibling}if(!N){for(K=T.child;K;){if(K===y){N=!0,y=T,M=b;break}if(K===M){N=!0,M=T,y=b;break}K=K.sibling}if(!N)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:h}function Y(c){return c=O(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=W(c);if(h!==null)return h;c=c.sibling}return null}function j(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=j(c);if(h!==null)return h}c=c.sibling}return null}var X=Array.isArray,ee=e.getPublicInstance,ne=e.getRootHostContext,I=e.getChildHostContext,U=e.prepareForCommit,G=e.resetAfterCommit,$=e.createInstance,V=e.appendInitialChild,se=e.finalizeInitialChildren,he=e.prepareUpdate,xe=e.shouldSetTextContent,Z=e.createTextInstance,De=e.scheduleTimeout,ze=e.cancelTimeout,We=e.noTimeout,Ae=e.isPrimaryRenderer,Fe=e.supportsMutation,de=e.supportsPersistence,ae=e.supportsHydration,be=e.getInstanceFromNode,Ge=e.preparePortalMount,Be=e.getCurrentEventPriority,$e=e.detachDeletedInstance,Ye=e.supportsMicrotasks,Je=e.scheduleMicrotask,wt=e.supportsTestSelectors,Ct=e.findFiberRoot,z=e.getBoundingRect,L=e.getTextContent,oe=e.isHiddenSubtree,Me=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,it=e.appendChild,ke=e.appendChildToContainer,ye=e.commitTextUpdate,Ke=e.commitMount,J=e.commitUpdate,le=e.insertBefore,we=e.insertInContainerBefore,Te=e.removeChild,tt=e.removeChildFromContainer,_t=e.resetTextContent,Yt=e.hideInstance,Q=e.hideTextInstance,ce=e.unhideInstance,_e=e.unhideTextInstance,Ue=e.clearContainer,qe=e.cloneInstance,Rt=e.createContainerChildSet,wn=e.appendChildToContainerChildSet,Nn=e.finalizeContainerChildren,rs=e.replaceContainerChildren,Vt=e.cloneHiddenInstance,ir=e.cloneHiddenTextInstance,Si=e.canHydrateInstance,Zd=e.canHydrateTextInstance,Dy=e.canHydrateSuspenseInstance,$d=e.isSuspenseInstancePending,Uc=e.isSuspenseInstanceFallback,k=e.registerSuspenseInstanceRetry,ie=e.getNextHydratableSibling,pe=e.getFirstHydratableChild,te=e.getFirstHydratableChildWithinContainer,ve=e.getFirstHydratableChildWithinSuspenseInstance,et=e.hydrateInstance,st=e.hydrateTextInstance,pt=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,Mt=e.commitHydratedSuspenseInstance,St=e.clearSuspenseBoundary,mn=e.clearSuspenseBoundaryFromContainer,hi=e.shouldDeleteUnhydratedTailInstances,Br=e.didNotMatchHydratedContainerTextInstance,Es=e.didNotMatchHydratedTextInstance,$t;function mt(c){if($t===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);$t=h&&h[1]||""}return`
`+$t+c}var Pa=!1;function gn(c,h){if(!c||Pa)return"";Pa=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ee){var M=Ee}Reflect.construct(c,[],h)}else{try{h.call()}catch(Ee){M=Ee}c.call(h.prototype)}else{try{throw Error()}catch(Ee){M=Ee}c()}}catch(Ee){if(Ee&&M&&typeof Ee.stack=="string"){for(var b=Ee.stack.split(`
`),T=M.stack.split(`
`),N=b.length-1,K=T.length-1;1<=N&&0<=K&&b[N]!==T[K];)K--;for(;1<=N&&0<=K;N--,K--)if(b[N]!==T[K]){if(N!==1||K!==1)do if(N--,K--,0>K||b[N]!==T[K]){var fe=`
`+b[N].replace(" at new "," at ");return c.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",c.displayName)),fe}while(1<=N&&0<=K);break}}}finally{Pa=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?mt(c):""}var Ts=Object.prototype.hasOwnProperty,Jl=[],rr=-1;function sr(c){return{current:c}}function dt(c){0>rr||(c.current=Jl[rr],Jl[rr]=null,rr--)}function Pt(c,h){rr++,Jl[rr]=c.current,c.current=h}var or={},Nt=sr(or),zn=sr(!1),Ps=or;function Bs(c,h){var y=c.type.contextTypes;if(!y)return or;var M=c.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in y)b[T]=h[T];return M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=b),b}function bi(c){return c=c.childContextTypes,c!=null}function ep(){dt(zn),dt(Nt)}function JS(c,h,y){if(Nt.current!==or)throw Error(o(168));Pt(Nt,h),Pt(zn,y)}function XS(c,h,y){var M=c.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var b in M)if(!(b in h))throw Error(o(108,C(c)||"Unknown",b));return s({},y,M)}function tp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||or,Ps=Nt.current,Pt(Nt,c),Pt(zn,zn.current),!0}function YS(c,h,y){var M=c.stateNode;if(!M)throw Error(o(169));y?(c=XS(c,h,Ps),M.__reactInternalMemoizedMergedChildContext=c,dt(zn),dt(Nt),Pt(Nt,c)):dt(zn),Pt(zn,y)}var Rr=Math.clz32?Math.clz32:Wk,Hk=Math.log,Vk=Math.LN2;function Wk(c){return c>>>=0,c===0?32:31-(Hk(c)/Vk|0)|0}var np=64,ip=4194304;function Gc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function rp(c,h){var y=c.pendingLanes;if(y===0)return 0;var M=0,b=c.suspendedLanes,T=c.pingedLanes,N=y&268435455;if(N!==0){var K=N&~b;K!==0?M=Gc(K):(T&=N,T!==0&&(M=Gc(T)))}else N=y&~b,N!==0?M=Gc(N):T!==0&&(M=Gc(T));if(M===0)return 0;if(h!==0&&h!==M&&!(h&b)&&(b=M&-M,T=h&-h,b>=T||b===16&&(T&4194240)!==0))return h;if(M&4&&(M|=y&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=M;0<h;)y=31-Rr(h),b=1<<y,M|=c[y],h&=~b;return M}function jk(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jk(c,h){for(var y=c.suspendedLanes,M=c.pingedLanes,b=c.expirationTimes,T=c.pendingLanes;0<T;){var N=31-Rr(T),K=1<<N,fe=b[N];fe===-1?(!(K&y)||K&M)&&(b[N]=jk(K,h)):fe<=h&&(c.expiredLanes|=K),T&=~K}}function Fy(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function ky(c){for(var h=[],y=0;31>y;y++)h.push(c);return h}function Hc(c,h,y){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Rr(h),c[h]=y}function Xk(c,h){var y=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var M=c.eventTimes;for(c=c.expirationTimes;0<y;){var b=31-Rr(y),T=1<<b;h[b]=0,M[b]=-1,c[b]=-1,y&=~T}}function Oy(c,h){var y=c.entangledLanes|=h;for(c=c.entanglements;y;){var M=31-Rr(y),b=1<<M;b&h|c[M]&h&&(c[M]|=h),y&=~b}}var Dt=0;function KS(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Ny=r.unstable_scheduleCallback,QS=r.unstable_cancelCallback,Yk=r.unstable_shouldYield,Kk=r.unstable_requestPaint,Un=r.unstable_now,zy=r.unstable_ImmediatePriority,Qk=r.unstable_UserBlockingPriority,Uy=r.unstable_NormalPriority,qk=r.unstable_IdlePriority,sp=null,ss=null;function Zk(c){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(sp,c,void 0,(c.current.flags&128)===128)}catch{}}function $k(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var os=typeof Object.is=="function"?Object.is:$k,Rs=null,op=!1,Gy=!1;function qS(c){Rs===null?Rs=[c]:Rs.push(c)}function eO(c){op=!0,qS(c)}function as(){if(!Gy&&Rs!==null){Gy=!0;var c=0,h=Dt;try{var y=Rs;for(Dt=1;c<y.length;c++){var M=y[c];do M=M(!0);while(M!==null)}Rs=null,op=!1}catch(b){throw Rs!==null&&(Rs=Rs.slice(c+1)),Ny(zy,as),b}finally{Dt=h,Gy=!1}}return null}var tO=a.ReactCurrentBatchConfig;function ap(c,h){if(os(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var y=Object.keys(c),M=Object.keys(h);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var b=y[M];if(!Ts.call(h,b)||!os(c[b],h[b]))return!1}return!0}function nO(c){switch(c.tag){case 5:return mt(c.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return c=gn(c.type,!1),c;case 11:return c=gn(c.type.render,!1),c;case 1:return c=gn(c.type,!0),c;default:return""}}function Ir(c,h){if(c&&c.defaultProps){h=s({},h),c=c.defaultProps;for(var y in c)h[y]===void 0&&(h[y]=c[y]);return h}return h}var lp=sr(null),up=null,Xl=null,Hy=null;function Vy(){Hy=Xl=up=null}function ZS(c,h,y){Ae?(Pt(lp,h._currentValue),h._currentValue=y):(Pt(lp,h._currentValue2),h._currentValue2=y)}function Wy(c){var h=lp.current;dt(lp),Ae?c._currentValue=h:c._currentValue2=h}function jy(c,h,y){for(;c!==null;){var M=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),c===y)break;c=c.return}}function Yl(c,h){up=c,Hy=Xl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&h&&(Ui=!0),c.firstContext=null)}function ar(c){var h=Ae?c._currentValue:c._currentValue2;if(Hy!==c)if(c={context:c,memoizedValue:h,next:null},Xl===null){if(up===null)throw Error(o(308));Xl=c,up.dependencies={lanes:0,firstContext:c}}else Xl=Xl.next=c;return h}var ls=null,xo=!1;function Jy(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $S(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Is(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function _o(c,h){var y=c.updateQueue;y!==null&&(y=y.shared,Cn!==null&&c.mode&1&&!(xt&2)?(c=y.interleaved,c===null?(h.next=h,ls===null?ls=[y]:ls.push(y)):(h.next=c.next,c.next=h),y.interleaved=h):(c=y.pending,c===null?h.next=h:(h.next=c.next,c.next=h),y.pending=h))}function cp(c,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var M=h.lanes;M&=c.pendingLanes,y|=M,h.lanes=y,Oy(c,y)}}function eb(c,h){var y=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var b=null,T=null;if(y=y.firstBaseUpdate,y!==null){do{var N={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};T===null?b=T=N:T=T.next=N,y=y.next}while(y!==null);T===null?b=T=h:T=T.next=h}else b=T=h;y={baseState:M.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:M.shared,effects:M.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=h:c.next=h,y.lastBaseUpdate=h}function hp(c,h,y,M){var b=c.updateQueue;xo=!1;var T=b.firstBaseUpdate,N=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var fe=K,Ee=fe.next;fe.next=null,N===null?T=Ee:N.next=Ee,N=fe;var je=c.alternate;je!==null&&(je=je.updateQueue,K=je.lastBaseUpdate,K!==N&&(K===null?je.firstBaseUpdate=Ee:K.next=Ee,je.lastBaseUpdate=fe))}if(T!==null){var at=b.baseState;N=0,je=Ee=fe=null,K=T;do{var nt=K.lane,Wt=K.eventTime;if((M&nt)===nt){je!==null&&(je=je.next={eventTime:Wt,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ze=c,ni=K;switch(nt=h,Wt=y,ni.tag){case 1:if(Ze=ni.payload,typeof Ze=="function"){at=Ze.call(Wt,at,nt);break e}at=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ni.payload,nt=typeof Ze=="function"?Ze.call(Wt,at,nt):Ze,nt==null)break e;at=s({},at,nt);break e;case 2:xo=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,nt=b.effects,nt===null?b.effects=[K]:nt.push(K))}else Wt={eventTime:Wt,lane:nt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},je===null?(Ee=je=Wt,fe=at):je=je.next=Wt,N|=nt;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;nt=K,K=nt.next,nt.next=null,b.lastBaseUpdate=nt,b.shared.pending=null}}while(1);if(je===null&&(fe=at),b.baseState=fe,b.firstBaseUpdate=Ee,b.lastBaseUpdate=je,h=b.shared.interleaved,h!==null){b=h;do N|=b.lane,b=b.next;while(b!==h)}else T===null&&(b.shared.lanes=0);iu|=N,c.lanes=N,c.memoizedState=at}}function tb(c,h,y){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var M=c[h],b=M.callback;if(b!==null){if(M.callback=null,M=y,typeof b!="function")throw Error(o(191,b));b.call(M)}}}var nb=new i.Component().refs;function Xy(c,h,y,M){h=c.memoizedState,y=y(M,h),y=y==null?h:s({},h,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var fp={isMounted:function(c){return(c=c._reactInternals)?B(c)===c:!1},enqueueSetState:function(c,h,y){c=c._reactInternals;var M=di(),b=Mo(c),T=Is(M,b);T.payload=h,y!=null&&(T.callback=y),_o(c,T),h=fr(c,b,M),h!==null&&cp(h,c,b)},enqueueReplaceState:function(c,h,y){c=c._reactInternals;var M=di(),b=Mo(c),T=Is(M,b);T.tag=1,T.payload=h,y!=null&&(T.callback=y),_o(c,T),h=fr(c,b,M),h!==null&&cp(h,c,b)},enqueueForceUpdate:function(c,h){c=c._reactInternals;var y=di(),M=Mo(c),b=Is(y,M);b.tag=2,h!=null&&(b.callback=h),_o(c,b),h=fr(c,M,y),h!==null&&cp(h,c,M)}};function ib(c,h,y,M,b,T,N){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,T,N):h.prototype&&h.prototype.isPureReactComponent?!ap(y,M)||!ap(b,T):!0}function rb(c,h,y){var M=!1,b=or,T=h.contextType;return typeof T=="object"&&T!==null?T=ar(T):(b=bi(h)?Ps:Nt.current,M=h.contextTypes,T=(M=M!=null)?Bs(c,b):or),h=new h(y,T),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=fp,c.stateNode=h,h._reactInternals=c,M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=b,c.__reactInternalMemoizedMaskedChildContext=T),h}function sb(c,h,y,M){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,M),h.state!==c&&fp.enqueueReplaceState(h,h.state,null)}function Yy(c,h,y,M){var b=c.stateNode;b.props=y,b.state=c.memoizedState,b.refs=nb,Jy(c);var T=h.contextType;typeof T=="object"&&T!==null?b.context=ar(T):(T=bi(h)?Ps:Nt.current,b.context=Bs(c,T)),b.state=c.memoizedState,T=h.getDerivedStateFromProps,typeof T=="function"&&(Xy(c,h,T,y),b.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(h=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),h!==b.state&&fp.enqueueReplaceState(b,b.state,null),hp(c,y,b,M),b.state=c.memoizedState),typeof b.componentDidMount=="function"&&(c.flags|=4194308)}var Kl=[],Ql=0,dp=null,pp=0,lr=[],ur=0,Ba=null,Ls=1,Ds="";function Ra(c,h){Kl[Ql++]=pp,Kl[Ql++]=dp,dp=c,pp=h}function ob(c,h,y){lr[ur++]=Ls,lr[ur++]=Ds,lr[ur++]=Ba,Ba=c;var M=Ls;c=Ds;var b=32-Rr(M)-1;M&=~(1<<b),y+=1;var T=32-Rr(h)+b;if(30<T){var N=b-b%5;T=(M&(1<<N)-1).toString(32),M>>=N,b-=N,Ls=1<<32-Rr(h)+b|y<<b|M,Ds=T+c}else Ls=1<<T|y<<b|M,Ds=c}function Ky(c){c.return!==null&&(Ra(c,1),ob(c,1,0))}function Qy(c){for(;c===dp;)dp=Kl[--Ql],Kl[Ql]=null,pp=Kl[--Ql],Kl[Ql]=null;for(;c===Ba;)Ba=lr[--ur],lr[ur]=null,Ds=lr[--ur],lr[ur]=null,Ls=lr[--ur],lr[ur]=null}var Ni=null,zi=null,en=!1,Vc=!1,Lr=null;function ab(c,h){var y=dr(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=c,h=c.deletions,h===null?(c.deletions=[y],c.flags|=16):h.push(y)}function lb(c,h){switch(c.tag){case 5:return h=Si(h,c.type,c.pendingProps),h!==null?(c.stateNode=h,Ni=c,zi=pe(h),!0):!1;case 6:return h=Zd(h,c.pendingProps),h!==null?(c.stateNode=h,Ni=c,zi=null,!0):!1;case 13:if(h=Dy(h),h!==null){var y=Ba!==null?{id:Ls,overflow:Ds}:null;return c.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=dr(18,null,null,0),y.stateNode=h,y.return=c,c.child=y,Ni=c,zi=null,!0}return!1;default:return!1}}function qy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Zy(c){if(en){var h=zi;if(h){var y=h;if(!lb(c,h)){if(qy(c))throw Error(o(418));h=ie(y);var M=Ni;h&&lb(c,h)?ab(M,y):(c.flags=c.flags&-4097|2,en=!1,Ni=c)}}else{if(qy(c))throw Error(o(418));c.flags=c.flags&-4097|2,en=!1,Ni=c}}}function ub(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ni=c}function Wc(c){if(!ae||c!==Ni)return!1;if(!en)return ub(c),en=!0,!1;if(c.tag!==3&&(c.tag!==5||hi(c.type)&&!xe(c.type,c.memoizedProps))){var h=zi;if(h){if(qy(c)){for(c=zi;c;)c=ie(c);throw Error(o(418))}for(;h;)ab(c,h),h=ie(h)}}if(ub(c),c.tag===13){if(!ae)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));zi=vt(c)}else zi=Ni?ie(c.stateNode):null;return!0}function ql(){ae&&(zi=Ni=null,Vc=en=!1)}function $y(c){Lr===null?Lr=[c]:Lr.push(c)}function jc(c,h,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,c));var b=M,T=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===T?h.ref:(h=function(N){var K=b.refs;K===nb&&(K=b.refs={}),N===null?delete K[T]:K[T]=N},h._stringRef=T,h)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function mp(c,h){throw c=Object.prototype.toString.call(h),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function cb(c){var h=c._init;return h(c._payload)}function hb(c){function h(re,q){if(c){var ue=re.deletions;ue===null?(re.deletions=[q],re.flags|=16):ue.push(q)}}function y(re,q){if(!c)return null;for(;q!==null;)h(re,q),q=q.sibling;return null}function M(re,q){for(re=new Map;q!==null;)q.key!==null?re.set(q.key,q):re.set(q.index,q),q=q.sibling;return re}function b(re,q){return re=bo(re,q),re.index=0,re.sibling=null,re}function T(re,q,ue){return re.index=ue,c?(ue=re.alternate,ue!==null?(ue=ue.index,ue<q?(re.flags|=2,q):ue):(re.flags|=2,q)):(re.flags|=1048576,q)}function N(re){return c&&re.alternate===null&&(re.flags|=2),re}function K(re,q,ue,Ne){return q===null||q.tag!==6?(q=kv(ue,re.mode,Ne),q.return=re,q):(q=b(q,ue),q.return=re,q)}function fe(re,q,ue,Ne){var Qe=ue.type;return Qe===f?je(re,q,ue.props.children,Ne,ue.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&cb(Qe)===q.type)?(Ne=b(q,ue.props),Ne.ref=jc(re,q,ue),Ne.return=re,Ne):(Ne=Jp(ue.type,ue.key,ue.props,null,re.mode,Ne),Ne.ref=jc(re,q,ue),Ne.return=re,Ne)}function Ee(re,q,ue,Ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==ue.containerInfo||q.stateNode.implementation!==ue.implementation?(q=Ov(ue,re.mode,Ne),q.return=re,q):(q=b(q,ue.children||[]),q.return=re,q)}function je(re,q,ue,Ne,Qe){return q===null||q.tag!==7?(q=Na(ue,re.mode,Ne,Qe),q.return=re,q):(q=b(q,ue),q.return=re,q)}function at(re,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number")return q=kv(""+q,re.mode,ue),q.return=re,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return ue=Jp(q.type,q.key,q.props,null,re.mode,ue),ue.ref=jc(re,null,q),ue.return=re,ue;case u:return q=Ov(q,re.mode,ue),q.return=re,q;case A:var Ne=q._init;return at(re,Ne(q._payload),ue)}if(X(q)||P(q))return q=Na(q,re.mode,ue,null),q.return=re,q;mp(re,q)}return null}function nt(re,q,ue,Ne){var Qe=q!==null?q.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Qe!==null?null:K(re,q,""+ue,Ne);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Qe?fe(re,q,ue,Ne):null;case u:return ue.key===Qe?Ee(re,q,ue,Ne):null;case A:return Qe=ue._init,nt(re,q,Qe(ue._payload),Ne)}if(X(ue)||P(ue))return Qe!==null?null:je(re,q,ue,Ne,null);mp(re,ue)}return null}function Wt(re,q,ue,Ne,Qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return re=re.get(ue)||null,K(q,re,""+Ne,Qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return re=re.get(Ne.key===null?ue:Ne.key)||null,fe(q,re,Ne,Qe);case u:return re=re.get(Ne.key===null?ue:Ne.key)||null,Ee(q,re,Ne,Qe);case A:var gt=Ne._init;return Wt(re,q,ue,gt(Ne._payload),Qe)}if(X(Ne)||P(Ne))return re=re.get(ue)||null,je(q,re,Ne,Qe,null);mp(q,Ne)}return null}function Ze(re,q,ue,Ne){for(var Qe=null,gt=null,lt=q,Ft=q=0,Hn=null;lt!==null&&Ft<ue.length;Ft++){lt.index>Ft?(Hn=lt,lt=null):Hn=lt.sibling;var kt=nt(re,lt,ue[Ft],Ne);if(kt===null){lt===null&&(lt=Hn);break}c&&lt&&kt.alternate===null&&h(re,lt),q=T(kt,q,Ft),gt===null?Qe=kt:gt.sibling=kt,gt=kt,lt=Hn}if(Ft===ue.length)return y(re,lt),en&&Ra(re,Ft),Qe;if(lt===null){for(;Ft<ue.length;Ft++)lt=at(re,ue[Ft],Ne),lt!==null&&(q=T(lt,q,Ft),gt===null?Qe=lt:gt.sibling=lt,gt=lt);return en&&Ra(re,Ft),Qe}for(lt=M(re,lt);Ft<ue.length;Ft++)Hn=Wt(lt,re,Ft,ue[Ft],Ne),Hn!==null&&(c&&Hn.alternate!==null&&lt.delete(Hn.key===null?Ft:Hn.key),q=T(Hn,q,Ft),gt===null?Qe=Hn:gt.sibling=Hn,gt=Hn);return c&&lt.forEach(function(Co){return h(re,Co)}),en&&Ra(re,Ft),Qe}function ni(re,q,ue,Ne){var Qe=P(ue);if(typeof Qe!="function")throw Error(o(150));if(ue=Qe.call(ue),ue==null)throw Error(o(151));for(var gt=Qe=null,lt=q,Ft=q=0,Hn=null,kt=ue.next();lt!==null&&!kt.done;Ft++,kt=ue.next()){lt.index>Ft?(Hn=lt,lt=null):Hn=lt.sibling;var Co=nt(re,lt,kt.value,Ne);if(Co===null){lt===null&&(lt=Hn);break}c&&lt&&Co.alternate===null&&h(re,lt),q=T(Co,q,Ft),gt===null?Qe=Co:gt.sibling=Co,gt=Co,lt=Hn}if(kt.done)return y(re,lt),en&&Ra(re,Ft),Qe;if(lt===null){for(;!kt.done;Ft++,kt=ue.next())kt=at(re,kt.value,Ne),kt!==null&&(q=T(kt,q,Ft),gt===null?Qe=kt:gt.sibling=kt,gt=kt);return en&&Ra(re,Ft),Qe}for(lt=M(re,lt);!kt.done;Ft++,kt=ue.next())kt=Wt(lt,re,Ft,kt.value,Ne),kt!==null&&(c&&kt.alternate!==null&&lt.delete(kt.key===null?Ft:kt.key),q=T(kt,q,Ft),gt===null?Qe=kt:gt.sibling=kt,gt=kt);return c&&lt.forEach(function(IO){return h(re,IO)}),en&&Ra(re,Ft),Qe}function pr(re,q,ue,Ne){if(typeof ue=="object"&&ue!==null&&ue.type===f&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Qe=ue.key,gt=q;gt!==null;){if(gt.key===Qe){if(Qe=ue.type,Qe===f){if(gt.tag===7){y(re,gt.sibling),q=b(gt,ue.props.children),q.return=re,re=q;break e}}else if(gt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&cb(Qe)===gt.type){y(re,gt.sibling),q=b(gt,ue.props),q.ref=jc(re,gt,ue),q.return=re,re=q;break e}y(re,gt);break}else h(re,gt);gt=gt.sibling}ue.type===f?(q=Na(ue.props.children,re.mode,Ne,ue.key),q.return=re,re=q):(Ne=Jp(ue.type,ue.key,ue.props,null,re.mode,Ne),Ne.ref=jc(re,q,ue),Ne.return=re,re=Ne)}return N(re);case u:e:{for(gt=ue.key;q!==null;){if(q.key===gt)if(q.tag===4&&q.stateNode.containerInfo===ue.containerInfo&&q.stateNode.implementation===ue.implementation){y(re,q.sibling),q=b(q,ue.children||[]),q.return=re,re=q;break e}else{y(re,q);break}else h(re,q);q=q.sibling}q=Ov(ue,re.mode,Ne),q.return=re,re=q}return N(re);case A:return gt=ue._init,pr(re,q,gt(ue._payload),Ne)}if(X(ue))return Ze(re,q,ue,Ne);if(P(ue))return ni(re,q,ue,Ne);mp(re,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,q!==null&&q.tag===6?(y(re,q.sibling),q=b(q,ue),q.return=re,re=q):(y(re,q),q=kv(ue,re.mode,Ne),q.return=re,re=q),N(re)):y(re,q)}return pr}var Zl=hb(!0),fb=hb(!1),Jc={},cr=sr(Jc),Xc=sr(Jc),$l=sr(Jc);function us(c){if(c===Jc)throw Error(o(174));return c}function ev(c,h){Pt($l,h),Pt(Xc,c),Pt(cr,Jc),c=ne(h),dt(cr),Pt(cr,c)}function eu(){dt(cr),dt(Xc),dt($l)}function db(c){var h=us($l.current),y=us(cr.current);h=I(y,c.type,h),y!==h&&(Pt(Xc,c),Pt(cr,h))}function tv(c){Xc.current===c&&(dt(cr),dt(Xc))}var on=sr(0);function gp(c){for(var h=c;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||$d(y)||Uc(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var nv=[];function iv(){for(var c=0;c<nv.length;c++){var h=nv[c];Ae?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}nv.length=0}var yp=a.ReactCurrentDispatcher,hr=a.ReactCurrentBatchConfig,tu=0,yn=null,$n=null,Gn=null,vp=!1,Yc=!1,Kc=0,iO=0;function ei(){throw Error(o(321))}function rv(c,h){if(h===null)return!1;for(var y=0;y<h.length&&y<c.length;y++)if(!os(c[y],h[y]))return!1;return!0}function sv(c,h,y,M,b,T){if(tu=T,yn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,yp.current=c===null||c.memoizedState===null?aO:lO,c=y(M,b),Yc){T=0;do{if(Yc=!1,Kc=0,25<=T)throw Error(o(301));T+=1,Gn=$n=null,h.updateQueue=null,yp.current=uO,c=y(M,b)}while(Yc)}if(yp.current=Mp,h=$n!==null&&$n.next!==null,tu=0,Gn=$n=yn=null,vp=!1,h)throw Error(o(300));return c}function ov(){var c=Kc!==0;return Kc=0,c}function Fs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?yn.memoizedState=Gn=c:Gn=Gn.next=c,Gn}function cs(){if($n===null){var c=yn.alternate;c=c!==null?c.memoizedState:null}else c=$n.next;var h=Gn===null?yn.memoizedState:Gn.next;if(h!==null)Gn=h,$n=c;else{if(c===null)throw Error(o(310));$n=c,c={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Gn===null?yn.memoizedState=Gn=c:Gn=Gn.next=c}return Gn}function Ia(c,h){return typeof h=="function"?h(c):h}function xp(c){var h=cs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=$n,b=M.baseQueue,T=y.pending;if(T!==null){if(b!==null){var N=b.next;b.next=T.next,T.next=N}M.baseQueue=b=T,y.pending=null}if(b!==null){T=b.next,M=M.baseState;var K=N=null,fe=null,Ee=T;do{var je=Ee.lane;if((tu&je)===je)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),M=Ee.hasEagerState?Ee.eagerState:c(M,Ee.action);else{var at={lane:je,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(K=fe=at,N=M):fe=fe.next=at,yn.lanes|=je,iu|=je}Ee=Ee.next}while(Ee!==null&&Ee!==T);fe===null?N=M:fe.next=K,os(M,h.memoizedState)||(Ui=!0),h.memoizedState=M,h.baseState=N,h.baseQueue=fe,y.lastRenderedState=M}if(c=y.interleaved,c!==null){b=c;do T=b.lane,yn.lanes|=T,iu|=T,b=b.next;while(b!==c)}else b===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function _p(c){var h=cs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=y.dispatch,b=y.pending,T=h.memoizedState;if(b!==null){y.pending=null;var N=b=b.next;do T=c(T,N.action),N=N.next;while(N!==b);os(T,h.memoizedState)||(Ui=!0),h.memoizedState=T,h.baseQueue===null&&(h.baseState=T),y.lastRenderedState=T}return[T,M]}function pb(){}function mb(c,h){var y=yn,M=cs(),b=h(),T=!os(M.memoizedState,b);if(T&&(M.memoizedState=b,Ui=!0),M=M.queue,qc(vb.bind(null,y,M,c),[c]),M.getSnapshot!==h||T||Gn!==null&&Gn.memoizedState.tag&1){if(y.flags|=2048,Qc(9,yb.bind(null,y,M,b,h),void 0,null),Cn===null)throw Error(o(349));tu&30||gb(y,h,b)}return b}function gb(c,h,y){c.flags|=16384,c={getSnapshot:h,value:y},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.stores=[c]):(y=h.stores,y===null?h.stores=[c]:y.push(c))}function yb(c,h,y,M){h.value=y,h.getSnapshot=M,xb(h)&&fr(c,1,-1)}function vb(c,h,y){return y(function(){xb(h)&&fr(c,1,-1)})}function xb(c){var h=c.getSnapshot;c=c.value;try{var y=h();return!os(c,y)}catch{return!0}}function av(c){var h=Fs();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:c},h.queue=c,c=c.dispatch=oO.bind(null,yn,c),[h.memoizedState,c]}function Qc(c,h,y,M){return c={tag:c,create:h,destroy:y,deps:M,next:null},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.lastEffect=c.next=c):(y=h.lastEffect,y===null?h.lastEffect=c.next=c:(M=y.next,y.next=c,c.next=M,h.lastEffect=c)),c}function _b(){return cs().memoizedState}function wp(c,h,y,M){var b=Fs();yn.flags|=c,b.memoizedState=Qc(1|h,y,void 0,M===void 0?null:M)}function Ap(c,h,y,M){var b=cs();M=M===void 0?null:M;var T=void 0;if($n!==null){var N=$n.memoizedState;if(T=N.destroy,M!==null&&rv(M,N.deps)){b.memoizedState=Qc(h,y,T,M);return}}yn.flags|=c,b.memoizedState=Qc(1|h,y,T,M)}function lv(c,h){return wp(8390656,8,c,h)}function qc(c,h){return Ap(2048,8,c,h)}function wb(c,h){return Ap(4,2,c,h)}function Ab(c,h){return Ap(4,4,c,h)}function Mb(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Sb(c,h,y){return y=y!=null?y.concat([c]):null,Ap(4,4,Mb.bind(null,h,c),y)}function uv(){}function bb(c,h){var y=cs();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&rv(h,M[1])?M[0]:(y.memoizedState=[c,h],c)}function Cb(c,h){var y=cs();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&rv(h,M[1])?M[0]:(c=c(),y.memoizedState=[c,h],c)}function rO(c,h){var y=Dt;Dt=y!==0&&4>y?y:4,c(!0);var M=hr.transition;hr.transition={};try{c(!1),h()}finally{Dt=y,hr.transition=M}}function Eb(){return cs().memoizedState}function sO(c,h,y){var M=Mo(c);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},Tb(c)?Pb(h,y):(Bb(c,h,y),y=di(),c=fr(c,M,y),c!==null&&Rb(c,h,M))}function oO(c,h,y){var M=Mo(c),b={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(Tb(c))Pb(h,b);else{Bb(c,h,b);var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=h.lastRenderedReducer,T!==null))try{var N=h.lastRenderedState,K=T(N,y);if(b.hasEagerState=!0,b.eagerState=K,os(K,N))return}catch{}finally{}y=di(),c=fr(c,M,y),c!==null&&Rb(c,h,M)}}function Tb(c){var h=c.alternate;return c===yn||h!==null&&h===yn}function Pb(c,h){Yc=vp=!0;var y=c.pending;y===null?h.next=h:(h.next=y.next,y.next=h),c.pending=h}function Bb(c,h,y){Cn!==null&&c.mode&1&&!(xt&2)?(c=h.interleaved,c===null?(y.next=y,ls===null?ls=[h]:ls.push(h)):(y.next=c.next,c.next=y),h.interleaved=y):(c=h.pending,c===null?y.next=y:(y.next=c.next,c.next=y),h.pending=y)}function Rb(c,h,y){if(y&4194240){var M=h.lanes;M&=c.pendingLanes,y|=M,h.lanes=y,Oy(c,y)}}var Mp={readContext:ar,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},aO={readContext:ar,useCallback:function(c,h){return Fs().memoizedState=[c,h===void 0?null:h],c},useContext:ar,useEffect:lv,useImperativeHandle:function(c,h,y){return y=y!=null?y.concat([c]):null,wp(4194308,4,Mb.bind(null,h,c),y)},useLayoutEffect:function(c,h){return wp(4194308,4,c,h)},useInsertionEffect:function(c,h){return wp(4,2,c,h)},useMemo:function(c,h){var y=Fs();return h=h===void 0?null:h,c=c(),y.memoizedState=[c,h],c},useReducer:function(c,h,y){var M=Fs();return h=y!==void 0?y(h):h,M.memoizedState=M.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},M.queue=c,c=c.dispatch=sO.bind(null,yn,c),[M.memoizedState,c]},useRef:function(c){var h=Fs();return c={current:c},h.memoizedState=c},useState:av,useDebugValue:uv,useDeferredValue:function(c){var h=av(c),y=h[0],M=h[1];return lv(function(){var b=hr.transition;hr.transition={};try{M(c)}finally{hr.transition=b}},[c]),y},useTransition:function(){var c=av(!1),h=c[0];return c=rO.bind(null,c[1]),Fs().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,y){var M=yn,b=Fs();if(en){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),Cn===null)throw Error(o(349));tu&30||gb(M,h,y)}b.memoizedState=y;var T={value:y,getSnapshot:h};return b.queue=T,lv(vb.bind(null,M,T,c),[c]),M.flags|=2048,Qc(9,yb.bind(null,M,T,y,h),void 0,null),y},useId:function(){var c=Fs(),h=Cn.identifierPrefix;if(en){var y=Ds,M=Ls;y=(M&~(1<<32-Rr(M)-1)).toString(32)+y,h=":"+h+"R"+y,y=Kc++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=iO++,h=":"+h+"r"+y.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},lO={readContext:ar,useCallback:bb,useContext:ar,useEffect:qc,useImperativeHandle:Sb,useInsertionEffect:wb,useLayoutEffect:Ab,useMemo:Cb,useReducer:xp,useRef:_b,useState:function(){return xp(Ia)},useDebugValue:uv,useDeferredValue:function(c){var h=xp(Ia),y=h[0],M=h[1];return qc(function(){var b=hr.transition;hr.transition={};try{M(c)}finally{hr.transition=b}},[c]),y},useTransition:function(){var c=xp(Ia)[0],h=cs().memoizedState;return[c,h]},useMutableSource:pb,useSyncExternalStore:mb,useId:Eb,unstable_isNewReconciler:!1},uO={readContext:ar,useCallback:bb,useContext:ar,useEffect:qc,useImperativeHandle:Sb,useInsertionEffect:wb,useLayoutEffect:Ab,useMemo:Cb,useReducer:_p,useRef:_b,useState:function(){return _p(Ia)},useDebugValue:uv,useDeferredValue:function(c){var h=_p(Ia),y=h[0],M=h[1];return qc(function(){var b=hr.transition;hr.transition={};try{M(c)}finally{hr.transition=b}},[c]),y},useTransition:function(){var c=_p(Ia)[0],h=cs().memoizedState;return[c,h]},useMutableSource:pb,useSyncExternalStore:mb,useId:Eb,unstable_isNewReconciler:!1};function cv(c,h){try{var y="",M=h;do y+=nO(M),M=M.return;while(M);var b=y}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:h,stack:b}}function hv(c,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function Ib(c,h,y){y=Is(-1,y),y.tag=3,y.payload={element:null};var M=h.value;return y.callback=function(){zp||(zp=!0,Pv=M),hv(c,h)},y}function Lb(c,h,y){y=Is(-1,y),y.tag=3;var M=c.type.getDerivedStateFromError;if(typeof M=="function"){var b=h.value;y.payload=function(){return M(b)},y.callback=function(){hv(c,h)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(y.callback=function(){hv(c,h),typeof M!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})}),y}function Db(c,h,y){var M=c.pingCache;if(M===null){M=c.pingCache=new cO;var b=new Set;M.set(h,b)}else b=M.get(h),b===void 0&&(b=new Set,M.set(h,b));b.has(y)||(b.add(y),c=SO.bind(null,c,h,y),h.then(c,c))}function Fb(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function kb(c,h,y,M,b){return c.mode&1?(c.flags|=65536,c.lanes=b,c):(c===h?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Is(-1,1),h.tag=2,_o(y,h))),y.lanes|=1),c)}function hs(c){c.flags|=4}function Ob(c,h){if(c!==null&&c.child===h.child)return!0;if(h.flags&16)return!1;for(c=h.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Zc,$c,Sp,bp;if(Fe)Zc=function(c,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)V(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},$c=function(){},Sp=function(c,h,y,M,b){if(c=c.memoizedProps,c!==M){var T=h.stateNode,N=us(cr.current);y=he(T,y,c,M,b,N),(h.updateQueue=y)&&hs(h)}},bp=function(c,h,y,M){y!==M&&hs(h)};else if(de){Zc=function(c,h,y,M){for(var b=h.child;b!==null;){if(b.tag===5){var T=b.stateNode;y&&M&&(T=Vt(T,b.type,b.memoizedProps,b)),V(c,T)}else if(b.tag===6)T=b.stateNode,y&&M&&(T=ir(T,b.memoizedProps,b)),V(c,T);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)T=b.child,T!==null&&(T.return=b),Zc(c,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var Nb=function(c,h,y,M){for(var b=h.child;b!==null;){if(b.tag===5){var T=b.stateNode;y&&M&&(T=Vt(T,b.type,b.memoizedProps,b)),wn(c,T)}else if(b.tag===6)T=b.stateNode,y&&M&&(T=ir(T,b.memoizedProps,b)),wn(c,T);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)T=b.child,T!==null&&(T.return=b),Nb(c,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};$c=function(c,h){var y=h.stateNode;if(!Ob(c,h)){c=y.containerInfo;var M=Rt(c);Nb(M,h,!1,!1),y.pendingChildren=M,hs(h),Nn(c,M)}},Sp=function(c,h,y,M,b){var T=c.stateNode,N=c.memoizedProps;if((c=Ob(c,h))&&N===M)h.stateNode=T;else{var K=h.stateNode,fe=us(cr.current),Ee=null;N!==M&&(Ee=he(K,y,N,M,b,fe)),c&&Ee===null?h.stateNode=T:(T=qe(T,Ee,y,N,M,h,c,K),se(T,y,M,b,fe)&&hs(h),h.stateNode=T,c?hs(h):Zc(T,h,!1,!1))}},bp=function(c,h,y,M){y!==M?(c=us($l.current),y=us(cr.current),h.stateNode=Z(M,c,y,h),hs(h)):h.stateNode=c.stateNode}}else $c=function(){},Sp=function(){},bp=function(){};function eh(c,h){if(!en)switch(c.tailMode){case"hidden":h=c.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function ti(c){var h=c.alternate!==null&&c.alternate.child===c.child,y=0,M=0;if(h)for(var b=c.child;b!==null;)y|=b.lanes|b.childLanes,M|=b.subtreeFlags&14680064,M|=b.flags&14680064,b.return=c,b=b.sibling;else for(b=c.child;b!==null;)y|=b.lanes|b.childLanes,M|=b.subtreeFlags,M|=b.flags,b.return=c,b=b.sibling;return c.subtreeFlags|=M,c.childLanes=y,h}function hO(c,h,y){var M=h.pendingProps;switch(Qy(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(h),null;case 1:return bi(h.type)&&ep(),ti(h),null;case 3:return M=h.stateNode,eu(),dt(zn),dt(Nt),iv(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(c===null||c.child===null)&&(Wc(h)?hs(h):c===null||c.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Lr!==null&&(Iv(Lr),Lr=null))),$c(c,h),ti(h),null;case 5:tv(h),y=us($l.current);var b=h.type;if(c!==null&&h.stateNode!=null)Sp(c,h,b,M,y),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(o(166));return ti(h),null}if(c=us(cr.current),Wc(h)){if(!ae)throw Error(o(175));c=et(h.stateNode,h.type,h.memoizedProps,y,c,h,!Vc),h.updateQueue=c,c!==null&&hs(h)}else{var T=$(b,M,y,c,h);Zc(T,h,!1,!1),h.stateNode=T,se(T,b,M,y,c)&&hs(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return ti(h),null;case 6:if(c&&h.stateNode!=null)bp(c,h,c.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(o(166));if(c=us($l.current),y=us(cr.current),Wc(h)){if(!ae)throw Error(o(176));if(c=h.stateNode,M=h.memoizedProps,(y=st(c,M,h,!Vc))&&(b=Ni,b!==null))switch(T=(b.mode&1)!==0,b.tag){case 3:Br(b.stateNode.containerInfo,c,M,T);break;case 5:Es(b.type,b.memoizedProps,b.stateNode,c,M,T)}y&&hs(h)}else h.stateNode=Z(M,c,y,h)}return ti(h),null;case 13:if(dt(on),M=h.memoizedState,en&&zi!==null&&h.mode&1&&!(h.flags&128)){for(c=zi;c;)c=ie(c);return ql(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=Wc(h),c===null){if(!M)throw Error(o(318));if(!ae)throw Error(o(344));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));pt(c,h)}else ql(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return ti(h),null}return Lr!==null&&(Iv(Lr),Lr=null),h.flags&128?(h.lanes=y,h):(M=M!==null,y=!1,c===null?Wc(h):y=c.memoizedState!==null,M&&!y&&(h.child.flags|=8192,h.mode&1&&(c===null||on.current&1?In===0&&(In=3):Dv())),h.updateQueue!==null&&(h.flags|=4),ti(h),null);case 4:return eu(),$c(c,h),c===null&&Ge(h.stateNode.containerInfo),ti(h),null;case 10:return Wy(h.type._context),ti(h),null;case 17:return bi(h.type)&&ep(),ti(h),null;case 19:if(dt(on),b=h.memoizedState,b===null)return ti(h),null;if(M=(h.flags&128)!==0,T=b.rendering,T===null)if(M)eh(b,!1);else{if(In!==0||c!==null&&c.flags&128)for(c=h.child;c!==null;){if(T=gp(c),T!==null){for(h.flags|=128,eh(b,!1),c=T.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=y,M=h.child;M!==null;)y=M,b=c,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=b,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,b=T.dependencies,y.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),M=M.sibling;return Pt(on,on.current&1|2),h.child}c=c.sibling}b.tail!==null&&Un()>Tv&&(h.flags|=128,M=!0,eh(b,!1),h.lanes=4194304)}else{if(!M)if(c=gp(T),c!==null){if(h.flags|=128,M=!0,c=c.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),eh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!en)return ti(h),null}else 2*Un()-b.renderingStartTime>Tv&&y!==1073741824&&(h.flags|=128,M=!0,eh(b,!1),h.lanes=4194304);b.isBackwards?(T.sibling=h.child,h.child=T):(c=b.last,c!==null?c.sibling=T:h.child=T,b.last=T)}return b.tail!==null?(h=b.tail,b.rendering=h,b.tail=h.sibling,b.renderingStartTime=Un(),h.sibling=null,c=on.current,Pt(on,M?c&1|2:c&1),h):(ti(h),null);case 22:case 23:return Lv(),M=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==M&&(h.flags|=8192),M&&h.mode&1?Gi&1073741824&&(ti(h),Fe&&h.subtreeFlags&6&&(h.flags|=8192)):ti(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var fO=a.ReactCurrentOwner,Ui=!1;function fi(c,h,y,M){h.child=c===null?fb(h,null,y,M):Zl(h,c.child,y,M)}function zb(c,h,y,M,b){y=y.render;var T=h.ref;return Yl(h,b),M=sv(c,h,y,M,T,b),y=ov(),c!==null&&!Ui?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~b,ks(c,h,b)):(en&&y&&Ky(h),h.flags|=1,fi(c,h,M,b),h.child)}function Ub(c,h,y,M,b){if(c===null){var T=y.type;return typeof T=="function"&&!Fv(T)&&T.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=T,Gb(c,h,T,M,b)):(c=Jp(y.type,null,M,h,h.mode,b),c.ref=h.ref,c.return=h,h.child=c)}if(T=c.child,!(c.lanes&b)){var N=T.memoizedProps;if(y=y.compare,y=y!==null?y:ap,y(N,M)&&c.ref===h.ref)return ks(c,h,b)}return h.flags|=1,c=bo(T,M),c.ref=h.ref,c.return=h,h.child=c}function Gb(c,h,y,M,b){if(c!==null&&ap(c.memoizedProps,M)&&c.ref===h.ref)if(Ui=!1,(c.lanes&b)!==0)c.flags&131072&&(Ui=!0);else return h.lanes=c.lanes,ks(c,h,b);return fv(c,h,y,M,b)}function Hb(c,h,y){var M=h.pendingProps,b=M.children,T=c!==null?c.memoizedState:null;if(M.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Pt(nu,Gi),Gi|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},M=T!==null?T.baseLanes:y,Pt(nu,Gi),Gi|=M;else return c=T!==null?T.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null},h.updateQueue=null,Pt(nu,Gi),Gi|=c,null;else T!==null?(M=T.baseLanes|y,h.memoizedState=null):M=y,Pt(nu,Gi),Gi|=M;return fi(c,h,b,y),h.child}function Vb(c,h){var y=h.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function fv(c,h,y,M,b){var T=bi(y)?Ps:Nt.current;return T=Bs(h,T),Yl(h,b),y=sv(c,h,y,M,T,b),M=ov(),c!==null&&!Ui?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~b,ks(c,h,b)):(en&&M&&Ky(h),h.flags|=1,fi(c,h,y,b),h.child)}function Wb(c,h,y,M,b){if(bi(y)){var T=!0;tp(h)}else T=!1;if(Yl(h,b),h.stateNode===null)c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),rb(h,y,M),Yy(h,y,M,b),M=!0;else if(c===null){var N=h.stateNode,K=h.memoizedProps;N.props=K;var fe=N.context,Ee=y.contextType;typeof Ee=="object"&&Ee!==null?Ee=ar(Ee):(Ee=bi(y)?Ps:Nt.current,Ee=Bs(h,Ee));var je=y.getDerivedStateFromProps,at=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function";at||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==M||fe!==Ee)&&sb(h,N,M,Ee),xo=!1;var nt=h.memoizedState;N.state=nt,hp(h,M,N,b),fe=h.memoizedState,K!==M||nt!==fe||zn.current||xo?(typeof je=="function"&&(Xy(h,y,je,M),fe=h.memoizedState),(K=xo||ib(h,y,K,M,nt,fe,Ee))?(at||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(h.flags|=4194308)):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=fe),N.props=M,N.state=fe,N.context=Ee,M=K):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{N=h.stateNode,$S(c,h),K=h.memoizedProps,Ee=h.type===h.elementType?K:Ir(h.type,K),N.props=Ee,at=h.pendingProps,nt=N.context,fe=y.contextType,typeof fe=="object"&&fe!==null?fe=ar(fe):(fe=bi(y)?Ps:Nt.current,fe=Bs(h,fe));var Wt=y.getDerivedStateFromProps;(je=typeof Wt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==at||nt!==fe)&&sb(h,N,M,fe),xo=!1,nt=h.memoizedState,N.state=nt,hp(h,M,N,b);var Ze=h.memoizedState;K!==at||nt!==Ze||zn.current||xo?(typeof Wt=="function"&&(Xy(h,y,Wt,M),Ze=h.memoizedState),(Ee=xo||ib(h,y,Ee,M,nt,Ze,fe)||!1)?(je||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(M,Ze,fe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(M,Ze,fe)),typeof N.componentDidUpdate=="function"&&(h.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=Ze),N.props=M,N.state=Ze,N.context=fe,M=Ee):(typeof N.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=1024),M=!1)}return dv(c,h,y,M,T,b)}function dv(c,h,y,M,b,T){Vb(c,h);var N=(h.flags&128)!==0;if(!M&&!N)return b&&YS(h,y,!1),ks(c,h,T);M=h.stateNode,fO.current=h;var K=N&&typeof y.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,c!==null&&N?(h.child=Zl(h,c.child,null,T),h.child=Zl(h,null,K,T)):fi(c,h,K,T),h.memoizedState=M.state,b&&YS(h,y,!0),h.child}function jb(c){var h=c.stateNode;h.pendingContext?JS(c,h.pendingContext,h.pendingContext!==h.context):h.context&&JS(c,h.context,!1),ev(c,h.containerInfo)}function Jb(c,h,y,M,b){return ql(),$y(b),h.flags|=256,fi(c,h,y,M),h.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Ep(c){return{baseLanes:c,cachePool:null}}function Xb(c,h,y){var M=h.pendingProps,b=on.current,T=!1,N=(h.flags&128)!==0,K;if((K=N)||(K=c!==null&&c.memoizedState===null?!1:(b&2)!==0),K?(T=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(b|=1),Pt(on,b&1),c===null)return Zy(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(h.mode&1?Uc(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(b=M.children,c=M.fallback,T?(M=h.mode,T=h.child,b={mode:"hidden",children:b},!(M&1)&&T!==null?(T.childLanes=0,T.pendingProps=b):T=Xp(b,M,0,null),c=Na(c,M,y,null),T.return=h,c.return=h,T.sibling=c,h.child=T,h.child.memoizedState=Ep(y),h.memoizedState=Cp,c):pv(h,b));if(b=c.memoizedState,b!==null){if(K=b.dehydrated,K!==null){if(N)return h.flags&256?(h.flags&=-257,Tp(c,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(T=M.fallback,b=h.mode,M=Xp({mode:"visible",children:M.children},b,0,null),T=Na(T,b,y,null),T.flags|=2,M.return=h,T.return=h,M.sibling=T,h.child=M,h.mode&1&&Zl(h,c.child,null,y),h.child.memoizedState=Ep(y),h.memoizedState=Cp,T);if(!(h.mode&1))h=Tp(c,h,y,null);else if(Uc(K))h=Tp(c,h,y,Error(o(419)));else if(M=(y&c.childLanes)!==0,Ui||M){if(M=Cn,M!==null){switch(y&-y){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}M=T&(M.suspendedLanes|y)?0:T,M!==0&&M!==b.retryLane&&(b.retryLane=M,fr(c,M,-1))}Dv(),h=Tp(c,h,y,Error(o(421)))}else $d(K)?(h.flags|=128,h.child=c.child,h=bO.bind(null,c),k(K,h),h=null):(y=b.treeContext,ae&&(zi=ve(K),Ni=h,en=!0,Lr=null,Vc=!1,y!==null&&(lr[ur++]=Ls,lr[ur++]=Ds,lr[ur++]=Ba,Ls=y.id,Ds=y.overflow,Ba=h)),h=pv(h,h.pendingProps.children),h.flags|=4096);return h}return T?(M=Kb(c,h,M.children,M.fallback,y),T=h.child,b=c.child.memoizedState,T.memoizedState=b===null?Ep(y):{baseLanes:b.baseLanes|y,cachePool:null},T.childLanes=c.childLanes&~y,h.memoizedState=Cp,M):(y=Yb(c,h,M.children,y),h.memoizedState=null,y)}return T?(M=Kb(c,h,M.children,M.fallback,y),T=h.child,b=c.child.memoizedState,T.memoizedState=b===null?Ep(y):{baseLanes:b.baseLanes|y,cachePool:null},T.childLanes=c.childLanes&~y,h.memoizedState=Cp,M):(y=Yb(c,h,M.children,y),h.memoizedState=null,y)}function pv(c,h){return h=Xp({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Yb(c,h,y,M){var b=c.child;return c=b.sibling,y=bo(b,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=M),y.return=h,y.sibling=null,c!==null&&(M=h.deletions,M===null?(h.deletions=[c],h.flags|=16):M.push(c)),h.child=y}function Kb(c,h,y,M,b){var T=h.mode;c=c.child;var N=c.sibling,K={mode:"hidden",children:y};return!(T&1)&&h.child!==c?(y=h.child,y.childLanes=0,y.pendingProps=K,h.deletions=null):(y=bo(c,K),y.subtreeFlags=c.subtreeFlags&14680064),N!==null?M=bo(N,M):(M=Na(M,T,b,null),M.flags|=2),M.return=h,y.return=h,y.sibling=M,h.child=y,M}function Tp(c,h,y,M){return M!==null&&$y(M),Zl(h,c.child,null,y),c=pv(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function Qb(c,h,y){c.lanes|=h;var M=c.alternate;M!==null&&(M.lanes|=h),jy(c.return,h,y)}function mv(c,h,y,M,b){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:b}:(T.isBackwards=h,T.rendering=null,T.renderingStartTime=0,T.last=M,T.tail=y,T.tailMode=b)}function qb(c,h,y){var M=h.pendingProps,b=M.revealOrder,T=M.tail;if(fi(c,h,M.children,y),M=on.current,M&2)M=M&1|2,h.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Qb(c,y,h);else if(c.tag===19)Qb(c,y,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}if(Pt(on,M),!(h.mode&1))h.memoizedState=null;else switch(b){case"forwards":for(y=h.child,b=null;y!==null;)c=y.alternate,c!==null&&gp(c)===null&&(b=y),y=y.sibling;y=b,y===null?(b=h.child,h.child=null):(b=y.sibling,y.sibling=null),mv(h,!1,b,y,T);break;case"backwards":for(y=null,b=h.child,h.child=null;b!==null;){if(c=b.alternate,c!==null&&gp(c)===null){h.child=b;break}c=b.sibling,b.sibling=y,y=b,b=c}mv(h,!0,y,null,T);break;case"together":mv(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ks(c,h,y){if(c!==null&&(h.dependencies=c.dependencies),iu|=h.lanes,!(y&h.childLanes))return null;if(c!==null&&h.child!==c.child)throw Error(o(153));if(h.child!==null){for(c=h.child,y=bo(c,c.pendingProps),h.child=y,y.return=h;c.sibling!==null;)c=c.sibling,y=y.sibling=bo(c,c.pendingProps),y.return=h;y.sibling=null}return h.child}function dO(c,h,y){switch(h.tag){case 3:jb(h),ql();break;case 5:db(h);break;case 1:bi(h.type)&&tp(h);break;case 4:ev(h,h.stateNode.containerInfo);break;case 10:ZS(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(Pt(on,on.current&1),h.flags|=128,null):y&h.child.childLanes?Xb(c,h,y):(Pt(on,on.current&1),c=ks(c,h,y),c!==null?c.sibling:null);Pt(on,on.current&1);break;case 19:if(M=(y&h.childLanes)!==0,c.flags&128){if(M)return qb(c,h,y);h.flags|=128}var b=h.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Pt(on,on.current),M)break;return null;case 22:case 23:return h.lanes=0,Hb(c,h,y)}return ks(c,h,y)}function pO(c,h){switch(Qy(h),h.tag){case 1:return bi(h.type)&&ep(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return eu(),dt(zn),dt(Nt),iv(),c=h.flags,c&65536&&!(c&128)?(h.flags=c&-65537|128,h):null;case 5:return tv(h),null;case 13:if(dt(on),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(o(340));ql()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return dt(on),null;case 4:return eu(),null;case 10:return Wy(h.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var Pp=!1,La=!1,mO=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Bp(c,h){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){Ti(c,h,M)}else y.current=null}function gv(c,h,y){try{y()}catch(M){Ti(c,h,M)}}var Zb=!1;function gO(c,h){for(U(c.containerInfo),Oe=h;Oe!==null;)if(c=Oe,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,Oe=h;else for(;Oe!==null;){c=Oe;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,b=y.memoizedState,T=c.stateNode,N=T.getSnapshotBeforeUpdate(c.elementType===c.type?M:Ir(c.type,M),b);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:Fe&&Ue(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){Ti(c,c.return,K)}if(h=c.sibling,h!==null){h.return=c.return,Oe=h;break}Oe=c.return}return y=Zb,Zb=!1,y}function Da(c,h,y){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var b=M=M.next;do{if((b.tag&c)===c){var T=b.destroy;b.destroy=void 0,T!==void 0&&gv(h,y,T)}b=b.next}while(b!==M)}}function th(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&c)===c){var M=y.create;y.destroy=M()}y=y.next}while(y!==h)}}function yv(c){var h=c.ref;if(h!==null){var y=c.stateNode;switch(c.tag){case 5:c=ee(y);break;default:c=y}typeof h=="function"?h(c):h.current=c}}function $b(c,h,y){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(sp,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(c=h.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var M=c=c.next;do{var b=M,T=b.destroy;b=b.tag,T!==void 0&&(b&2||b&4)&&gv(h,y,T),M=M.next}while(M!==c)}break;case 1:if(Bp(h,y),c=h.stateNode,typeof c.componentWillUnmount=="function")try{c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(N){Ti(h,y,N)}break;case 5:Bp(h,y);break;case 4:Fe?sC(c,h,y):de&&de&&(h=h.stateNode.containerInfo,y=Rt(h),rs(h,y))}}function eC(c,h,y){for(var M=h;;)if($b(c,M,y),M.child===null||Fe&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function tC(c){var h=c.alternate;h!==null&&(c.alternate=null,tC(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&$e(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function nC(c){return c.tag===5||c.tag===3||c.tag===4}function iC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||nC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function rC(c){if(Fe){e:{for(var h=c.return;h!==null;){if(nC(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(_t(h),y.flags&=-33),y=iC(c),xv(c,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=iC(c),vv(c,y,h);break;default:throw Error(o(161))}}}function vv(c,h,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?we(y,c,h):ke(y,c);else if(M!==4&&(c=c.child,c!==null))for(vv(c,h,y),c=c.sibling;c!==null;)vv(c,h,y),c=c.sibling}function xv(c,h,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?le(y,c,h):it(y,c);else if(M!==4&&(c=c.child,c!==null))for(xv(c,h,y),c=c.sibling;c!==null;)xv(c,h,y),c=c.sibling}function sC(c,h,y){for(var M=h,b=!1,T,N;;){if(!b){b=M.return;e:for(;;){if(b===null)throw Error(o(160));switch(T=b.stateNode,b.tag){case 5:N=!1;break e;case 3:T=T.containerInfo,N=!0;break e;case 4:T=T.containerInfo,N=!0;break e}b=b.return}b=!0}if(M.tag===5||M.tag===6)eC(c,M,y),N?tt(T,M.stateNode):Te(T,M.stateNode);else if(M.tag===18)N?mn(T,M.stateNode):St(T,M.stateNode);else if(M.tag===4){if(M.child!==null){T=M.stateNode.containerInfo,N=!0,M.child.return=M,M=M.child;continue}}else if($b(c,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(b=!1)}M.sibling.return=M.return,M=M.sibling}}function _v(c,h){if(Fe){switch(h.tag){case 0:case 11:case 14:case 15:Da(3,h,h.return),th(3,h),Da(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var M=h.memoizedProps;c=c!==null?c.memoizedProps:M;var b=h.type,T=h.updateQueue;h.updateQueue=null,T!==null&&J(y,T,b,c,M,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,ye(h.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:ae&&c!==null&&c.memoizedState.isDehydrated&&Et(h.stateNode.containerInfo);return;case 12:return;case 13:Rp(h);return;case 19:Rp(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Da(3,h,h.return),th(3,h),Da(5,h,h.return);return;case 12:return;case 13:Rp(h);return;case 19:Rp(h);return;case 3:ae&&c!==null&&c.memoizedState.isDehydrated&&Et(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,rs(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Rp(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new mO),h.forEach(function(M){var b=CO.bind(null,c,M);y.has(M)||(y.add(M),M.then(b,b))})}}function yO(c,h){for(Oe=h;Oe!==null;){h=Oe;var y=h.deletions;if(y!==null)for(var M=0;M<y.length;M++){var b=y[M];try{var T=c;Fe?sC(T,b,h):eC(T,b,h);var N=b.alternate;N!==null&&(N.return=null),b.return=null}catch(Qe){Ti(b,h,Qe)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,Oe=y;else for(;Oe!==null;){h=Oe;try{var K=h.flags;if(K&32&&Fe&&_t(h.stateNode),K&512){var fe=h.alternate;if(fe!==null){var Ee=fe.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(K&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var je=h.alternate;(je===null||je.memoizedState===null)&&(Ev=Un())}break;case 22:var at=h.memoizedState!==null,nt=h.alternate,Wt=nt!==null&&nt.memoizedState!==null;if(y=h,Fe){e:if(M=y,b=at,T=null,Fe)for(var Ze=M;;){if(Ze.tag===5){if(T===null){T=Ze;var ni=Ze.stateNode;b?Yt(ni):ce(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(T===null){var pr=Ze.stateNode;b?Q(pr):_e(pr,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===M)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===M)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===M)break e;T===Ze&&(T=null),Ze=Ze.return}T===Ze&&(T=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(at&&!Wt&&y.mode&1){Oe=y;for(var re=y.child;re!==null;){for(y=Oe=re;Oe!==null;){M=Oe;var q=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Da(4,M,M.return);break;case 1:Bp(M,M.return);var ue=M.stateNode;if(typeof ue.componentWillUnmount=="function"){var Ne=M.return;try{ue.props=M.memoizedProps,ue.state=M.memoizedState,ue.componentWillUnmount()}catch(Qe){Ti(M,Ne,Qe)}}break;case 5:Bp(M,M.return);break;case 22:if(M.memoizedState!==null){lC(y);continue}}q!==null?(q.return=M,Oe=q):lC(y)}re=re.sibling}}}switch(K&4102){case 2:rC(h),h.flags&=-3;break;case 6:rC(h),h.flags&=-3,_v(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,_v(h.alternate,h);break;case 4:_v(h.alternate,h)}}catch(Qe){Ti(h,h.return,Qe)}if(y=h.sibling,y!==null){y.return=h.return,Oe=y;break}Oe=h.return}}}function vO(c,h,y){Oe=c,oC(c)}function oC(c,h,y){for(var M=(c.mode&1)!==0;Oe!==null;){var b=Oe,T=b.child;if(b.tag===22&&M){var N=b.memoizedState!==null||Pp;if(!N){var K=b.alternate,fe=K!==null&&K.memoizedState!==null||La;K=Pp;var Ee=La;if(Pp=N,(La=fe)&&!Ee)for(Oe=b;Oe!==null;)N=Oe,fe=N.child,N.tag===22&&N.memoizedState!==null?uC(b):fe!==null?(fe.return=N,Oe=fe):uC(b);for(;T!==null;)Oe=T,oC(T),T=T.sibling;Oe=b,Pp=K,La=Ee}aC(c)}else b.subtreeFlags&8772&&T!==null?(T.return=b,Oe=T):aC(c)}}function aC(c){for(;Oe!==null;){var h=Oe;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:La||th(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!La)if(y===null)M.componentDidMount();else{var b=h.elementType===h.type?y.memoizedProps:Ir(h.type,y.memoizedProps);M.componentDidUpdate(b,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var T=h.updateQueue;T!==null&&tb(h,T,M);break;case 3:var N=h.updateQueue;if(N!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=ee(h.child.stateNode);break;case 1:y=h.child.stateNode}tb(h,N,y)}break;case 5:var K=h.stateNode;y===null&&h.flags&4&&Ke(K,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&h.memoizedState===null){var fe=h.alternate;if(fe!==null){var Ee=fe.memoizedState;if(Ee!==null){var je=Ee.dehydrated;je!==null&&Mt(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}La||h.flags&512&&yv(h)}catch(at){Ti(h,h.return,at)}}if(h===c){Oe=null;break}if(y=h.sibling,y!==null){y.return=h.return,Oe=y;break}Oe=h.return}}function lC(c){for(;Oe!==null;){var h=Oe;if(h===c){Oe=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Oe=y;break}Oe=h.return}}function uC(c){for(;Oe!==null;){var h=Oe;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{th(4,h)}catch(fe){Ti(h,y,fe)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var b=h.return;try{M.componentDidMount()}catch(fe){Ti(h,b,fe)}}var T=h.return;try{yv(h)}catch(fe){Ti(h,T,fe)}break;case 5:var N=h.return;try{yv(h)}catch(fe){Ti(h,N,fe)}}}catch(fe){Ti(h,h.return,fe)}if(h===c){Oe=null;break}var K=h.sibling;if(K!==null){K.return=h.return,Oe=K;break}Oe=h.return}}var Ip=0,Lp=1,Dp=2,Fp=3,kp=4;if(typeof Symbol=="function"&&Symbol.for){var nh=Symbol.for;Ip=nh("selector.component"),Lp=nh("selector.has_pseudo_class"),Dp=nh("selector.role"),Fp=nh("selector.test_id"),kp=nh("selector.text")}function wv(c){var h=be(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(c=Ct(c),c===null)throw Error(o(362));return c.stateNode.current}function Av(c,h){switch(h.$$typeof){case Ip:if(c.type===h.value)return!0;break;case Lp:e:{h=h.value,c=[c,0];for(var y=0;y<c.length;){var M=c[y++],b=c[y++],T=h[b];if(M.tag!==5||!oe(M)){for(;T!=null&&Av(M,T);)b++,T=h[b];if(b===h.length){h=!0;break e}else for(M=M.child;M!==null;)c.push(M,b),M=M.sibling}}h=!1}return h;case Dp:if(c.tag===5&&Me(c.stateNode,h.value))return!0;break;case kp:if((c.tag===5||c.tag===6)&&(c=L(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case Fp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Mv(c){switch(c.$$typeof){case Ip:return"<"+(R(c.value)||"Unknown")+">";case Lp:return":has("+(Mv(c)||"")+")";case Dp:return'[role="'+c.value+'"]';case kp:return'"'+c.value+'"';case Fp:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function cC(c,h){var y=[];c=[c,0];for(var M=0;M<c.length;){var b=c[M++],T=c[M++],N=h[T];if(b.tag!==5||!oe(b)){for(;N!=null&&Av(b,N);)T++,N=h[T];if(T===h.length)y.push(b);else for(b=b.child;b!==null;)c.push(b,T),b=b.sibling}}return y}function Sv(c,h){if(!wt)throw Error(o(363));c=wv(c),c=cC(c,h),h=[],c=Array.from(c);for(var y=0;y<c.length;){var M=c[y++];if(M.tag===5)oe(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return h}var xO=Math.ceil,Op=a.ReactCurrentDispatcher,bv=a.ReactCurrentOwner,An=a.ReactCurrentBatchConfig,xt=0,Cn=null,En=null,Xn=0,Gi=0,nu=sr(0),In=0,ih=null,iu=0,Np=0,Cv=0,rh=null,Ci=null,Ev=0,Tv=1/0;function ru(){Tv=Un()+500}var zp=!1,Pv=null,wo=null,Up=!1,Ao=null,Gp=0,sh=0,Bv=null,Hp=-1,Vp=0;function di(){return xt&6?Un():Hp!==-1?Hp:Hp=Un()}function Mo(c){return c.mode&1?xt&2&&Xn!==0?Xn&-Xn:tO.transition!==null?(Vp===0&&(c=np,np<<=1,!(np&4194240)&&(np=64),Vp=c),Vp):(c=Dt,c!==0?c:Be()):1}function fr(c,h,y){if(50<sh)throw sh=0,Bv=null,Error(o(185));var M=Wp(c,h);return M===null?null:(Hc(M,h,y),(!(xt&2)||M!==Cn)&&(M===Cn&&(!(xt&2)&&(Np|=h),In===4&&So(M,Xn)),Ei(M,y),h===1&&xt===0&&!(c.mode&1)&&(ru(),op&&as())),M)}function Wp(c,h){c.lanes|=h;var y=c.alternate;for(y!==null&&(y.lanes|=h),y=c,c=c.return;c!==null;)c.childLanes|=h,y=c.alternate,y!==null&&(y.childLanes|=h),y=c,c=c.return;return y.tag===3?y.stateNode:null}function Ei(c,h){var y=c.callbackNode;Jk(c,h);var M=rp(c,c===Cn?Xn:0);if(M===0)y!==null&&QS(y),c.callbackNode=null,c.callbackPriority=0;else if(h=M&-M,c.callbackPriority!==h){if(y!=null&&QS(y),h===1)c.tag===0?eO(fC.bind(null,c)):qS(fC.bind(null,c)),Ye?Je(function(){xt===0&&as()}):Ny(zy,as),y=null;else{switch(KS(M)){case 1:y=zy;break;case 4:y=Qk;break;case 16:y=Uy;break;case 536870912:y=qk;break;default:y=Uy}y=wC(y,hC.bind(null,c))}c.callbackPriority=h,c.callbackNode=y}}function hC(c,h){if(Hp=-1,Vp=0,xt&6)throw Error(o(327));var y=c.callbackNode;if(Oa()&&c.callbackNode!==y)return null;var M=rp(c,c===Cn?Xn:0);if(M===0)return null;if(M&30||M&c.expiredLanes||h)h=jp(c,M);else{h=M;var b=xt;xt|=2;var T=mC();(Cn!==c||Xn!==h)&&(ru(),Fa(c,h));do try{AO();break}catch(K){pC(c,K)}while(1);Vy(),Op.current=T,xt=b,En!==null?h=0:(Cn=null,Xn=0,h=In)}if(h!==0){if(h===2&&(b=Fy(c),b!==0&&(M=b,h=Rv(c,b))),h===1)throw y=ih,Fa(c,0),So(c,M),Ei(c,Un()),y;if(h===6)So(c,M);else{if(b=c.current.alternate,!(M&30)&&!_O(b)&&(h=jp(c,M),h===2&&(T=Fy(c),T!==0&&(M=T,h=Rv(c,T))),h===1))throw y=ih,Fa(c,0),So(c,M),Ei(c,Un()),y;switch(c.finishedWork=b,c.finishedLanes=M,h){case 0:case 1:throw Error(o(345));case 2:ka(c,Ci);break;case 3:if(So(c,M),(M&130023424)===M&&(h=Ev+500-Un(),10<h)){if(rp(c,0)!==0)break;if(b=c.suspendedLanes,(b&M)!==M){di(),c.pingedLanes|=c.suspendedLanes&b;break}c.timeoutHandle=De(ka.bind(null,c,Ci),h);break}ka(c,Ci);break;case 4:if(So(c,M),(M&4194240)===M)break;for(h=c.eventTimes,b=-1;0<M;){var N=31-Rr(M);T=1<<N,N=h[N],N>b&&(b=N),M&=~T}if(M=b,M=Un()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*xO(M/1960))-M,10<M){c.timeoutHandle=De(ka.bind(null,c,Ci),M);break}ka(c,Ci);break;case 5:ka(c,Ci);break;default:throw Error(o(329))}}}return Ei(c,Un()),c.callbackNode===y?hC.bind(null,c):null}function Rv(c,h){var y=rh;return c.current.memoizedState.isDehydrated&&(Fa(c,h).flags|=256),c=jp(c,h),c!==2&&(h=Ci,Ci=y,h!==null&&Iv(h)),c}function Iv(c){Ci===null?Ci=c:Ci.push.apply(Ci,c)}function _O(c){for(var h=c;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var b=y[M],T=b.getSnapshot;b=b.value;try{if(!os(T(),b))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function So(c,h){for(h&=~Cv,h&=~Np,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var y=31-Rr(h),M=1<<y;c[y]=-1,h&=~M}}function fC(c){if(xt&6)throw Error(o(327));Oa();var h=rp(c,0);if(!(h&1))return Ei(c,Un()),null;var y=jp(c,h);if(c.tag!==0&&y===2){var M=Fy(c);M!==0&&(h=M,y=Rv(c,M))}if(y===1)throw y=ih,Fa(c,0),So(c,h),Ei(c,Un()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,ka(c,Ci),Ei(c,Un()),null}function dC(c){Ao!==null&&Ao.tag===0&&!(xt&6)&&Oa();var h=xt;xt|=1;var y=An.transition,M=Dt;try{if(An.transition=null,Dt=1,c)return c()}finally{Dt=M,An.transition=y,xt=h,!(xt&6)&&as()}}function Lv(){Gi=nu.current,dt(nu)}function Fa(c,h){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==We&&(c.timeoutHandle=We,ze(y)),En!==null)for(y=En.return;y!==null;){var M=y;switch(Qy(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&ep();break;case 3:eu(),dt(zn),dt(Nt),iv();break;case 5:tv(M);break;case 4:eu();break;case 13:dt(on);break;case 19:dt(on);break;case 10:Wy(M.type._context);break;case 22:case 23:Lv()}y=y.return}if(Cn=c,En=c=bo(c.current,null),Xn=Gi=h,In=0,ih=null,Cv=Np=iu=0,Ci=rh=null,ls!==null){for(h=0;h<ls.length;h++)if(y=ls[h],M=y.interleaved,M!==null){y.interleaved=null;var b=M.next,T=y.pending;if(T!==null){var N=T.next;T.next=b,M.next=N}y.pending=M}ls=null}return c}function pC(c,h){do{var y=En;try{if(Vy(),yp.current=Mp,vp){for(var M=yn.memoizedState;M!==null;){var b=M.queue;b!==null&&(b.pending=null),M=M.next}vp=!1}if(tu=0,Gn=$n=yn=null,Yc=!1,Kc=0,bv.current=null,y===null||y.return===null){In=1,ih=h,En=null;break}e:{var T=c,N=y.return,K=y,fe=h;if(h=Xn,K.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,je=K,at=je.tag;if(!(je.mode&1)&&(at===0||at===11||at===15)){var nt=je.alternate;nt?(je.updateQueue=nt.updateQueue,je.memoizedState=nt.memoizedState,je.lanes=nt.lanes):(je.updateQueue=null,je.memoizedState=null)}var Wt=Fb(N);if(Wt!==null){Wt.flags&=-257,kb(Wt,N,K,T,h),Wt.mode&1&&Db(T,Ee,h),h=Wt,fe=Ee;var Ze=h.updateQueue;if(Ze===null){var ni=new Set;ni.add(fe),h.updateQueue=ni}else Ze.add(fe);break e}else{if(!(h&1)){Db(T,Ee,h),Dv();break e}fe=Error(o(426))}}else if(en&&K.mode&1){var pr=Fb(N);if(pr!==null){!(pr.flags&65536)&&(pr.flags|=256),kb(pr,N,K,T,h),$y(fe);break e}}T=fe,In!==4&&(In=2),rh===null?rh=[T]:rh.push(T),fe=cv(fe,K),K=N;do{switch(K.tag){case 3:K.flags|=65536,h&=-h,K.lanes|=h;var re=Ib(K,fe,h);eb(K,re);break e;case 1:T=fe;var q=K.type,ue=K.stateNode;if(!(K.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(wo===null||!wo.has(ue)))){K.flags|=65536,h&=-h,K.lanes|=h;var Ne=Lb(K,T,h);eb(K,Ne);break e}}K=K.return}while(K!==null)}yC(y)}catch(Qe){h=Qe,En===y&&y!==null&&(En=y=y.return);continue}break}while(1)}function mC(){var c=Op.current;return Op.current=Mp,c===null?Mp:c}function Dv(){(In===0||In===3||In===2)&&(In=4),Cn===null||!(iu&268435455)&&!(Np&268435455)||So(Cn,Xn)}function jp(c,h){var y=xt;xt|=2;var M=mC();Cn===c&&Xn===h||Fa(c,h);do try{wO();break}catch(b){pC(c,b)}while(1);if(Vy(),xt=y,Op.current=M,En!==null)throw Error(o(261));return Cn=null,Xn=0,In}function wO(){for(;En!==null;)gC(En)}function AO(){for(;En!==null&&!Yk();)gC(En)}function gC(c){var h=_C(c.alternate,c,Gi);c.memoizedProps=c.pendingProps,h===null?yC(c):En=h,bv.current=null}function yC(c){var h=c;do{var y=h.alternate;if(c=h.return,h.flags&32768){if(y=pO(y,h),y!==null){y.flags&=32767,En=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{In=6,En=null;return}}else if(y=hO(y,h,Gi),y!==null){En=y;return}if(h=h.sibling,h!==null){En=h;return}En=h=c}while(h!==null);In===0&&(In=5)}function ka(c,h){var y=Dt,M=An.transition;try{An.transition=null,Dt=1,MO(c,h,y)}finally{An.transition=M,Dt=y}return null}function MO(c,h,y){do Oa();while(Ao!==null);if(xt&6)throw Error(o(327));var M=c.finishedWork,b=c.finishedLanes;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var T=M.lanes|M.childLanes;if(Xk(c,T),c===Cn&&(En=Cn=null,Xn=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Up||(Up=!0,wC(Uy,function(){return Oa(),null})),T=(M.flags&15990)!==0,M.subtreeFlags&15990||T){T=An.transition,An.transition=null;var N=Dt;Dt=1;var K=xt;xt|=4,bv.current=null,gO(c,M),yO(c,M),G(c.containerInfo),c.current=M,vO(M),Kk(),xt=K,Dt=N,An.transition=T}else c.current=M;if(Up&&(Up=!1,Ao=c,Gp=b),T=c.pendingLanes,T===0&&(wo=null),Zk(M.stateNode),Ei(c,Un()),h!==null)for(y=c.onRecoverableError,M=0;M<h.length;M++)y(h[M]);if(zp)throw zp=!1,c=Pv,Pv=null,c;return Gp&1&&c.tag!==0&&Oa(),T=c.pendingLanes,T&1?c===Bv?sh++:(sh=0,Bv=c):sh=0,as(),null}function Oa(){if(Ao!==null){var c=KS(Gp),h=An.transition,y=Dt;try{if(An.transition=null,Dt=16>c?16:c,Ao===null)var M=!1;else{if(c=Ao,Ao=null,Gp=0,xt&6)throw Error(o(331));var b=xt;for(xt|=4,Oe=c.current;Oe!==null;){var T=Oe,N=T.child;if(Oe.flags&16){var K=T.deletions;if(K!==null){for(var fe=0;fe<K.length;fe++){var Ee=K[fe];for(Oe=Ee;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:Da(8,je,T)}var at=je.child;if(at!==null)at.return=je,Oe=at;else for(;Oe!==null;){je=Oe;var nt=je.sibling,Wt=je.return;if(tC(je),je===Ee){Oe=null;break}if(nt!==null){nt.return=Wt,Oe=nt;break}Oe=Wt}}}var Ze=T.alternate;if(Ze!==null){var ni=Ze.child;if(ni!==null){Ze.child=null;do{var pr=ni.sibling;ni.sibling=null,ni=pr}while(ni!==null)}}Oe=T}}if(T.subtreeFlags&2064&&N!==null)N.return=T,Oe=N;else e:for(;Oe!==null;){if(T=Oe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Da(9,T,T.return)}var re=T.sibling;if(re!==null){re.return=T.return,Oe=re;break e}Oe=T.return}}var q=c.current;for(Oe=q;Oe!==null;){N=Oe;var ue=N.child;if(N.subtreeFlags&2064&&ue!==null)ue.return=N,Oe=ue;else e:for(N=q;Oe!==null;){if(K=Oe,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:th(9,K)}}catch(Qe){Ti(K,K.return,Qe)}if(K===N){Oe=null;break e}var Ne=K.sibling;if(Ne!==null){Ne.return=K.return,Oe=Ne;break e}Oe=K.return}}if(xt=b,as(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(sp,c)}catch{}M=!0}return M}finally{Dt=y,An.transition=h}}return!1}function vC(c,h,y){h=cv(y,h),h=Ib(c,h,1),_o(c,h),h=di(),c=Wp(c,1),c!==null&&(Hc(c,1,h),Ei(c,h))}function Ti(c,h,y){if(c.tag===3)vC(c,c,y);else for(;h!==null;){if(h.tag===3){vC(h,c,y);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(wo===null||!wo.has(M))){c=cv(y,c),c=Lb(h,c,1),_o(h,c),c=di(),h=Wp(h,1),h!==null&&(Hc(h,1,c),Ei(h,c));break}}h=h.return}}function SO(c,h,y){var M=c.pingCache;M!==null&&M.delete(h),h=di(),c.pingedLanes|=c.suspendedLanes&y,Cn===c&&(Xn&y)===y&&(In===4||In===3&&(Xn&130023424)===Xn&&500>Un()-Ev?Fa(c,0):Cv|=y),Ei(c,h)}function xC(c,h){h===0&&(c.mode&1?(h=ip,ip<<=1,!(ip&130023424)&&(ip=4194304)):h=1);var y=di();c=Wp(c,h),c!==null&&(Hc(c,h,y),Ei(c,y))}function bO(c){var h=c.memoizedState,y=0;h!==null&&(y=h.retryLane),xC(c,y)}function CO(c,h){var y=0;switch(c.tag){case 13:var M=c.stateNode,b=c.memoizedState;b!==null&&(y=b.retryLane);break;case 19:M=c.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(h),xC(c,y)}var _C;_C=function(c,h,y){if(c!==null)if(c.memoizedProps!==h.pendingProps||zn.current)Ui=!0;else{if(!(c.lanes&y)&&!(h.flags&128))return Ui=!1,dO(c,h,y);Ui=!!(c.flags&131072)}else Ui=!1,en&&h.flags&1048576&&ob(h,pp,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps;var b=Bs(h,Nt.current);Yl(h,y),b=sv(null,h,M,c,b,y);var T=ov();return h.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,bi(M)?(T=!0,tp(h)):T=!1,h.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Jy(h),b.updater=fp,h.stateNode=b,b._reactInternals=h,Yy(h,M,c,y),h=dv(null,h,M,!0,T,y)):(h.tag=0,en&&T&&Ky(h),fi(null,h,b,y),h=h.child),h;case 16:M=h.elementType;e:{switch(c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps,b=M._init,M=b(M._payload),h.type=M,b=h.tag=TO(M),c=Ir(M,c),b){case 0:h=fv(null,h,M,c,y);break e;case 1:h=Wb(null,h,M,c,y);break e;case 11:h=zb(null,h,M,c,y);break e;case 14:h=Ub(null,h,M,Ir(M.type,c),y);break e}throw Error(o(306,M,""))}return h;case 0:return M=h.type,b=h.pendingProps,b=h.elementType===M?b:Ir(M,b),fv(c,h,M,b,y);case 1:return M=h.type,b=h.pendingProps,b=h.elementType===M?b:Ir(M,b),Wb(c,h,M,b,y);case 3:e:{if(jb(h),c===null)throw Error(o(387));M=h.pendingProps,T=h.memoizedState,b=T.element,$S(c,h),hp(h,M,null,y);var N=h.memoizedState;if(M=N.element,ae&&T.isDehydrated)if(T={element:M,isDehydrated:!1,cache:N.cache,transitions:N.transitions},h.updateQueue.baseState=T,h.memoizedState=T,h.flags&256){b=Error(o(423)),h=Jb(c,h,M,y,b);break e}else if(M!==b){b=Error(o(424)),h=Jb(c,h,M,y,b);break e}else for(ae&&(zi=te(h.stateNode.containerInfo),Ni=h,en=!0,Lr=null,Vc=!1),y=fb(h,null,M,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ql(),M===b){h=ks(c,h,y);break e}fi(c,h,M,y)}h=h.child}return h;case 5:return db(h),c===null&&Zy(h),M=h.type,b=h.pendingProps,T=c!==null?c.memoizedProps:null,N=b.children,xe(M,b)?N=null:T!==null&&xe(M,T)&&(h.flags|=32),Vb(c,h),fi(c,h,N,y),h.child;case 6:return c===null&&Zy(h),null;case 13:return Xb(c,h,y);case 4:return ev(h,h.stateNode.containerInfo),M=h.pendingProps,c===null?h.child=Zl(h,null,M,y):fi(c,h,M,y),h.child;case 11:return M=h.type,b=h.pendingProps,b=h.elementType===M?b:Ir(M,b),zb(c,h,M,b,y);case 7:return fi(c,h,h.pendingProps,y),h.child;case 8:return fi(c,h,h.pendingProps.children,y),h.child;case 12:return fi(c,h,h.pendingProps.children,y),h.child;case 10:e:{if(M=h.type._context,b=h.pendingProps,T=h.memoizedProps,N=b.value,ZS(h,M,N),T!==null)if(os(T.value,N)){if(T.children===b.children&&!zn.current){h=ks(c,h,y);break e}}else for(T=h.child,T!==null&&(T.return=h);T!==null;){var K=T.dependencies;if(K!==null){N=T.child;for(var fe=K.firstContext;fe!==null;){if(fe.context===M){if(T.tag===1){fe=Is(-1,y&-y),fe.tag=2;var Ee=T.updateQueue;if(Ee!==null){Ee=Ee.shared;var je=Ee.pending;je===null?fe.next=fe:(fe.next=je.next,je.next=fe),Ee.pending=fe}}T.lanes|=y,fe=T.alternate,fe!==null&&(fe.lanes|=y),jy(T.return,y,h),K.lanes|=y;break}fe=fe.next}}else if(T.tag===10)N=T.type===h.type?null:T.child;else if(T.tag===18){if(N=T.return,N===null)throw Error(o(341));N.lanes|=y,K=N.alternate,K!==null&&(K.lanes|=y),jy(N,y,h),N=T.sibling}else N=T.child;if(N!==null)N.return=T;else for(N=T;N!==null;){if(N===h){N=null;break}if(T=N.sibling,T!==null){T.return=N.return,N=T;break}N=N.return}T=N}fi(c,h,b.children,y),h=h.child}return h;case 9:return b=h.type,M=h.pendingProps.children,Yl(h,y),b=ar(b),M=M(b),h.flags|=1,fi(c,h,M,y),h.child;case 14:return M=h.type,b=Ir(M,h.pendingProps),b=Ir(M.type,b),Ub(c,h,M,b,y);case 15:return Gb(c,h,h.type,h.pendingProps,y);case 17:return M=h.type,b=h.pendingProps,b=h.elementType===M?b:Ir(M,b),c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,bi(M)?(c=!0,tp(h)):c=!1,Yl(h,y),rb(h,M,b),Yy(h,M,b,y),dv(null,h,M,!0,c,y);case 19:return qb(c,h,y);case 22:return Hb(c,h,y)}throw Error(o(156,h.tag))};function wC(c,h){return Ny(c,h)}function EO(c,h,y,M){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(c,h,y,M){return new EO(c,h,y,M)}function Fv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function TO(c){if(typeof c=="function")return Fv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===v)return 11;if(c===_)return 14}return 2}function bo(c,h){var y=c.alternate;return y===null?(y=dr(c.tag,h,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=h,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,h=c.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function Jp(c,h,y,M,b,T){var N=2;if(M=c,typeof c=="function")Fv(c)&&(N=1);else if(typeof c=="string")N=5;else e:switch(c){case f:return Na(y.children,b,T,h);case d:N=8,b|=8;break;case p:return c=dr(12,y,h,b|2),c.elementType=p,c.lanes=T,c;case x:return c=dr(13,y,h,b),c.elementType=x,c.lanes=T,c;case w:return c=dr(19,y,h,b),c.elementType=w,c.lanes=T,c;case S:return Xp(y,b,T,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:N=10;break e;case g:N=9;break e;case v:N=11;break e;case _:N=14;break e;case A:N=16,M=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return h=dr(N,y,h,b),h.elementType=c,h.type=M,h.lanes=T,h}function Na(c,h,y,M){return c=dr(7,c,M,h),c.lanes=y,c}function Xp(c,h,y,M){return c=dr(22,c,M,h),c.elementType=S,c.lanes=y,c.stateNode={},c}function kv(c,h,y){return c=dr(6,c,null,h),c.lanes=y,c}function Ov(c,h,y){return h=dr(4,c.children!==null?c.children:[],c.key,h),h.lanes=y,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function PO(c,h,y,M,b){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=We,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ky(0),this.expirationTimes=ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ky(0),this.identifierPrefix=M,this.onRecoverableError=b,ae&&(this.mutableSourceEagerHydrationData=null)}function AC(c,h,y,M,b,T,N,K,fe){return c=new PO(c,h,y,K,fe),h===1?(h=1,T===!0&&(h|=8)):h=0,T=dr(3,null,null,h),c.current=T,T.stateNode=c,T.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},Jy(T),c}function MC(c){if(!c)return or;c=c._reactInternals;e:{if(B(c)!==c||c.tag!==1)throw Error(o(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(bi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(bi(y))return XS(c,y,h)}return h}function SC(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=Y(h),c===null?null:c.stateNode}function bC(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<h?y:h}}function Nv(c,h){bC(c,h),(c=c.alternate)&&bC(c,h)}function BO(c){return c=Y(c),c===null?null:c.stateNode}function RO(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var h=di();fr(c,134217728,h),Nv(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=di(),y=Mo(c);fr(c,y,h),Nv(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var y=Gc(h.pendingLanes);y!==0&&(Oy(h,y|1),Ei(h,Un()),!(xt&6)&&(ru(),as()))}break;case 13:var M=di();dC(function(){return fr(c,1,M)}),Nv(c,1)}},t.batchedUpdates=function(c,h){var y=xt;xt|=1;try{return c(h)}finally{xt=y,xt===0&&(ru(),op&&as())}},t.createComponentSelector=function(c){return{$$typeof:Ip,value:c}},t.createContainer=function(c,h,y,M,b,T,N){return AC(c,h,!1,null,y,M,b,T,N)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Lp,value:c}},t.createHydrationContainer=function(c,h,y,M,b,T,N,K,fe){return c=AC(y,M,!0,c,b,T,N,K,fe),c.context=MC(null),y=c.current,M=di(),b=Mo(y),T=Is(M,b),T.callback=h??null,_o(y,T),c.current.lanes=b,Hc(c,b,M),Ei(c,M),c},t.createPortal=function(c,h,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:c,containerInfo:h,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:Dp,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Fp,value:c}},t.createTextSelector=function(c){return{$$typeof:kp,value:c}},t.deferredUpdates=function(c){var h=Dt,y=An.transition;try{return An.transition=null,Dt=16,c()}finally{Dt=h,An.transition=y}},t.discreteUpdates=function(c,h,y,M,b){var T=Dt,N=An.transition;try{return An.transition=null,Dt=1,c(h,y,M,b)}finally{Dt=T,An.transition=N,xt===0&&ru()}},t.findAllNodes=Sv,t.findBoundingRects=function(c,h){if(!wt)throw Error(o(363));h=Sv(c,h),c=[];for(var y=0;y<h.length;y++)c.push(z(h[y]));for(h=c.length-1;0<h;h--){y=c[h];for(var M=y.x,b=M+y.width,T=y.y,N=T+y.height,K=h-1;0<=K;K--)if(h!==K){var fe=c[K],Ee=fe.x,je=Ee+fe.width,at=fe.y,nt=at+fe.height;if(M>=Ee&&T>=at&&b<=je&&N<=nt){c.splice(h,1);break}else if(M!==Ee||y.width!==fe.width||nt<T||at>N){if(!(T!==at||y.height!==fe.height||je<M||Ee>b)){Ee>M&&(fe.width+=Ee-M,fe.x=M),je<b&&(fe.width=b-Ee),c.splice(h,1);break}}else{at>T&&(fe.height+=at-T,fe.y=T),nt<N&&(fe.height=N-at),c.splice(h,1);break}}}return c},t.findHostInstance=SC,t.findHostInstanceWithNoPortals=function(c){return c=O(c),c=c!==null?j(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return SC(c)},t.flushControlled=function(c){var h=xt;xt|=1;var y=An.transition,M=Dt;try{An.transition=null,Dt=1,c()}finally{Dt=M,An.transition=y,xt=h,xt===0&&(ru(),as())}},t.flushPassiveEffects=Oa,t.flushSync=dC,t.focusWithin=function(c,h){if(!wt)throw Error(o(363));for(c=wv(c),h=cC(c,h),h=Array.from(h),c=0;c<h.length;){var y=h[c++];if(!oe(y)){if(y.tag===5&&Ce(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(c,h){if(!wt)throw Error(o(363));var y=0,M=[];c=[wv(c),0];for(var b=0;b<c.length;){var T=c[b++],N=c[b++],K=h[N];if((T.tag!==5||!oe(T))&&(Av(T,K)&&(M.push(Mv(K)),N++,N>y&&(y=N)),N<h.length))for(T=T.child;T!==null;)c.push(T,N),T=T.sibling}if(y<h.length){for(c=[];y<h.length;y++)c.push(Mv(h[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ee(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:BO,findFiberByHostInstance:c.findFiberByHostInstance||RO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{sp=h.inject(c),ss=h}catch{}c=!!h.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,h,y,M){if(!wt)throw Error(o(363));c=Sv(c,h);var b=Pe(c,y,M).disconnect;return{disconnect:function(){b()}}},t.registerMutableSourceForHydration=function(c,h){var y=h._getVersion;y=y(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,y]:c.mutableSourceEagerHydrationData.push(h,y)},t.runWithPriority=function(c,h){var y=Dt;try{return Dt=c,h()}finally{Dt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,h,y,M){var b=h.current,T=di(),N=Mo(b);return y=MC(y),h.context===null?h.context=y:h.pendingContext=y,h=Is(T,N),h.payload={element:c},M=M===void 0?null:M,M!==null&&(h.callback=M),_o(b,h),c=fr(b,N,T),c!==null&&cp(c,b,N),N},t};(function(n){n.exports=J6})(H6);const X6=E3(xw);var f0={},Y6={get exports(){return f0},set exports(n){f0=n}},HL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,U){var G=I.length;I.push(U);e:for(;0<G;){var $=G-1>>>1,V=I[$];if(0<r(V,U))I[$]=U,I[G]=V,G=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var U=I[0],G=I.pop();if(G!==U){I[0]=G;e:for(var $=0,V=I.length,se=V>>>1;$<se;){var he=2*($+1)-1,xe=I[he],Z=he+1,De=I[Z];if(0>r(xe,G))Z<V&&0>r(De,xe)?(I[$]=De,I[Z]=G,$=Z):(I[$]=xe,I[he]=G,$=he);else if(Z<V&&0>r(De,G))I[$]=De,I[Z]=G,$=Z;else break e}}return U}function r(I,U){var G=I.sortIndex-U.sortIndex;return G!==0?G:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var U=t(u);U!==null;){if(U.callback===null)i(u);else if(U.startTime<=I)i(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(u)}}function S(I){if(v=!1,A(I),!g)if(t(l)!==null)g=!0,ee(E);else{var U=t(u);U!==null&&ne(S,U.startTime-I)}}function E(I,U){g=!1,v&&(v=!1,w(C),C=-1),m=!0;var G=p;try{for(A(U),d=t(l);d!==null&&(!(d.expirationTime>U)||I&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var V=$(d.expirationTime<=U);U=n.unstable_now(),typeof V=="function"?d.callback=V:d===t(l)&&i(l),A(U)}else i(l);d=t(l)}if(d!==null)var se=!0;else{var he=t(u);he!==null&&ne(S,he.startTime-U),se=!1}return se}finally{d=null,p=G,m=!1}}var P=!1,R=null,C=-1,B=5,D=-1;function O(){return!(n.unstable_now()-D<B)}function Y(){if(R!==null){var I=n.unstable_now();D=I;var U=!0;try{U=R(!0,I)}finally{U?W():(P=!1,R=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(Y)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=Y,W=function(){X.postMessage(null)}}else W=function(){x(Y,0)};function ee(I){R=I,P||(P=!0,W())}function ne(I,U){C=x(function(){I(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(E))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var G=p;p=U;try{return I()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=p;p=I;try{return U()}finally{p=G}},n.unstable_scheduleCallback=function(I,U,G){var $=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,I={id:f++,callback:U,priorityLevel:I,startTime:G,expirationTime:V,sortIndex:-1},G>$?(I.sortIndex=G,e(u,I),t(l)===null&&I===t(u)&&(v?(w(C),C=-1):v=!0,ne(S,G-$))):(I.sortIndex=V,e(l,I),g||m||(g=!0,ee(E))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var U=p;return function(){var G=p;p=U;try{return I.apply(this,arguments)}finally{p=G}}}})(HL);(function(n){n.exports=HL})(Y6);function VL(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Ks=[];function WL(n,e,t=!1,i={}){for(const s of Ks)if(VL(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Ks.indexOf(r);s!==-1&&Ks.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Ks.push(r),!t)throw r.promise}const K6=(n,e,t)=>WL(n,e,!1,t),Q6=(n,e,t)=>void WL(n,e,!0,t),q6=n=>{if(n===void 0||n.length===0)Ks.splice(0,Ks.length);else{const e=Ks.find(t=>VL(n,t.keys,t.equal));if(e){const t=Ks.indexOf(e);t!==-1&&Ks.splice(t,1)}}},JM={},Z6=n=>void Object.assign(JM,n);function $6(n,e){function t(f,{args:d=[],attach:p,...m},g){let v=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;x=Cu(w,{type:f,root:g,attach:p,primitive:!0})}else{const w=JM[v];if(!w)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Cu(new w(...d),{type:f,root:g,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof ft?x.__r3f.attach="geometry":x instanceof Rn&&(x.__r3f.attach="material")),v!=="inject"&&Kx(x,m),x}function i(f,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?Yx(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(g=f.__r3f)==null||g.objects.push(d),d.__r3f||Cu(d,{}),d.__r3f.parent=f,ww(d),Eu(d)}}function r(f,d,p){let m=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)Yx(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"});const x=f.children.filter(_=>_!==d),w=x.indexOf(p);f.children=[...x.slice(0,w),d,...x.slice(w)],m=!0}m||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||Cu(d,{}),d.__r3f.parent=f,ww(d),Eu(d)}}function s(f,d,p=!1){f&&[...f].forEach(m=>o(d,m,p))}function o(f,d,p){if(d){var m,g,v;if(d.__r3f&&(d.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(S=>S!==d)),(g=d.__r3f)!=null&&g.attach)g2(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var x;f.remove(d),(x=d.__r3f)!=null&&x.root&&aW(d.__r3f.root,d)}const _=(v=d.__r3f)==null?void 0:v.primitive,A=p===void 0?d.dispose!==null&&!_:p;if(!_){var w;s((w=d.__r3f)==null?void 0:w.objects,d,A),s(d.children,d,A)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,_||delete d.__r3f),A&&d.dispose&&d.type!=="Scene"&&f0.unstable_scheduleCallback(f0.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Eu(f)}}function a(f,d,p,m){var g;const v=(g=f.__r3f)==null?void 0:g.parent;if(!v)return;const x=t(d,p,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&i(x,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>i(x,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(v,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:X6({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const m=f.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;const p=(d=f==null?void 0:f.__r3f)!=null?d:{};return Boolean(p.handlers)},prepareUpdate(f,d,p,m){if(f.__r3f.primitive&&m.object&&m.object!==f)return[!0];{const{args:g=[],children:v,...x}=m,{args:w=[],children:_,...A}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((E,P)=>E!==w[P]))return[!0];const S=qL(f,x,A,!0);return S.changes.length?[!1,S]:null}},commitUpdate(f,[d,p],m,g,v,x){d?a(f,m,v,x):Kx(f,p)},commitMount(f,d,p,m){var g;const v=(g=f.__r3f)!=null?g:{};f.raycast&&v.handlers&&v.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Cu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:m}=(d=f.__r3f)!=null?d:{};p&&m&&g2(m,f,p),f.isObject3D&&(f.visible=!1),Eu(f)},unhideInstance(f,d){var p;const{attach:m,parent:g}=(p=f.__r3f)!=null?p:{};m&&g&&Yx(g,f,m),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),Eu(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Xo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Kx}}var f2,d2;const jL=()=>{var n;return(n=JM.ColorManagement)!=null?n:null},JL=n=>n&&n.isOrthographicCamera,eW=n=>n&&n.hasOwnProperty("current"),kd=typeof window<"u"&&((f2=window.document)!=null&&f2.createElement||((d2=window.navigator)==null?void 0:d2.product)==="ReactNative")?H.useLayoutEffect:H.useEffect;function XL(n){const e=H.useRef(n);return kd(()=>void(e.current=n),[n]),e}function tW({set:n}){return kd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class YL extends H.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}YL.getDerivedStateFromError=()=>({error:!0});const KL="__default",p2=new Map,nW=n=>n&&!!n.memoized&&!!n.changes;function QL(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Ch=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function iW(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function rW(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Cu(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function _w(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const m2=/-\d+$/;function Yx(n,e,t){if(Qt.str(t)){if(m2.test(t)){const s=t.replace(m2,""),{target:o,key:a}=_w(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=_w(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function g2(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=_w(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function qL(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var f;const d=(f=n==null?void 0:n.__r3f)!=null?f:{},p=Object.entries(r),m=[];if(u){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||p.unshift([v[x],KL+"remove"])}p.forEach(([v,x])=>{var w;if((w=n.__r3f)!=null&&w.primitive&&v==="object"||Qt.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,x,!1,_]);for(const A in r){const S=r[A];A.startsWith(`${v}-`)&&m.push([A,S,!1,A.split("-")])}});const g={...r};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function Kx(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=nW(e)?e:qL(n,e),f=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,g,v,x]=u[p],w=n,_=w[m];if(x.length&&(_=x.reduce((A,S)=>A[S],n),!(_&&_.set))){const[A,...S]=x.reverse();w=S.reverse().reduce((E,P)=>E[P],n),m=A}if(g===KL+"remove")if(w.constructor){let A=p2.get(w.constructor);A||(A=new w.constructor,p2.set(w.constructor,A)),g=A[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Ml)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const A=_ instanceof Ie;!A&&_.setScalar?_.setScalar(g):_ instanceof Ml&&g instanceof Ml?_.mask=g.mask:_.set(g),!jL()&&!a.linear&&A&&_.convertSRGBToLinear()}}else w[m]=g,!a.linear&&w[m]instanceof sn&&w[m].format===Ri&&w[m].type===co&&(w[m].encoding=Tt);Eu(n)}if(s.parent&&a.internal&&n.raycast&&f!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&ww(n),n}function Eu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function ww(n){n.onUpdate==null||n.onUpdate(n)}function sW(n,e){n.manual||(JL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Qm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function oW(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Xo.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xo.ContinuousEventPriority;default:return Xo.DefaultEventPriority}}function ZL(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function aW(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{ZL(t.capturedMap,e,i,r)})}function lW(n){function e(l){const{internal:u}=n.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function i(l,u){const f=n.getState(),d=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let w=0;w<m.length;w++){const _=Ch(m[w]);_&&(_.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function g(w){const _=Ch(w);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var A;_.events.compute==null||_.events.compute(l,_,(A=_.previousRoot)==null?void 0:A.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(w,!0):[]}let v=m.flatMap(g).sort((w,_)=>{const A=Ch(w.object),S=Ch(_.object);return!A||!S?w.distance-_.distance:S.events.priority-A.events.priority||w.distance-_.distance}).filter(w=>{const _=Qm(w);return d.has(_)?!1:(d.add(_),!0)});f.events.filter&&(v=f.events.filter(v,f));for(const w of v){let _=w.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...w,eventObject:_}),_=_.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let w of f.internal.capturedMap.get(l.pointerId).values())d.has(Qm(w.intersection))||p.push(w.intersection);return p}function r(l,u,f,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=Ch(g.object)||p,{raycaster:x,pointer:w,camera:_,internal:A}=v,S=new F(w.x,w.y,0).unproject(_),E=D=>{var O,Y;return(O=(Y=A.capturedMap.get(D))==null?void 0:Y.has(g.eventObject))!=null?O:!1},P=D=>{const O={intersection:g,target:u.target};A.capturedMap.has(D)?A.capturedMap.get(D).set(g.eventObject,O):A.capturedMap.set(D,new Map([[g.eventObject,O]])),u.target.setPointerCapture(D)},R=D=>{const O=A.capturedMap.get(D);O&&ZL(A.capturedMap,g.eventObject,O,D)};let C={};for(let D in u){let O=u[D];typeof O!="function"&&(C[D]=O)}let B={...g,...C,pointer:w,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const D="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!D||D.has(g.eventObject))&&(B.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},nativeEvent:u};if(d(B),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Qm(f)),p!=null&&p.eventCount){const g={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=n.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(f,m?t:void 0),w=g?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(A=>A.eventObject)),g&&!x.length&&w<=2&&(o(f,p.interaction),d&&d(f)),m&&s(x);function _(A){const S=A.eventObject,E=S.__r3f,P=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=Qm(A),C=p.hovered.get(R);C?C.stopped&&A.stopPropagation():(p.hovered.set(R,A),P.onPointerOver==null||P.onPointerOver(A),P.onPointerEnter==null||P.onPointerEnter(A))}P.onPointerMove==null||P.onPointerMove(A)}else{const R=P[l];R?(!g||p.initialHits.includes(S))&&(o(f,p.interaction.filter(C=>!p.initialHits.includes(C))),R(A)):g&&p.initialHits.includes(S)&&o(f,p.interaction.filter(C=>!p.initialHits.includes(C)))}}r(x,f,w,_)}}return{handlePointer:a}}const $L=n=>!!(n!=null&&n.render),eD=H.createContext(null),uW=(n,e)=>{const t=GL((a,l)=>{const u=new F,f=new F,d=new F;function p(w=l().camera,_=f,A=l().size){const{width:S,height:E,top:P,left:R}=A,C=S/E;_ instanceof F?d.copy(_):d.set(..._);const B=w.getWorldPosition(u).distanceTo(d);if(JL(w))return{width:S/w.zoom,height:E/w.zoom,top:P,left:R,factor:1,distance:B,aspect:C};{const D=w.fov*Math.PI/180,O=2*Math.tan(D/2)*B,Y=O*(S/E);return{width:Y,height:O,top:P,left:R,factor:S/Y,distance:B,aspect:C}}}let m;const g=w=>a(_=>({performance:{..._.performance,current:w}})),v=new ge;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(l(),w),advance:(w,_)=>e(w,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HM,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&g(w.performance.min),m=setTimeout(()=>g(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(_=>({..._,events:{..._.events,...w}})),setSize:(w,_,A,S,E)=>{const P=l().camera,R={width:w,height:_,top:S||0,left:E||0,updateStyle:A};a(C=>({size:R,viewport:{...C.viewport,...p(P,f,R)}}))},setDpr:w=>a(_=>{const A=QL(w);return{viewport:{..._.viewport,dpr:A,initialDpr:_.viewport.initialDpr||A}}}),setFrameloop:(w="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,w!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:H.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,_,A)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:w,priority:_,store:A}),S.subscribers=S.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==w))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=t.getState();if(l!==r||u.dpr!==s){var p;r=l,s=u.dpr,sW(a,l),f.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let qm,cW=new Set,hW=new Set,fW=new Set;function Qx(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Eh(n,e){switch(n){case"before":return Qx(cW,e);case"after":return Qx(hW,e);case"tail":return Qx(fW,e)}}let qx,Zx;function $x(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),qx=e.internal.subscribers,qm=0;qm<qx.length;qm++)Zx=qx[qm],Zx.ref.current(Zx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dW(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Eh("before",l);for(const f of n.values()){var u;r=f.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=$x(l,r))}if(Eh("after",l),t===0)return Eh("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var f;if(!l)return n.forEach(d=>o(d.store.getState()),u);(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,d){if(u&&Eh("before",l),f)$x(l,f,d);else for(const p of n.values())$x(l,p.store.getState());u&&Eh("after",l)}return{loop:s,invalidate:o,advance:a}}function tD(){const n=H.useContext(eD);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ws(n=t=>t,e){return tD()(n,e)}function nD(n,e=0){const t=tD(),i=t.getState().internal.subscribe,r=XL(n);return kd(()=>i(r,e,t),[e,i,t]),null}function iD(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,iW(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Od(n,e,t,i){const r=Array.isArray(e)?e:[e],s=K6(iD(t,i),[n,...r],{equal:Qt.equ});return Array.isArray(e)?s:s[0]}Od.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Q6(iD(t),[n,...i])};Od.clear=function(n,e){const t=Array.isArray(e)?e:[e];return q6([n,...t])};const Sc=new Map,{invalidate:y2,advance:v2}=dW(Sc),{reconciler:d0,applyProps:Th}=$6(Sc,oW),Su={objects:"shallow",strict:!1},pW=(n,e)=>{const t=typeof n=="function"?n(e):n;return $L(t)?t:new _M({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mW(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function gW(n){const e=Sc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uW(y2,v2),o=t||d0.createContainer(s,Xo.ConcurrentRoot,null,!1,null,"",r,null);e||Sc.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:d,size:p,scene:m,events:g,onCreated:v,shadows:x=!1,linear:w=!1,flat:_=!1,legacy:A=!1,orthographic:S=!1,frameloop:E="always",dpr:P=[1,2],performance:R,raycaster:C,camera:B,onPointerMissed:D}=f,O=s.getState(),Y=O.gl;O.gl||O.set({gl:Y=pW(d,n)});let W=O.raycaster;W||O.set({raycaster:W=new zL});const{params:j,...X}=C||{};if(Qt.equ(X,W,Su)||Th(W,{...X}),Qt.equ(j,W.params,Su)||Th(W,{params:{...W.params,...j}}),!O.camera||O.camera===u&&!Qt.equ(u,B,Su)){u=B;const $=B instanceof _d,V=$?B:S?new Qr(0,0,0,0,.1,1e3):new Jt(75,0,.1,1e3);$||(V.position.z=5,B&&Th(V,B),!O.camera&&!(B!=null&&B.rotation)&&V.lookAt(0,0,0)),O.set({camera:V})}if(!O.scene){let $;m instanceof c0?$=m:($=new c0,m&&Th($,m)),O.set({scene:Cu($)})}if(!O.xr){const $=(he,xe)=>{const Z=s.getState();Z.frameloop!=="never"&&v2(he,!0,Z,xe)},V=()=>{const he=s.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?$:null),he.gl.xr.isPresenting||y2(he)},se={connect(){const he=s.getState().gl;he.xr.addEventListener("sessionstart",V),he.xr.addEventListener("sessionend",V)},disconnect(){const he=s.getState().gl;he.xr.removeEventListener("sessionstart",V),he.xr.removeEventListener("sessionend",V)}};Y.xr&&se.connect(),O.set({xr:se})}if(Y.shadowMap){const $=Y.shadowMap.enabled,V=Y.shadowMap.type;if(Y.shadowMap.enabled=!!x,Qt.boo(x))Y.shadowMap.type=tf;else if(Qt.str(x)){var ee;const se={basic:jR,percentage:Z0,soft:tf,variance:cl};Y.shadowMap.type=(ee=se[x])!=null?ee:tf}else Qt.obj(x)&&Object.assign(Y.shadowMap,x);($!==Y.shadowMap.enabled||V!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const ne=jL();ne&&("enabled"in ne?ne.enabled=!A:"legacyMode"in ne&&(ne.legacyMode=A));const I=w?ho:Tt,U=_?Kr:lM;Y.outputEncoding!==I&&(Y.outputEncoding=I),Y.toneMapping!==U&&(Y.toneMapping=U),O.legacy!==A&&O.set(()=>({legacy:A})),O.linear!==w&&O.set(()=>({linear:w})),O.flat!==_&&O.set(()=>({flat:_})),d&&!Qt.fun(d)&&!$L(d)&&!Qt.equ(d,Y,Su)&&Th(Y,d),g&&!O.events.handlers&&O.set({events:g(s)});const G=mW(n,p);return Qt.equ(G,O.size,Su)||O.setSize(G.width,G.height,G.updateStyle,G.top,G.left),P&&O.viewport.dpr!==QL(P)&&O.setDpr(P),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:D}),R&&!Qt.equ(R,O.performance,Su)&&O.set($=>({performance:{...$.performance,...R}})),a=v,l=!0,this},render(f){return l||this.configure(),d0.updateContainer(H.createElement(yW,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){rD(n)}}}function yW({store:n,children:e,onCreated:t,rootElement:i}){return kd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),H.createElement(eD.Provider,{value:n},e)}function rD(n,e){const t=Sc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),d0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),rW(r),Sc.delete(n),e&&e(n)}catch{}},500)})}}d0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version});function bc(){return bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bc.apply(this,arguments)}function Aw(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?i=setTimeout(l,e-f):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var f=t&&!i;return i||(i=setTimeout(l,e)),f&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}Aw.debounce=Aw;var x2=Aw;function vW(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,d=H.useRef(!1);H.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=H.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:A,top:S,width:E,height:P,bottom:R,right:C,x:B,y:D}=l.current.element.getBoundingClientRect(),O={left:A,top:S,width:E,height:P,bottom:R,right:C,x:B,y:D};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),d.current&&!AW(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,f?x2(_,f):_,u?x2(_,u):_]},[a,r,u,f]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const w=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=sD(_),x())};return _W(g,Boolean(t)),xW(m),H.useEffect(()=>{v(),x()},[t,g,m]),H.useEffect(()=>v,[]),[w,o,p]}function xW(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function _W(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function sD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...sD(n.parentElement)]}const wW=["x","y","top","bottom","left","right","width","height"],AW=(n,e)=>wW.every(t=>n[t]===e[t]);var MW=Object.defineProperty,SW=Object.defineProperties,bW=Object.getOwnPropertyDescriptors,_2=Object.getOwnPropertySymbols,CW=Object.prototype.hasOwnProperty,EW=Object.prototype.propertyIsEnumerable,w2=(n,e,t)=>e in n?MW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,A2=(n,e)=>{for(var t in e||(e={}))CW.call(e,t)&&w2(n,t,e[t]);if(_2)for(var t of _2(e))EW.call(e,t)&&w2(n,t,e[t]);return n},TW=(n,e)=>SW(n,bW(e));function oD(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=oD(i,e,t);if(r)return r;i=e?null:i.sibling}}function aD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const XM=aD(H.createContext(null));class lD extends H.Component{render(){return H.createElement(XM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:M2,ReactCurrentDispatcher:S2}=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function PW(){const n=H.useContext(XM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{var i;return(i=M2==null?void 0:M2.current)!=null?i:oD(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function BW(){var n,e;const t=PW(),[i]=H.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==XM&&!i.has(s)&&i.set(s,(e=S2==null?void 0:S2.current)==null?void 0:e.readContext(aD(s))),r=r.return}return i}function RW(){const n=BW();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,TW(A2({},i),{value:n.get(t)}))),e=>H.createElement(lD,A2({},e))),[n])}const e1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function IW(n){const{handlePointer:e}=lW(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(e1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=e1[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=e1[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const LW=H.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=IW,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:x,raycaster:w,camera:_,onPointerMissed:A,onCreated:S,...E},P){H.useMemo(()=>Z6(N6),[]);const R=RW(),[C,B]=vW({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=H.useRef(null),O=H.useRef(null);H.useImperativeHandle(P,()=>D.current);const Y=XL(A),[W,j]=H.useState(!1),[X,ee]=H.useState(!1);if(W)throw W;if(X)throw X;const ne=H.useRef(null);kd(()=>{const U=D.current;B.width>0&&B.height>0&&U&&(ne.current||(ne.current=gW(U)),ne.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:x,raycaster:w,camera:_,size:B,onPointerMissed:(...G)=>Y.current==null?void 0:Y.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?eW(a)?a.current:a:O.current),l&&G.setEvents({compute:($,V)=>{const se=$[l+"X"],he=$[l+"Y"];V.pointer.set(se/V.size.width*2-1,-(he/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),S==null||S(G)}}),ne.current.render(H.createElement(R,null,H.createElement(YL,{set:ee},H.createElement(H.Suspense,{fallback:H.createElement(tW,{set:j})},e)))))}),H.useEffect(()=>{const U=D.current;if(U)return()=>rD(U)},[]);const I=a?"none":"auto";return H.createElement("div",bc({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:I,...r}},E),H.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},H.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),DW=H.forwardRef(function(e,t){return H.createElement(lD,null,H.createElement(LW,bc({},e,{ref:t})))}),Nd=new F,YM=new F,FW=new F;function kW(n,e,t){const i=Nd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function OW(n,e){const t=Nd.setFromMatrixPosition(n.matrixWorld),i=YM.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(FW);return r.angleTo(s)>Math.PI/2}function NW(n,e,t,i){const r=Nd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function zW(n,e){if(e instanceof Qr)return e.zoom;if(e instanceof Jt){const t=Nd.setFromMatrixPosition(n.matrixWorld),i=YM.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function UW(n,e,t){if(e instanceof Jt||e instanceof Qr){const i=Nd.setFromMatrixPosition(n.matrixWorld),r=YM.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const Mw=n=>Math.abs(n)<1e-10?0:n;function uD(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=Mw(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const GW=(n=>e=>uD(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),HW=(n=>(e,t)=>uD(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function VW(n){return n&&typeof n=="object"&&"current"in n}const WW=H.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:f=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:g,material:v,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:_=kW,as:A="div",wrapperClass:S,pointerEvents:E="auto",...P},R)=>{const{gl:C,camera:B,scene:D,size:O,raycaster:Y,events:W,viewport:j}=Ws(),[X]=H.useState(()=>document.createElement(A)),ee=H.useRef(),ne=H.useRef(null),I=H.useRef(0),U=H.useRef([0,0]),G=H.useRef(null),$=H.useRef(null),V=(a==null?void 0:a.current)||W.connected||C.domElement.parentNode,se=H.useRef(null),he=H.useRef(!1),xe=H.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&VW(d[0]),[d]);H.useLayoutEffect(()=>{const Ae=C.domElement;d&&d==="blending"?(Ae.style.zIndex=`${Math.floor(w[0]/2)}`,Ae.style.position="absolute",Ae.style.pointerEvents="none"):(Ae.style.zIndex=null,Ae.style.position=null,Ae.style.pointerEvents=null)},[d]),H.useLayoutEffect(()=>{if(ne.current){const Ae=ee.current=kR(X);if(D.updateMatrixWorld(),f)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Fe=_(ne.current,B,O);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Fe[0]}px,${Fe[1]}px,0);transform-origin:0 0;`}return V&&(r?V.prepend(X):V.appendChild(X)),()=>{V&&V.removeChild(X),Ae.unmount()}}},[V,f]),H.useLayoutEffect(()=>{S&&(X.className=S)},[S]);const Z=H.useMemo(()=>f?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,f]),De=H.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);H.useLayoutEffect(()=>{if(he.current=!1,f){var Ae;(Ae=ee.current)==null||Ae.render(H.createElement("div",{ref:G,style:Z},H.createElement("div",{ref:$,style:De},H.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Fe;(Fe=ee.current)==null||Fe.render(H.createElement("div",{ref:R,style:Z,className:i,children:n}))}});const ze=H.useRef(!0);nD(Ae=>{if(ne.current){B.updateMatrixWorld(),ne.current.updateWorldMatrix(!0,!1);const Fe=f?U.current:_(ne.current,B,O);if(f||Math.abs(I.current-B.zoom)>e||Math.abs(U.current[0]-Fe[0])>e||Math.abs(U.current[1]-Fe[1])>e){const de=OW(ne.current,B);let ae=!1;xe&&(d!=="blending"?ae=[D]:Array.isArray(d)&&(ae=d.map($e=>$e.current)));const be=ze.current;if(ae){const $e=NW(ne.current,B,Y,ae);ze.current=$e&&!de}else ze.current=!de;be!==ze.current&&(p?p(!ze.current):X.style.display=ze.current?"block":"none");const Ge=Math.floor(w[0]/2),Be=d?xe?[w[0],Ge]:[Ge-1,0]:w;if(X.style.zIndex=`${UW(ne.current,B,Be)}`,f){const[$e,Ye]=[O.width/2,O.height/2],Je=B.projectionMatrix.elements[5]*Ye,{isOrthographicCamera:wt,top:Ct,left:z,bottom:L,right:oe}=B,Me=GW(B.matrixWorldInverse),Ce=wt?`scale(${Je})translate(${Mw(-(oe+z)/2)}px,${Mw((Ct+L)/2)}px)`:`translateZ(${Je}px)`;let Pe=ne.current.matrixWorld;u&&(Pe=B.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale(ne.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),X.style.width=O.width+"px",X.style.height=O.height+"px",X.style.perspective=wt?"":`${Je}px`,G.current&&$.current&&(G.current.style.transform=`${Ce}${Me}translate(${$e}px,${Ye}px)`,$.current.style.transform=HW(Pe,1/((l||10)/400)))}else{const $e=l===void 0?1:zW(ne.current,B)*l;X.style.transform=`translate3d(${Fe[0]}px,${Fe[1]}px,0) scale(${$e})`}U.current=Fe,I.current=B.zoom}}if(!xe&&se.current&&!he.current)if(f){if(G.current){const Fe=G.current.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const{isOrthographicCamera:de}=B;if(de||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof F?se.current.scale.copy(P.scale.clone().divideScalar(1)):se.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):se.current.scale.setScalar(1/P.scale));else{const ae=(l||10)/400,be=Fe.clientWidth*ae,Ge=Fe.clientHeight*ae;se.current.scale.set(be,Ge,1)}he.current=!0}}}else{const Fe=X.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const de=1/j.factor,ae=Fe.clientWidth*de,be=Fe.clientHeight*de;se.current.scale.set(ae,be,1),he.current=!0}se.current.lookAt(Ae.camera.position)}});const We=H.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return H.createElement("group",bc({},P,{ref:ne}),d&&!xe&&H.createElement("mesh",{castShadow:m,receiveShadow:g,ref:se},x||H.createElement("planeGeometry",null),v||H.createElement("shaderMaterial",{side:Wr,vertexShader:We.vertexShader,fragmentShader:We.fragmentShader})))});let Ph=0;const jW=GL(n=>(Vu.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Ph)/(i-Ph)*100})},Vu.onLoad=()=>{n({active:!1})},Vu.onError=e=>n(t=>({errors:[...t.errors,e]})),Vu.onProgress=(e,t,i)=>{t===i&&(Ph=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Ph)/(i-Ph)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function of(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}new ge;new ge;function cD(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var gr=function n(e,t,i){var r=this;cD(this,n),of(this,"dot2",function(s,o){return r.x*s+r.y*o}),of(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},JW=[new gr(1,1,0),new gr(-1,1,0),new gr(1,-1,0),new gr(-1,-1,0),new gr(1,0,1),new gr(-1,0,1),new gr(1,0,-1),new gr(-1,0,-1),new gr(0,1,1),new gr(0,-1,1),new gr(0,1,-1),new gr(0,-1,-1)],b2=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],C2=new Array(512),E2=new Array(512),XW=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=b2[t]^e&255:i=b2[t]^e>>8&255,C2[t]=C2[t+256]=i,E2[t]=E2[t+256]=JW[i%12]}};XW(0);function YW(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function T2(n){var e=YW(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var KW=function n(e){var t=this;cD(this,n),of(this,"seed",0),of(this,"init",function(i){t.seed=i,t.value=T2(i)}),of(this,"value",T2(this.seed)),this.init(e)};new KW(Math.random());function Qf(n){return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(n)}function QW(n,e){if(Qf(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Qf(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qW(n){var e=QW(n,"string");return Qf(e)==="symbol"?e:String(e)}function ut(n,e,t){return e=qW(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const P2=(n,e)=>(n%e+e)%e;let ZW=class extends Cs{constructor(e,t){super(),ut(this,"object",void 0),ut(this,"domElement",void 0),ut(this,"enabled",!0),ut(this,"target",new F),ut(this,"minDistance",0),ut(this,"maxDistance",1/0),ut(this,"minZoom",0),ut(this,"maxZoom",1/0),ut(this,"minPolarAngle",0),ut(this,"maxPolarAngle",Math.PI),ut(this,"minAzimuthAngle",-1/0),ut(this,"maxAzimuthAngle",1/0),ut(this,"enableDamping",!1),ut(this,"dampingFactor",.05),ut(this,"enableZoom",!0),ut(this,"zoomSpeed",1),ut(this,"enableRotate",!0),ut(this,"rotateSpeed",1),ut(this,"enablePan",!0),ut(this,"panSpeed",1),ut(this,"screenSpacePanning",!0),ut(this,"keyPanSpeed",7),ut(this,"autoRotate",!1),ut(this,"autoRotateSpeed",2),ut(this,"reverseOrbit",!1),ut(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ut(this,"mouseButtons",{LEFT:qa.ROTATE,MIDDLE:qa.DOLLY,RIGHT:qa.PAN}),ut(this,"touches",{ONE:Za.ROTATE,TWO:Za.DOLLY_PAN}),ut(this,"target0",void 0),ut(this,"position0",void 0),ut(this,"zoom0",void 0),ut(this,"_domElementKeyEvents",null),ut(this,"getPolarAngle",void 0),ut(this,"getAzimuthalAngle",void 0),ut(this,"setPolarAngle",void 0),ut(this,"setAzimuthalAngle",void 0),ut(this,"getDistance",void 0),ut(this,"listenToKeyEvents",void 0),ut(this,"saveState",void 0),ut(this,"reset",void 0),ut(this,"update",void 0),ut(this,"connect",void 0),ut(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Jt?this.object.zoom:1,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=J=>{let le=P2(J,2*Math.PI),we=f.phi;we<0&&(we+=2*Math.PI),le<0&&(le+=2*Math.PI);let Te=Math.abs(le-we);2*Math.PI-Te<Te&&(le<we?le+=2*Math.PI:we+=2*Math.PI),d.phi=le-we,i.update()},this.setAzimuthalAngle=J=>{let le=P2(J,2*Math.PI),we=f.theta;we<0&&(we+=2*Math.PI),le<0&&(le+=2*Math.PI);let Te=Math.abs(le-we);2*Math.PI-Te<Te&&(le<we?le+=2*Math.PI:we+=2*Math.PI),d.theta=le-we,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=J=>{J.addEventListener("keydown",oe),this._domElementKeyEvents=J},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof Jt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof Jt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const J=new F,le=new qn().setFromUnitVectors(e.up,new F(0,1,0)),we=le.clone().invert(),Te=new F,tt=new qn,_t=2*Math.PI;return function(){const Q=i.object.position;J.copy(Q).sub(i.target),J.applyQuaternion(le),f.setFromVector3(J),i.autoRotate&&l===a.NONE&&Y(D()),i.enableDamping?(f.theta+=d.theta*i.dampingFactor,f.phi+=d.phi*i.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let ce=i.minAzimuthAngle,_e=i.maxAzimuthAngle;return isFinite(ce)&&isFinite(_e)&&(ce<-Math.PI?ce+=_t:ce>Math.PI&&(ce-=_t),_e<-Math.PI?_e+=_t:_e>Math.PI&&(_e-=_t),ce<=_e?f.theta=Math.max(ce,Math.min(_e,f.theta)):f.theta=f.theta>(ce+_e)/2?Math.max(ce,f.theta):Math.min(_e,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=p,f.radius=Math.max(i.minDistance,Math.min(i.maxDistance,f.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),J.setFromSpherical(f),J.applyQuaternion(we),Q.copy(i.target).add(J),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,g||Te.distanceToSquared(i.object.position)>u||8*(1-tt.dot(i.object.quaternion))>u?(i.dispatchEvent(r),Te.copy(i.object.position),tt.copy(i.object.quaternion),g=!1,!0):!1}})(),this.connect=J=>{J===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=J,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Pe),i.domElement.addEventListener("pointerdown",$e),i.domElement.addEventListener("pointercancel",wt),i.domElement.addEventListener("wheel",L)},this.dispose=()=>{var J,le,we,Te,tt,_t;(J=i.domElement)===null||J===void 0||J.removeEventListener("contextmenu",Pe),(le=i.domElement)===null||le===void 0||le.removeEventListener("pointerdown",$e),(we=i.domElement)===null||we===void 0||we.removeEventListener("pointercancel",wt),(Te=i.domElement)===null||Te===void 0||Te.removeEventListener("wheel",L),(tt=i.domElement)===null||tt===void 0||tt.ownerDocument.removeEventListener("pointermove",Ye),(_t=i.domElement)===null||_t===void 0||_t.ownerDocument.removeEventListener("pointerup",Je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",oe)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,f=new vw,d=new vw;let p=1;const m=new F;let g=!1;const v=new ge,x=new ge,w=new ge,_=new ge,A=new ge,S=new ge,E=new ge,P=new ge,R=new ge,C=[],B={};function D(){return 2*Math.PI/60/60*i.autoRotateSpeed}function O(){return Math.pow(.95,i.zoomSpeed)}function Y(J){i.reverseOrbit?d.theta+=J:d.theta-=J}function W(J){i.reverseOrbit?d.phi+=J:d.phi-=J}const j=(()=>{const J=new F;return function(we,Te){J.setFromMatrixColumn(Te,0),J.multiplyScalar(-we),m.add(J)}})(),X=(()=>{const J=new F;return function(we,Te){i.screenSpacePanning===!0?J.setFromMatrixColumn(Te,1):(J.setFromMatrixColumn(Te,0),J.crossVectors(i.object.up,J)),J.multiplyScalar(we),m.add(J)}})(),ee=(()=>{const J=new F;return function(we,Te){const tt=i.domElement;if(tt&&i.object instanceof Jt&&i.object.isPerspectiveCamera){const _t=i.object.position;J.copy(_t).sub(i.target);let Yt=J.length();Yt*=Math.tan(i.object.fov/2*Math.PI/180),j(2*we*Yt/tt.clientHeight,i.object.matrix),X(2*Te*Yt/tt.clientHeight,i.object.matrix)}else tt&&i.object instanceof Qr&&i.object.isOrthographicCamera?(j(we*(i.object.right-i.object.left)/i.object.zoom/tt.clientWidth,i.object.matrix),X(Te*(i.object.top-i.object.bottom)/i.object.zoom/tt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ne(J){i.object instanceof Jt&&i.object.isPerspectiveCamera?p/=J:i.object instanceof Qr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*J)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function I(J){i.object instanceof Jt&&i.object.isPerspectiveCamera?p*=J:i.object instanceof Qr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/J)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function U(J){v.set(J.clientX,J.clientY)}function G(J){E.set(J.clientX,J.clientY)}function $(J){_.set(J.clientX,J.clientY)}function V(J){x.set(J.clientX,J.clientY),w.subVectors(x,v).multiplyScalar(i.rotateSpeed);const le=i.domElement;le&&(Y(2*Math.PI*w.x/le.clientHeight),W(2*Math.PI*w.y/le.clientHeight)),v.copy(x),i.update()}function se(J){P.set(J.clientX,J.clientY),R.subVectors(P,E),R.y>0?ne(O()):R.y<0&&I(O()),E.copy(P),i.update()}function he(J){A.set(J.clientX,J.clientY),S.subVectors(A,_).multiplyScalar(i.panSpeed),ee(S.x,S.y),_.copy(A),i.update()}function xe(J){J.deltaY<0?I(O()):J.deltaY>0&&ne(O()),i.update()}function Z(J){let le=!1;switch(J.code){case i.keys.UP:ee(0,i.keyPanSpeed),le=!0;break;case i.keys.BOTTOM:ee(0,-i.keyPanSpeed),le=!0;break;case i.keys.LEFT:ee(i.keyPanSpeed,0),le=!0;break;case i.keys.RIGHT:ee(-i.keyPanSpeed,0),le=!0;break}le&&(J.preventDefault(),i.update())}function De(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{const J=.5*(C[0].pageX+C[1].pageX),le=.5*(C[0].pageY+C[1].pageY);v.set(J,le)}}function ze(){if(C.length==1)_.set(C[0].pageX,C[0].pageY);else{const J=.5*(C[0].pageX+C[1].pageX),le=.5*(C[0].pageY+C[1].pageY);_.set(J,le)}}function We(){const J=C[0].pageX-C[1].pageX,le=C[0].pageY-C[1].pageY,we=Math.sqrt(J*J+le*le);E.set(0,we)}function Ae(){i.enableZoom&&We(),i.enablePan&&ze()}function Fe(){i.enableZoom&&We(),i.enableRotate&&De()}function de(J){if(C.length==1)x.set(J.pageX,J.pageY);else{const we=Ke(J),Te=.5*(J.pageX+we.x),tt=.5*(J.pageY+we.y);x.set(Te,tt)}w.subVectors(x,v).multiplyScalar(i.rotateSpeed);const le=i.domElement;le&&(Y(2*Math.PI*w.x/le.clientHeight),W(2*Math.PI*w.y/le.clientHeight)),v.copy(x)}function ae(J){if(C.length==1)A.set(J.pageX,J.pageY);else{const le=Ke(J),we=.5*(J.pageX+le.x),Te=.5*(J.pageY+le.y);A.set(we,Te)}S.subVectors(A,_).multiplyScalar(i.panSpeed),ee(S.x,S.y),_.copy(A)}function be(J){const le=Ke(J),we=J.pageX-le.x,Te=J.pageY-le.y,tt=Math.sqrt(we*we+Te*Te);P.set(0,tt),R.set(0,Math.pow(P.y/E.y,i.zoomSpeed)),ne(R.y),E.copy(P)}function Ge(J){i.enableZoom&&be(J),i.enablePan&&ae(J)}function Be(J){i.enableZoom&&be(J),i.enableRotate&&de(J)}function $e(J){if(i.enabled!==!1){if(C.length===0){var le,we;(le=i.domElement)===null||le===void 0||le.ownerDocument.addEventListener("pointermove",Ye),(we=i.domElement)===null||we===void 0||we.ownerDocument.addEventListener("pointerup",Je)}it(J),J.pointerType==="touch"?Me(J):Ct(J)}}function Ye(J){i.enabled!==!1&&(J.pointerType==="touch"?Ce(J):z(J))}function Je(J){if(ke(J),C.length===0){var le,we,Te;(le=i.domElement)===null||le===void 0||le.releasePointerCapture(J.pointerId),(we=i.domElement)===null||we===void 0||we.ownerDocument.removeEventListener("pointermove",Ye),(Te=i.domElement)===null||Te===void 0||Te.ownerDocument.removeEventListener("pointerup",Je)}i.dispatchEvent(o),l=a.NONE}function wt(J){ke(J)}function Ct(J){let le;switch(J.button){case 0:le=i.mouseButtons.LEFT;break;case 1:le=i.mouseButtons.MIDDLE;break;case 2:le=i.mouseButtons.RIGHT;break;default:le=-1}switch(le){case qa.DOLLY:if(i.enableZoom===!1)return;G(J),l=a.DOLLY;break;case qa.ROTATE:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enablePan===!1)return;$(J),l=a.PAN}else{if(i.enableRotate===!1)return;U(J),l=a.ROTATE}break;case qa.PAN:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enableRotate===!1)return;U(J),l=a.ROTATE}else{if(i.enablePan===!1)return;$(J),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function z(J){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;V(J);break;case a.DOLLY:if(i.enableZoom===!1)return;se(J);break;case a.PAN:if(i.enablePan===!1)return;he(J);break}}function L(J){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(J.preventDefault(),i.dispatchEvent(s),xe(J),i.dispatchEvent(o))}function oe(J){i.enabled===!1||i.enablePan===!1||Z(J)}function Me(J){switch(ye(J),C.length){case 1:switch(i.touches.ONE){case Za.ROTATE:if(i.enableRotate===!1)return;De(),l=a.TOUCH_ROTATE;break;case Za.PAN:if(i.enablePan===!1)return;ze(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Za.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Za.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ce(J){switch(ye(J),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;de(J),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ae(J),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ge(J),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Be(J),i.update();break;default:l=a.NONE}}function Pe(J){i.enabled!==!1&&J.preventDefault()}function it(J){C.push(J)}function ke(J){delete B[J.pointerId];for(let le=0;le<C.length;le++)if(C[le].pointerId==J.pointerId){C.splice(le,1);return}}function ye(J){let le=B[J.pointerId];le===void 0&&(le=new ge,B[J.pointerId]=le),le.set(J.pageX,J.pageY)}function Ke(J){const le=J.pointerId===C[0].pointerId?C[1]:C[0];return B[le.pointerId]}t!==void 0&&this.connect(t),this.update()}};class KM extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new i7(t)}),this.register(function(t){return new c7(t)}),this.register(function(t){return new h7(t)}),this.register(function(t){return new s7(t)}),this.register(function(t){return new o7(t)}),this.register(function(t){return new a7(t)}),this.register(function(t){return new l7(t)}),this.register(function(t){return new n7(t)}),this.register(function(t){return new u7(t)}),this.register(function(t){return new r7(t)}),this.register(function(t){return new e7(t)}),this.register(function(t){return new f7(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=_s.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new qi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(_s.decodeText(new Uint8Array(e,0,4))===hD){try{o[At.KHR_BINARY_GLTF]=new d7(e)}catch(d){r&&r(d);return}s=o[At.KHR_BINARY_GLTF].content}else s=_s.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new C7(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const d=this.pluginCallbacks[f](u);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let f=0;f<l.extensionsUsed.length;++f){const d=l.extensionsUsed[f],p=l.extensionsRequired||[];switch(d){case At.KHR_MATERIALS_UNLIT:o[d]=new t7;break;case At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new g7;break;case At.KHR_DRACO_MESH_COMPRESSION:o[d]=new p7(l,this.dracoLoader);break;case At.KHR_TEXTURE_TRANSFORM:o[d]=new m7;break;case At.KHR_MESH_QUANTIZATION:o[d]=new y7;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function $W(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const At={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class e7{constructor(e){this.parser=e,this.name=At.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new Ie(16777215);l.color!==void 0&&f.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new UM(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new zM(f),u.distance=d;break;case"spot":u=new NM(f),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class t7{constructor(){this.name=At.KHR_MATERIALS_UNLIT}getMaterialType(){return Xi}extendParams(e,t,i){const r=[];e.color=new Ie(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Tt))}return Promise.all(r)}}class n7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class i7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ge(a,a)}return Promise.all(s)}}class r7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class s7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ie(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Tt)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class o7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class a7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ie(a[0],a[1],a[2]),Promise.all(s)}}class l7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class u7{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ie(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Tt)),Promise.all(s)}}class c7{constructor(e){this.parser=e,this.name=At.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class h7{constructor(e){this.parser=e,this.name=At.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class f7{constructor(e){this.name=At.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,f=r.count,d=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*d);return o.decodeGltfBuffer(new Uint8Array(m),f,d,p,r.mode,r.filter),m})})}else return null}}const hD="glTF",Bh=12,B2={JSON:1313821514,BIN:5130562};class d7{constructor(e){this.name=At.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Bh);if(this.header={magic:_s.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==hD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Bh,r=new DataView(e,Bh);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===B2.JSON){const l=new Uint8Array(e,Bh+s,o);this.content=_s.decodeText(l)}else if(a===B2.BIN){const l=Bh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class p7{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=At.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const d=bw[f]||f.toLowerCase();a[d]=o[f]}for(const f in e.attributes){const d=bw[f]||f.toLowerCase();if(o[f]!==void 0){const p=i.accessors[e.attributes[f]],m=qf[p.componentType];u[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(d){r.decodeDracoFile(f,function(p){for(const m in p.attributes){const g=p.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(p)},a,u)})})}}class m7{constructor(){this.name=At.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Sw extends Nc{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ie().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class g7{constructor(){this.name=At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Sw}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new Ie(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,Tt)),e.emissive=new Ie(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new Ie(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,Tt))}return Promise.all(s)}createMaterial(e){const t=new Sw(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=go,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class y7{constructor(){this.name=At.KHR_MESH_QUANTIZATION}}class fD extends zc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=r-t,d=(i-t)/f,p=d*d,m=p*d,g=e*u,v=g-u,x=-2*m+3*p,w=m-p,_=1-x,A=w-p+d;for(let S=0;S!==a;S++){const E=o[v+S+a],P=o[v+S+l]*f,R=o[g+S+a],C=o[g+S]*f;s[S]=_*E+A*P+x*R+w*C}return s}}const v7=new qn;class x7 extends fD{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return v7.fromArray(s).normalize().toArray(s),s}}const Vs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},qf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R2={9728:_n,9729:un,9984:Uf,9985:ey,9986:$u,9987:Ms},I2={33071:Kn,33648:mc,10497:ma},L2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Lo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_7={CUBICSPLINE:void 0,LINEAR:Rl,STEP:yc},t1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function w7(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Nc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:As})),n.DefaultMaterial}function Rh(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function el(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function A7(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const d=e[u];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const d=e[u];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],d=u[1],p=u[2];return i&&(n.morphAttributes.position=f),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function M7(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function S7(n){const e=n.extensions&&n.extensions[At.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+D2(e.attributes):t=n.indices+":"+D2(n.attributes)+":"+n.mode,t}function D2(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function Cw(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function b7(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class C7{constructor(e={},t={}){var i,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new $W,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new PL(this.options.manager):this.textureLoader=new kL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Rh(s,a,r),el(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[At.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(_s.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=L2[r.type],u=qf[r.componentType],f=u.BYTES_PER_ELEMENT,d=f*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let v,x;if(m&&m!==d){const w=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+w+":"+r.count;let A=t.cache.get(_);A||(v=new u(a,w*m,r.count*m/f),A=new Ad(v,m/f),t.cache.add(_,A)),x=new ga(A,l,p%m/f,g)}else a===null?v=new u(r.count*l):v=new u(a,p,r.count*l),x=new Ot(v,l,g);if(r.sparse!==void 0){const w=L2.SCALAR,_=qf[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,E=new _(o[1],A,r.sparse.count*w),P=new u(o[2],S,r.sparse.count*l);a!==null&&(x=new Ot(x.array.slice(),x.itemSize,x.normalized));for(let R=0,C=E.length;R<C;R++){const B=E[R];if(x.setX(B,P[R*l]),l>=2&&x.setY(B,P[R*l+1]),l>=3&&x.setZ(B,P[R*l+2]),l>=4&&x.setW(B,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(f){f.flipY=!1,o.name&&(f.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=R2[p.magFilter]||un,f.minFilter=R2[p.minFilter]||Ms,f.wrapS=I2[p.wrapS]||ma,f.wrapT=I2[p.wrapT]||ma,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(v){const x=new sn(v);x.needsUpdate=!0,p(x)}),t.load(_s.resolveURL(d,s.path),g,void 0,m)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||b7(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=f,f}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[At.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[At.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[At.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ly,Rn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ci,Rn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return Nc}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=r[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),u.push(d.extendParams(a,s,t))}else if(l[At.KHR_MATERIALS_UNLIT]){const d=r[At.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ie(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",d.baseColorTexture,Tt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Wr);const f=s.alphaMode||t1.OPAQUE;if(f===t1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===t1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Xi&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ge(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Xi&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Xi&&(a.emissive=new Ie().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Xi&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Tt)),Promise.all(u).then(function(){let d;return o===Sw?d=r[At.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),el(d,s),t.associations.set(d,{materials:e}),s.extensions&&Rh(r,d,s),d})}createUniqueName(e){const t=Bt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[At.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return F2(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=S7(u),d=r[f];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[At.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=F2(new ft,u,t),r[f]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?w7(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],d=[];for(let m=0,g=f.length;m<g;m++){const v=f[m],x=o[m];let w;const _=u[m];if(x.mode===Vs.TRIANGLES||x.mode===Vs.TRIANGLE_STRIP||x.mode===Vs.TRIANGLE_FAN||x.mode===void 0)w=s.isSkinnedMesh===!0?new AM(v,_):new jn(v,_),w.isSkinnedMesh===!0&&!w.geometry.attributes.skinWeight.normalized&&w.normalizeSkinWeights(),x.mode===Vs.TRIANGLE_STRIP?w.geometry=k2(w.geometry,FI):x.mode===Vs.TRIANGLE_FAN&&(w.geometry=k2(w.geometry,hM));else if(x.mode===Vs.LINES)w=new ts(v,_);else if(x.mode===Vs.LINE_STRIP)w=new fo(v,_);else if(x.mode===Vs.LINE_LOOP)w=new MM(v,_);else if(x.mode===Vs.POINTS)w=new SM(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(w.geometry.morphAttributes).length>0&&M7(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),el(w,s),x.extensions&&Rh(r,w,x),t.assignFinalMaterial(w),d.push(w)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const p=new to;t.associations.set(p,{meshes:e});for(let m=0,g=d.length;m<g;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Jt(GI.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Qr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),el(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let u=0,f=i.channels.length;u<f;u++){const d=i.channels[u],p=i.samplers[d.sampler],m=d.target,g=m.node,v=i.parameters!==void 0?i.parameters[p.input]:p.input,x=i.parameters!==void 0?i.parameters[p.output]:p.output;r.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],d=u[1],p=u[2],m=u[3],g=u[4],v=[];for(let w=0,_=f.length;w<_;w++){const A=f[w],S=d[w],E=p[w],P=m[w],R=g[w];if(A===void 0)continue;A.updateMatrix();let C;switch(Lo[R.path]){case Lo.weights:C=wc;break;case Lo.rotation:C=ya;break;case Lo.position:case Lo.scale:default:C=Ac;break}const B=A.name?A.name:A.uuid,D=P.interpolation!==void 0?_7[P.interpolation]:Rl,O=[];Lo[R.path]===Lo.weights?A.traverse(function(W){W.morphTargetInfluences&&O.push(W.name?W.name:W.uuid)}):O.push(B);let Y=E.array;if(E.normalized){const W=Cw(Y.constructor),j=new Float32Array(Y.length);for(let X=0,ee=Y.length;X<ee;X++)j[X]=Y[X]*W;Y=j}for(let W=0,j=O.length;W<j;W++){const X=new C(O[W]+"."+Lo[R.path],S.array,Y,D);P.interpolation==="CUBICSPLINE"&&(X.createInterpolant=function(ne){const I=this instanceof ya?x7:fD;return new I(this.times,this.values,this.getValueSize()/3,ne)},X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(X)}}const x=i.name?i.name:"animation_"+e;return new Mc(x,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new ay:a.length>1?l=new to:a.length===1?l=a[0]:l=new Lt,l!==a[0])for(let u=0,f=a.length;u<f;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),el(l,s),s.extensions&&Rh(i,l,s),s.matrix!==void 0){const u=new ot;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new to;r.name&&(o.name=s.createUniqueName(r.name)),el(o,r),r.extensions&&Rh(i,o,r);const a=r.nodes||[],l=[];for(let u=0,f=a.length;u<f;u++)l.push(dD(a[u],o,t,s));return Promise.all(l).then(function(){const u=f=>{const d=new Map;for(const[p,m]of s.associations)(p instanceof Rn||p instanceof sn)&&d.set(p,m);return f.traverse(p=>{const m=s.associations.get(p);m!=null&&d.set(p,m)}),d};return s.associations=u(o),o})}}function dD(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let u=0,f=o.joints.length;u<f;u++)l.push(i.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],f=[];for(let d=0,p=a.length;d<p;d++){const m=a[d];if(m){u.push(m);const g=new ot;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,d*16),f.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new Md(u,f),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,u=a.length;l<u;l++){const f=a[l];o.push(dD(f,s,t,i))}}return Promise.all(o)})}function E7(n,e,t){const i=e.attributes,r=new Sa;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const f=Cw(qf[a.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,f=s.length;u<f;u++){const d=s[u];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const v=Cw(qf[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new ba;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function F2(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=bw[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return el(n,e),E7(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?A7(n,e.targets,t):n})}function k2(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===hM)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}const n1=new WeakMap;class T7 extends Mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new qi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(n1.has(e)){const l=n1.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,f)=>{r._callbacks[s]={resolve:u,reject:f},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),n1.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ft;e.index&&t.setIndex(new Ot(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ot(o,a))}return t}_loadLibrary(e,t){const i=new qi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=P7.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function P7(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(f){n.onModuleLoaded=function(d){f({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(f=>{const d=f.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(d,p,m,u),v=g.attributes.map(x=>x.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,u){const f=u.attributeIDs,d=u.attributeTypes;let p,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(g===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in f){const w=self[d[x]];let _,A;if(u.useUniqueIDs)A=f[x],_=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[f[x]]),A===-1)continue;_=a.GetAttribute(p,A)}v.attributes.push(r(o,a,p,x,w,_))}return g===o.TRIANGULAR_MESH&&(v.index=i(o,a,p)),o.destroy(p),v}function i(o,a,l){const f=l.num_faces()*3,d=f*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,f,d){const p=d.num_components(),g=l.num_points()*p,v=g*f.BYTES_PER_ELEMENT,x=s(o,f),w=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,x,v,w);const _=new f(o.HEAPF32.buffer,w,g).slice();return o._free(w),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Zm;const i1=()=>{if(Zm)return Zm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let g=0;g<d.length;++g){const v=d.charCodeAt(g);p[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<d.length;++g)p[m++]=p[g]<60?i[p[g]]:(p[g]-60)*64+p[++g];return p.buffer.slice(0,m)}function l(d,p,m,g,v,x){const w=s.exports.sbrk,_=m+3&-4,A=w(_*g),S=w(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,S);const P=d(A,m,g,S,v.length);if(P===0&&x&&x(A,_,g),p.set(E.subarray(A,A+m*g)),w(A-w(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zm={ready:o,supported:!0,decodeVertexBuffer(d,p,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,g,s.exports[u[v]])},decodeIndexBuffer(d,p,m,g){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,g)},decodeIndexSequence(d,p,m,g){l(s.exports.meshopt_decodeIndexSequence,d,p,m,g)},decodeGltfBuffer(d,p,m,g,v,x){l(s.exports[f[v]],d,p,m,g,s.exports[u[x]])}},Zm};let $m=null;function pD(n,e,t){return i=>{t&&t(i),n&&($m||($m=new T7),$m.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader($m)),e&&i.setMeshoptDecoder(typeof i1=="function"?i1():i1)}}function QM(n,e=!0,t=!0,i){return Od(KM,n,pD(e,t,i))}QM.preload=(n,e=!0,t=!0,i)=>Od.preload(KM,n,pD(e,t,i));QM.clear=n=>Od.clear(KM,n);const B7=H.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const f=Ws(E=>E.invalidate),d=Ws(E=>E.camera),p=Ws(E=>E.gl),m=Ws(E=>E.events),g=Ws(E=>E.setEvents),v=Ws(E=>E.set),x=Ws(E=>E.get),w=Ws(E=>E.performance),_=e||d,A=i||m.connected||p.domElement,S=H.useMemo(()=>new ZW(_),[_]);return nD(()=>{S.enabled&&S.update()},-1),H.useEffect(()=>(S.connect(A),()=>void S.dispose()),[A,t,S,f]),H.useEffect(()=>{const E=C=>{f(),t&&w.regress(),s&&s(C)},P=C=>{o&&o(C)},R=C=>{a&&a(C)};return S.addEventListener("change",E),S.addEventListener("start",P),S.addEventListener("end",R),()=>{S.removeEventListener("start",P),S.removeEventListener("end",R),S.removeEventListener("change",E)}},[s,o,a,S,f,g]),H.useEffect(()=>{if(n){const E=x().controls;return v({controls:S}),()=>v({controls:E})}},[n,S]),H.createElement("primitive",bc({ref:u,object:S,enableDamping:r},l))});var p0={},R7={get exports(){return p0},set exports(n){p0=n}},I7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L7=I7,D7=L7;function mD(){}function gD(){}gD.resetWarningCache=mD;var F7=function(){function n(i,r,s,o,a,l){if(l!==D7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gD,resetWarningCache:mD};return t.PropTypes=t,t};R7.exports=F7();const k7=()=>{const{progress:n}=jW();return ht(WW,{children:[me("span",{className:"canvas-load"}),ht("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"% "]})]})},O7=()=>{const n=QM("./planet/scene.gltf");return me("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},N7=()=>me(DW,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:ht(H.Suspense,{fallback:me(k7,{}),children:[me(B7,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),me(O7,{})]})}),yD=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),py=H.createContext({}),qM=H.createContext(null),my=typeof document<"u",O2=my?H.useLayoutEffect:H.useEffect,vD=H.createContext({strict:!1});function z7(n,e,t,i){const{visualElement:r}=H.useContext(py),s=H.useContext(vD),o=H.useContext(qM),a=H.useContext(yD).reducedMotion,l=H.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return H.useInsertionEffect(()=>{u&&u.update(t,o)}),O2(()=>{u&&u.render()}),H.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?O2:H.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Wu(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function U7(n,e,t){return H.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Wu(t)&&(t.current=i))},[e])}function Zf(n){return typeof n=="string"||Array.isArray(n)}function gy(n){return typeof n=="object"&&typeof n.start=="function"}const ZM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$M=["initial",...ZM];function yy(n){return gy(n.animate)||$M.some(e=>Zf(n[e]))}function xD(n){return Boolean(yy(n)||n.variants)}function G7(n,e){if(yy(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Zf(t)?t:void 0,animate:Zf(i)?i:void 0}}return n.inherit!==!1?e:{}}function H7(n){const{initial:e,animate:t}=G7(n,H.useContext(py));return H.useMemo(()=>({initial:e,animate:t}),[N2(e),N2(t)])}function N2(n){return Array.isArray(n)?n.join(" "):n}const z2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$f={};for(const n in z2)$f[n]={isEnabled:e=>z2[n].some(t=>!!e[t])};function V7(n){for(const e in n)$f[e]={...$f[e],...n[e]}}function _D(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let W7=1;function j7(){return _D(()=>{if(af.hasEverUpdated)return W7++})}const wD=H.createContext({}),AD=H.createContext({}),J7=Symbol.for("motionComponentSymbol");function X7({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&V7(n);function s(a,l){let u;const f={...H.useContext(yD),...a,layoutId:Y7(a)},{isStatic:d}=f,p=H7(a),m=d?void 0:j7(),g=i(a,d);if(!d&&my){p.visualElement=z7(r,g,f,e);const v=H.useContext(AD),x=H.useContext(vD).strict;p.visualElement&&(u=p.visualElement.loadFeatures(f,x,n,m,v))}return H.createElement(py.Provider,{value:p},u&&p.visualElement?H.createElement(u,{visualElement:p.visualElement,...f}):null,t(r,a,m,U7(g,p.visualElement,l),g,d,p.visualElement))}const o=H.forwardRef(s);return o[J7]=r,o}function Y7({layoutId:n}){const e=H.useContext(wD).id;return e&&n!==void 0?e+"-"+n:n}function K7(n){function e(i,r={}){return X7(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const Q7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eS(n){return typeof n!="string"||n.includes("-")?!1:!!(Q7.indexOf(n)>-1||/[A-Z]/.test(n))}const m0={};function q7(n){Object.assign(m0,n)}const vy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(vy);function MD(n,{layout:e,layoutId:t}){return Wl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!m0[n]||n==="opacity")}const Oi=n=>Boolean(n&&n.getVelocity),Z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$7=vy.length;function ej(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<$7;o++){const a=vy[o];if(n[a]!==void 0){const l=Z7[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const SD=n=>e=>typeof e=="string"&&e.startsWith(n),bD=SD("--"),Ew=SD("var(--"),tj=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Dl=(n,e,t)=>Math.min(Math.max(t,n),e),jl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lf={...jl,transform:n=>Dl(0,1,n)},eg={...jl,default:1},uf=n=>Math.round(n*1e5)/1e5,ed=/(-)?([\d]*\.?[\d])+/g,Tw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zd(n){return typeof n=="string"}const Ud=n=>({test:e=>zd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Oo=Ud("deg"),ws=Ud("%"),rt=Ud("px"),ij=Ud("vh"),rj=Ud("vw"),U2={...ws,parse:n=>ws.parse(n)/100,transform:n=>ws.transform(n*100)},G2={...jl,transform:Math.round},CD={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,size:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,rotate:Oo,rotateX:Oo,rotateY:Oo,rotateZ:Oo,scale:eg,scaleX:eg,scaleY:eg,scaleZ:eg,skew:Oo,skewX:Oo,skewY:Oo,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:lf,originX:U2,originY:U2,originZ:rt,zIndex:G2,fillOpacity:lf,strokeOpacity:lf,numOctaves:G2};function tS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,f=!0;for(const d in e){const p=e[d];if(bD(d)){s[d]=p;continue}const m=CD[d],g=tj(p,m);if(Wl.has(d)){if(l=!0,o[d]=g,!f)continue;p!==(m.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,a[d]=g):r[d]=g}if(e.transform||(l||i?r.transform=ej(n.transform,t,f,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ED(n,e,t){for(const i in e)!Oi(e[i])&&!MD(i,t)&&(n[i]=e[i])}function sj({transformTemplate:n},e,t){return H.useMemo(()=>{const i=nS();return tS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function oj(n,e,t){const i=n.style||{},r={};return ED(r,i,n),Object.assign(r,sj(n,e,t)),n.transformValues?n.transformValues(r):r}function aj(n,e,t){const i={},r=oj(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const lj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function g0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||lj.has(n)}let TD=n=>!g0(n);function uj(n){n&&(TD=e=>e.startsWith("on")?!g0(e):n(e))}try{uj(require("@emotion/is-prop-valid").default)}catch{}function cj(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(TD(r)||t===!0&&g0(r)||!e&&!g0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function H2(n,e,t){return typeof n=="string"?n:rt.transform(e+t*n)}function hj(n,e,t){const i=H2(e,n.x,n.width),r=H2(t,n.y,n.height);return`${i} ${r}`}const fj={offset:"stroke-dashoffset",array:"stroke-dasharray"},dj={offset:"strokeDashoffset",array:"strokeDasharray"};function pj(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?fj:dj;n[s.offset]=rt.transform(-i);const o=rt.transform(e),a=rt.transform(t);n[s.array]=`${o} ${a}`}function iS(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,f,d){if(tS(n,l,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:g}=n;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=hj(g,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&pj(p,s,o,a,!1)}const PD=()=>({...nS(),attrs:{}}),rS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mj(n,e,t,i){const r=H.useMemo(()=>{const s=PD();return iS(s,e,{enableHardwareAcceleration:!1},rS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};ED(s,n.style,n),r.style={...s,...r.style}}return r}function gj(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const u=(eS(t)?mj:aj)(i,o,a,t),d={...cj(i,typeof t=="string",n),...u,ref:s},{children:p}=i,m=H.useMemo(()=>Oi(p)?p.get():p,[p]);return r&&(d["data-projection-id"]=r),H.createElement(t,{...d,children:m})}}const sS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function BD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const RD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ID(n,e,t,i){BD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(RD.has(r)?r:sS(r),e.attrs[r])}function oS(n,e){const{style:t}=n,i={};for(const r in t)(Oi(t[r])||e.style&&Oi(e.style[r])||MD(r,n))&&(i[r]=t[r]);return i}function LD(n,e){const t=oS(n,e);for(const i in n)if(Oi(n[i])||Oi(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function aS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const y0=n=>Array.isArray(n),yj=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),vj=n=>y0(n)?n[n.length-1]||0:n;function Bg(n){const e=Oi(n)?n.get():n;return yj(e)?e.toValue():e}function xj({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:_j(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const DD=n=>(e,t)=>{const i=H.useContext(py),r=H.useContext(qM),s=()=>xj(n,e,i,r);return t?s():_D(s)};function _j(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Bg(s[p]);let{initial:o,animate:a}=n;const l=yy(n),u=xD(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!gy(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const g=aS(n,m);if(!g)return;const{transitionEnd:v,transition:x,...w}=g;for(const _ in w){let A=w[_];if(Array.isArray(A)){const S=f?A.length-1:0;A=A[S]}A!==null&&(r[_]=A)}for(const _ in v)r[_]=v[_]}),r}const wj={useVisualState:DD({scrapeMotionValuesFromProps:LD,createRenderState:PD,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}iS(t,i,{enableHardwareAcceleration:!1},rS(e.tagName),n.transformTemplate),ID(e,t)}})},Aj={useVisualState:DD({scrapeMotionValuesFromProps:oS,createRenderState:nS})};function Mj(n,{forwardMotionProps:e=!1},t,i){return{...eS(n)?wj:Aj,preloadedFeatures:t,useRender:gj(e),createVisualElement:i,Component:n}}function no(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const FD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function xy(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Sj=n=>e=>FD(e)&&n(e,xy(e));function so(n,e,t,i){return no(n,e,Sj(t),i)}const bj=(n,e)=>t=>e(n(t)),la=(...n)=>n.reduce(bj);function kD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const V2=kD("dragHorizontal"),W2=kD("dragVertical");function OD(n){let e=!1;if(n==="y")e=W2();else if(n==="x")e=V2();else{const t=V2(),i=W2();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function ND(){const n=OD(!0);return n?(n(),!1):!0}class Ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Cj(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const d=f&&r,p=d?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let u=0;u<i;u++){const f=e[u];f(l),o.has(f)&&(a.schedule(f),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const qr={delta:0,timestamp:0},Ej=40;let Pw=!0,td=!1,Bw=!1;const Gd=["read","update","preRender","render","postRender"],_y=Gd.reduce((n,e)=>(n[e]=Cj(()=>td=!0),n),{}),rn=Gd.reduce((n,e)=>{const t=_y[e];return n[e]=(i,r=!1,s=!1)=>(td||Pj(),t.schedule(i,r,s)),n},{}),va=Gd.reduce((n,e)=>(n[e]=_y[e].cancel,n),{}),r1=Gd.reduce((n,e)=>(n[e]=()=>_y[e].process(qr),n),{}),Tj=n=>_y[n].process(qr),zD=n=>{td=!1,qr.delta=Pw?1e3/60:Math.max(Math.min(n-qr.timestamp,Ej),1),qr.timestamp=n,Bw=!0,Gd.forEach(Tj),Bw=!1,td&&(Pw=!1,requestAnimationFrame(zD))},Pj=()=>{td=!0,Pw=!0,Bw||requestAnimationFrame(zD)};function j2(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||ND())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&rn.update(()=>a[i](s,o))};return so(n.current,t,r,{passive:!n.getProps()[i]})}class Bj extends Ta{mount(){this.unmount=la(j2(this.node,!0),j2(this.node,!1))}unmount(){}}class Rj extends Ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=la(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UD=(n,e)=>e?n===e?!0:UD(n,e.parentElement):!1,_i=n=>n;function s1(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,xy(t))}class Ij extends Ta{constructor(){super(...arguments),this.removeStartListeners=_i,this.removeEndListeners=_i,this.removeAccessibleListeners=_i,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=so(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f}=this.node.getProps();rn.update(()=>{UD(this.node.current,a.target)?u&&u(a,l):f&&f(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=so(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=la(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||s1("up",(l,u)=>{const{onTap:f}=this.node.getProps();f&&rn.update(()=>f(l,u))})};this.removeEndListeners(),this.removeEndListeners=no(this.node.current,"keyup",o),s1("down",(a,l)=>{this.startPress(a,l)})},t=no(this.node.current,"keydown",e),i=()=>{this.isPressing&&s1("cancel",(s,o)=>this.cancelPress(s,o))},r=no(this.node.current,"blur",i);this.removeAccessibleListeners=la(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&rn.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ND()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&rn.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=so(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=no(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=la(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rw=new WeakMap,o1=new WeakMap,Lj=n=>{const e=Rw.get(n.target);e&&e(n)},Dj=n=>{n.forEach(Lj)};function Fj({root:n,...e}){const t=n||document;o1.has(t)||o1.set(t,{});const i=o1.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Dj,{root:n,...e})),i[r]}function kj(n,e,t){const i=Fj(e);return Rw.set(n,t),i.observe(n),()=>{Rw.delete(n),i.unobserve(n)}}const Oj={some:0,all:1};class Nj extends Ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Oj[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return kj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zj(e,t))&&this.startObserver()}unmount(){}}function zj({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Uj={inView:{Feature:Nj},tap:{Feature:Ij},focus:{Feature:Rj},hover:{Feature:Bj}};function GD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Gj=n=>/^\-?\d*\.?\d+$/.test(n),Hj=n=>/^0[^.\s]+$/.test(n);function lS(n,e){n.indexOf(e)===-1&&n.push(e)}function uS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class cS{constructor(){this.subscriptions=[]}add(e){return lS(this.subscriptions,e),()=>uS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HD(n,e){return e?n*(1e3/e):0}const Vj=n=>!isNaN(parseFloat(n));class Wj{constructor(e,t={}){this.version="10.3.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=qr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,rn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Vj(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cS);const i=this.events[e].add(t);return e==="change"?()=>{i(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?HD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(n,e){return new Wj(n,e)}const hS=(n,e)=>t=>Boolean(zd(t)&&nj.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),VD=(n,e,t)=>i=>{if(!zd(i))return i;const[r,s,o,a]=i.match(ed);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jj=n=>Dl(0,255,n),a1={...jl,transform:n=>Math.round(jj(n))},ml={test:hS("rgb","red"),parse:VD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+a1.transform(n)+", "+a1.transform(e)+", "+a1.transform(t)+", "+uf(lf.transform(i))+")"};function Jj(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Iw={test:hS("#"),parse:Jj,transform:ml.transform},ju={test:hS("hsl","hue"),parse:VD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ws.transform(uf(e))+", "+ws.transform(uf(t))+", "+uf(lf.transform(i))+")"},gi={test:n=>ml.test(n)||Iw.test(n)||ju.test(n),parse:n=>ml.test(n)?ml.parse(n):ju.test(n)?ju.parse(n):Iw.parse(n),transform:n=>zd(n)?n:n.hasOwnProperty("red")?ml.transform(n):ju.transform(n)},WD="${c}",jD="${n}";function Xj(n){var e,t;return isNaN(n)&&zd(n)&&(((e=n.match(ed))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Tw))===null||t===void 0?void 0:t.length)||0)>0}function v0(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(Tw);r&&(t=r.length,n=n.replace(Tw,WD),e.push(...r.map(gi.parse)));const s=n.match(ed);return s&&(i=s.length,n=n.replace(ed,jD),e.push(...s.map(jl.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function JD(n){return v0(n).values}function XD(n){const{values:e,numColors:t,tokenised:i}=v0(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?WD:jD,a<t?gi.transform(s[a]):uf(s[a]));return o}}const Yj=n=>typeof n=="number"?0:n;function Kj(n){const e=JD(n);return XD(n)(e.map(Yj))}const xa={test:Xj,parse:JD,createTransformer:XD,getAnimatableNone:Kj},Qj=new Set(["brightness","contrast","saturate","opacity"]);function qj(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(ed)||[];if(!i)return n;const r=t.replace(i,"");let s=Qj.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const Zj=/([a-z-]*)\(.*?\)/g,Lw={...xa,getAnimatableNone:n=>{const e=n.match(Zj);return e?e.map(qj).join(" "):n}},$j={...CD,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:Lw,WebkitFilter:Lw},fS=n=>$j[n];function dS(n,e){let t=fS(n);return t!==Lw&&(t=xa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const YD=n=>e=>e.test(n),eJ={test:n=>n==="auto",parse:n=>n},KD=[jl,rt,ws,Oo,rj,ij,eJ],Ih=n=>KD.find(YD(n)),tJ=[...KD,gi,xa],nJ=n=>tJ.find(YD(n));function iJ(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function rJ(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function wy(n,e,t){const i=n.getProps();return aS(i,e,t!==void 0?t:i.custom,iJ(n),rJ(n))}function sJ(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Cc(t))}function oJ(n,e){const t=wy(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=vj(s[o]);sJ(n,o,a)}}function aJ(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),f!=null&&(typeof f=="string"&&(Gj(f)||Hj(f))?f=parseFloat(f):!nJ(f)&&xa.test(u)&&(f=dS(l,u)),n.addValue(l,Cc(f,{owner:n})),t[l]===void 0&&(t[l]=f),f!==null&&n.setBaseTarget(l,f))}}function lJ(n,e){return e?(e[n]||e.default||e).from:void 0}function uJ(n,e,t){const i={};for(const r in n){const s=lJ(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function x0(n){return Boolean(Oi(n)&&n.add)}const cJ="framerAppearId",hJ="data-"+sS(cJ);let fJ=_i,_0=_i;const ua=n=>n*1e3,Ec=n=>n/1e3,dJ={current:!1};function pJ(n){return!n||Array.isArray(n)||typeof n=="string"&&QD[n]}const Wh=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,QD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wh([0,.65,.55,1]),circOut:Wh([.55,0,1,.45]),backIn:Wh([.31,.01,.66,-.59]),backOut:Wh([.33,1.53,.69,.99])};function mJ(n){if(n)return Array.isArray(n)?Wh(n):QD[n]}function gJ(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};return l&&(u.offset=l),n.animate(u,{delay:i,duration:r,easing:mJ(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const J2={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},l1={},qD={};for(const n in J2)qD[n]=()=>(l1[n]===void 0&&(l1[n]=J2[n]()),l1[n]);function yJ(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const pS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,mS=n=>e=>1-n(1-e),gS=n=>n*n,vJ=mS(gS),ZD=pS(gS),hn=(n,e,t)=>-t*n+t*e+n;function u1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xJ({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=u1(l,a,n+1/3),s=u1(l,a,n),o=u1(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const c1=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},_J=[Iw,ml,ju],wJ=n=>_J.find(e=>e.test(n));function X2(n){const e=wJ(n);let t=e.parse(n);return e===ju&&(t=xJ(t)),t}const $D=(n,e)=>{const t=X2(n),i=X2(e),r={...t};return s=>(r.red=c1(t.red,i.red,s),r.green=c1(t.green,i.green,s),r.blue=c1(t.blue,i.blue,s),r.alpha=hn(t.alpha,i.alpha,s),ml.transform(r))};function eF(n,e){return typeof n=="number"?t=>hn(n,e,t):gi.test(n)?$D(n,e):nF(n,e)}const tF=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>eF(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},AJ=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=eF(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},nF=(n,e)=>{const t=xa.createTransformer(e),i=v0(n),r=v0(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?la(tF(i.values,r.values),t):o=>`${o>0?e:n}`},nd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Y2=(n,e)=>t=>hn(n,e,t);function MJ(n){return typeof n=="number"?Y2:typeof n=="string"?gi.test(n)?$D:nF:Array.isArray(n)?tF:typeof n=="object"?AJ:Y2}function SJ(n,e,t){const i=[],r=t||MJ(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=la(l,a)}i.push(a)}return i}function iF(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;_0(s===e.length),_0(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=SJ(e,i,r),a=o.length,l=u=>{let f=0;if(a>1)for(;f<n.length-2&&!(u<n[f+1]);f++);const d=nd(n[f],n[f+1],u);return o[f](d)};return t?u=>l(Dl(n[0],n[s-1],u)):l}function bJ(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=nd(0,e,i);n.push(hn(t,1,r))}}function CJ(n){const e=[0];return bJ(e,n.length-1),e}function EJ(n,e){return n.map(t=>t*e)}const rF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,TJ=1e-7,PJ=12;function BJ(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=rF(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>TJ&&++a<PJ);return o}function sF(n,e,t,i){if(n===e&&t===i)return _i;const r=s=>BJ(s,0,1,n,t);return s=>s===0||s===1?s:rF(r(s),e,i)}const oF=n=>1-Math.sin(Math.acos(n)),yS=mS(oF),RJ=pS(yS),aF=sF(.33,1.53,.69,.99),vS=mS(aF),IJ=pS(vS),LJ=n=>(n*=2)<1?.5*vS(n):.5*(2-Math.pow(2,-10*(n-1))),DJ={linear:_i,easeIn:gS,easeInOut:ZD,easeOut:vJ,circIn:oF,circInOut:RJ,circOut:yS,backIn:vS,backInOut:IJ,backOut:aF,anticipate:LJ},K2=n=>{if(Array.isArray(n)){_0(n.length===4);const[e,t,i,r]=n;return sF(e,t,i,r)}else if(typeof n=="string")return DJ[n];return n},FJ=n=>Array.isArray(n)&&typeof n[0]!="number";function kJ(n,e){return n.map(()=>e||ZD).splice(0,n.length-1)}function w0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=FJ(i)?i.map(K2):K2(i),s={done:!1,value:e[0]},o=EJ(t&&t.length===e.length?t:CJ(e),n),a=iF(o,e,{ease:Array.isArray(r)?r:kJ(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const OJ=5;function lF(n,e,t){const i=Math.max(e-OJ,0);return HD(t-n(i),e-i)}const h1=.001,NJ=.01,Q2=10,zJ=.05,UJ=1;function GJ({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;fJ(n<=ua(Q2));let o=1-e;o=Dl(zJ,UJ,o),n=Dl(NJ,Q2,Ec(n)),o<1?(r=u=>{const f=u*o,d=f*n,p=f-t,m=Dw(u,o),g=Math.exp(-d);return h1-p/m*g},s=u=>{const d=u*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,g=Math.exp(-d),v=Dw(Math.pow(u,2),o);return(-r(u)+h1>0?-1:1)*((p-m)*g)/v}):(r=u=>{const f=Math.exp(-u*n),d=(u-t)*n+1;return-h1+f*d},s=u=>{const f=Math.exp(-u*n),d=(t-u)*(n*n);return f*d});const a=5/n,l=VJ(r,s,a);if(n=ua(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const HJ=12;function VJ(n,e,t){let i=t;for(let r=1;r<HJ;r++)i=i-n(i)/e(i);return i}function Dw(n,e){return n*Math.sqrt(1-e*e)}const WJ=["duration","bounce"],jJ=["stiffness","damping","mass"];function q2(n,e){return e.some(t=>n[t]!==void 0)}function JJ(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!q2(n,jJ)&&q2(n,WJ)){const t=GJ(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function uF({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:f,duration:d,isResolvedFromDuration:p}=JJ(i),m=f?-Ec(f):0,g=l/(2*Math.sqrt(a*u)),v=s-r,x=Ec(Math.sqrt(a/u)),w=Math.abs(v)<5;t||(t=w?.01:2),e||(e=w?.005:.5);let _;if(g<1){const A=Dw(x,g);_=S=>{const E=Math.exp(-g*x*S);return s-E*((m+g*x*v)/A*Math.sin(A*S)+v*Math.cos(A*S))}}else if(g===1)_=A=>s-Math.exp(-x*A)*(v+(m+x*v)*A);else{const A=x*Math.sqrt(g*g-1);_=S=>{const E=Math.exp(-g*x*S),P=Math.min(A*S,300);return s-E*((m+g*x*v)*Math.sinh(P)+A*v*Math.cosh(P))/A}}return{calculatedDuration:p&&d||null,next:A=>{const S=_(A);if(p)o.done=A>=d;else{let E=m;A!==0&&(g<1?E=lF(_,A,S):E=0);const P=Math.abs(E)<=t,R=Math.abs(s-S)<=e;o.done=P&&R}return o.value=o.done?s:S,o}}}function Z2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=n[0],p={done:!1,value:d},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=t*e;const x=d+v,w=o===void 0?x:o(x);w!==x&&(v=w-d);const _=C=>-v*Math.exp(-C/i),A=C=>w+_(C),S=C=>{const B=_(C),D=A(C);p.done=Math.abs(B)<=u,p.value=p.done?w:D};let E,P;const R=C=>{m(p.value)&&(E=C,P=uF({keyframes:[p.value,g(p.value)],velocity:lF(A,C,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:f}))};return R(0),{calculatedDuration:null,next:C=>{let B=!1;return!P&&E===void 0&&(B=!0,S(C),R(C)),E!==void 0&&C>E?P.next(C-E):(!B&&S(C),p)}}}const XJ=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rn.update(e,!0),stop:()=>va.update(e),now:()=>performance.now()}},YJ={decay:Z2,inertia:Z2,tween:w0,keyframes:w0,spring:uF},KJ=2e4;function QJ(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<KJ;)e+=t,i=n.next(e);return e}function A0({autoplay:n=!0,delay:e=0,driver:t=XJ,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:f,onUpdate:d,...p}){let m,g;const v=()=>{g=new Promise(ee=>{m=ee})};v();let x;const w=YJ[r]||w0;let _;w!==w0&&typeof i[0]!="number"&&(_=iF([0,100],i,{clamp:!1}),i=[0,100]);const A=w({...p,keyframes:i});let S;a==="mirror"&&(S=w({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let E="idle",P=null,R=null;A.calculatedDuration===null&&s&&(A.calculatedDuration=QJ(A));const{calculatedDuration:C}=A;let B=1/0,D=1/0;C&&(B=C+o,D=B*(s+1)-o);let O=0;const Y=ee=>{if(R===null)return;P!==null?O=P:O=ee-R,O=Math.max(O-e,0),E==="finished"&&P===null&&(O=D);let ne=O,I=A;if(s){const se=O/B;let he=Math.floor(se),xe=se%1;!xe&&se>=1&&(xe=1),xe===1&&he--;const Z=he%2;Z&&(a==="reverse"?(xe=1-xe,o&&(xe-=o/B)):a==="mirror"&&(I=S)),ne=(O>=D?a==="reverse"&&Z?0:1:Dl(0,1,xe))*B}const U=I.next(ne);let{value:G,done:$}=U;return d&&d(_?_(G):G),C!==null&&($=O>=D),P===null&&(E==="finished"||E==="running"&&$)&&W(),U},W=()=>{x&&x.stop(),E="finished",f&&f(),m(),v()},j=()=>{x||(x=t(Y));const ee=x.now();l&&l(),E="running",P!==null?R=ee-P:R||(R=ee),P=null,x.start()};return n&&j(),{then(ee,ne){return g.then(ee,ne)},get time(){return Ec(O)},set time(ee){const ne=ua(ee);P!==null||!x?P=ne:R=x.now()-ne},play:j,pause:()=>{E="paused",P=O},stop:()=>{u&&u(),x&&x.stop(),x=void 0},sample:ee=>(R=0,Y(ee))}}const qJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),tg=10,ZJ=2e4,$J=(n,e)=>e.type==="spring"||n==="backgroundColor"||!pJ(e.ease);function eX(n,e,{onUpdate:t,onComplete:i,...r}){if(!(qD.waapi()&&qJ.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let{keyframes:o,duration:a=300,ease:l}=r;if($J(e,r)){const f=A0({...r,repeat:0,delay:0});let d={done:!1,value:o[0]};const p=[];let m=0;for(;!d.done&&m<ZJ;)d=f.sample(m),p.push(d.value),m+=tg;o=p,a=m-tg,l="linear"}const u=gJ(n.owner.current,e,o,{...r,duration:a,ease:l});return u.onfinish=()=>{n.set(yJ(o,r)),rn.update(()=>u.cancel()),i&&i()},{then(f,d){return u.finished.then(f,d)},get time(){return Ec(u.currentTime||0)},set time(f){u.currentTime=ua(f)},play:()=>u.play(),pause:()=>u.pause(),stop:()=>{const{currentTime:f}=u;if(f){const d=A0({...r,autoplay:!1});n.setWithVelocity(d.sample(f-tg).value,d.sample(f).value,tg)}rn.update(()=>u.cancel())}}}function tX({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,play:_i,pause:_i,stop:_i,then:()=>Promise.resolve()});return e?A0({keyframes:[0,1],duration:e,onComplete:r}):r()}const nX={type:"spring",stiffness:500,damping:25,restSpeed:10},iX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),rX={type:"keyframes",duration:.8},sX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oX=(n,{keyframes:e})=>e.length>2?rX:Wl.has(n)?n.startsWith("scale")?iX(e[1]):nX:sX,Fw=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&xa.test(e)&&!e.startsWith("url("));function aX({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}function $2(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function eP(n){return typeof n=="number"?0:dS("",n)}function cF(n,e){return n[e]||n.default||n}function lX(n,e,t,i){const r=Fw(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=dS(e,t):$2(s)&&typeof t=="string"?s=eP(t):!Array.isArray(t)&&$2(t)&&typeof s=="string"&&(t=eP(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const xS=(n,e,t,i={})=>r=>{const s=cF(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-ua(o);const l=lX(e,n,t,s),u=l[0],f=l[l.length-1],d=Fw(n,u),p=Fw(n,f);let m={keyframes:l,velocity:e.getVelocity(),...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!d||!p||dJ.current||s.type===!1)return tX(m);if(aX(s)||(m={...m,...oX(n,m)}),m.duration&&(m.duration=ua(m.duration)),m.repeatDelay&&(m.repeatDelay=ua(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=eX(e,n,m);if(g)return g}return A0(m)};function uX(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>kw(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=kw(n,e,t);else{const r=typeof e=="function"?wy(n,e,t.custom):e;i=hF(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function kw(n,e,t={}){const i=wy(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>hF(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=r;return cX(n,e,u+l,f,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(t.delay)])}function hF(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||f&&fX(f,d))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=n.getProps()[hJ];x&&(g.elapsed=window.HandoffAppearAnimations(x,d,p,rn))}let v=p.start(xS(d,p,m,n.shouldReduceMotion&&Wl.has(d)?{type:!1}:g));x0(l)&&(l.add(d),v=v.then(()=>l.remove(d))),u.push(v)}return Promise.all(u).then(()=>{o&&oJ(n,o)})}function cX(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(hX).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(kw(u,e,{...s,delay:t+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function hX(n,e){return n.sortNodePosition(e)}function fX({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const dX=[...ZM].reverse(),pX=ZM.length;function mX(n){return e=>Promise.all(e.map(({animation:t,options:i})=>uX(n,t,i)))}function gX(n){let e=mX(n);const t=vX();let i=!0;const r=(l,u)=>{const f=wy(n,u);if(f){const{transition:d,transitionEnd:p,...m}=f;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const f=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let g={},v=1/0;for(let w=0;w<pX;w++){const _=dX[w],A=t[_],S=f[_]!==void 0?f[_]:d[_],E=Zf(S),P=_===u?A.isActive:null;P===!1&&(v=w);let R=S===d[_]&&S!==f[_]&&E;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),A.protectedKeys={...g},!A.isActive&&P===null||!S&&!A.prevProp||gy(S)||typeof S=="boolean")continue;const C=yX(A.prevProp,S);let B=C||_===u&&A.isActive&&!R&&E||w>v&&E;const D=Array.isArray(S)?S:[S];let O=D.reduce(r,{});P===!1&&(O={});const{prevResolvedValues:Y={}}=A,W={...Y,...O},j=X=>{B=!0,m.delete(X),A.needsAnimating[X]=!0};for(const X in W){const ee=O[X],ne=Y[X];g.hasOwnProperty(X)||(ee!==ne?y0(ee)&&y0(ne)?!GD(ee,ne)||C?j(X):A.protectedKeys[X]=!0:ee!==void 0?j(X):m.add(X):ee!==void 0&&m.has(X)?j(X):A.protectedKeys[X]=!0)}A.prevProp=S,A.prevResolvedValues=O,A.isActive&&(g={...g,...O}),i&&n.blockInitialAnimation&&(B=!1),B&&!R&&p.push(...D.map(X=>({animation:X,options:{type:_,...l}})))}if(m.size){const w={};m.forEach(_=>{const A=n.getBaseTarget(_);A!==void 0&&(w[_]=A)}),p.push({animation:w})}let x=Boolean(p.length);return i&&f.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,u,f){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),t[l].isActive=u;const p=o(f,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function yX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!GD(e,n):!1}function Xa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vX(){return{animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()}}class xX extends Ta{constructor(e){super(e),e.animationState||(e.animationState=gX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),gy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let _X=0;class wX extends Ta{constructor(){super(...arguments),this.id=_X++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AX={animation:{Feature:xX},exit:{Feature:wX}},tP=(n,e)=>Math.abs(n-e);function MX(n,e){const t=tP(n.x,e.x),i=tP(n.y,e.y);return Math.sqrt(t**2+i**2)}class fF{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=d1(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=MX(u.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:p}=u,{timestamp:m}=qr;this.history.push({...p,timestamp:m});const{onStart:g,onMove:v}=this.handlers;f||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=f1(f,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=d1(u.type==="pointercancel"?this.lastMoveEventInfo:f1(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!FD(e))return;this.handlers=t,this.transformPagePoint=i;const r=xy(e),s=f1(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=qr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,d1(s,this.history)),this.removeListeners=la(so(window,"pointermove",this.handlePointerMove),so(window,"pointerup",this.handlePointerUp),so(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),va.update(this.updatePoint)}}function f1(n,e){return e?{point:e(n.point)}:n}function nP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function d1({point:n},e){return{point:n,delta:nP(n,dF(e)),offset:nP(n,SX(e)),velocity:bX(e,.1)}}function SX(n){return n[0]}function dF(n){return n[n.length-1]}function bX(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=dF(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ua(e)));)t--;if(!i)return{x:0,y:0};const s=Ec(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zi(n){return n.max-n.min}function Ow(n,e=0,t=.01){return Math.abs(n-e)<=t}function iP(n,e,t,i=.5){n.origin=i,n.originPoint=hn(e.min,e.max,n.origin),n.scale=Zi(t)/Zi(e),(Ow(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=hn(t.min,t.max,n.origin)-n.originPoint,(Ow(n.translate)||isNaN(n.translate))&&(n.translate=0)}function cf(n,e,t,i){iP(n.x,e.x,t.x,i?i.originX:void 0),iP(n.y,e.y,t.y,i?i.originY:void 0)}function rP(n,e,t){n.min=t.min+e.min,n.max=n.min+Zi(e)}function CX(n,e,t){rP(n.x,e.x,t.x),rP(n.y,e.y,t.y)}function sP(n,e,t){n.min=e.min-t.min,n.max=n.min+Zi(e)}function hf(n,e,t){sP(n.x,e.x,t.x),sP(n.y,e.y,t.y)}function EX(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?hn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?hn(t,n,i.max):Math.min(n,t)),n}function oP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function TX(n,{top:e,left:t,bottom:i,right:r}){return{x:oP(n.x,t,r),y:oP(n.y,e,i)}}function aP(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function PX(n,e){return{x:aP(n.x,e.x),y:aP(n.y,e.y)}}function BX(n,e){let t=.5;const i=Zi(n),r=Zi(e);return r>i?t=nd(e.min,e.max-i,n.min):i>r&&(t=nd(n.min,n.max-r,e.min)),Dl(0,1,t)}function RX(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Nw=.35;function IX(n=Nw){return n===!1?n=0:n===!0&&(n=Nw),{x:lP(n,"left","right"),y:lP(n,"top","bottom")}}function lP(n,e,t){return{min:uP(n,e),max:uP(n,t)}}function uP(n,e){return typeof n=="number"?n:n[e]||0}const cP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ff=()=>({x:cP(),y:cP()}),hP=()=>({min:0,max:0}),Pn=()=>({x:hP(),y:hP()});function ps(n){return[n("x"),n("y")]}function pF({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function LX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function DX(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function p1(n){return n===void 0||n===1}function zw({scale:n,scaleX:e,scaleY:t}){return!p1(n)||!p1(e)||!p1(t)}function tl(n){return zw(n)||mF(n)||n.z||n.rotate||n.rotateX||n.rotateY}function mF(n){return fP(n.x)||fP(n.y)}function fP(n){return n&&n!=="0%"}function M0(n,e,t){const i=n-t,r=e*i;return t+r}function dP(n,e,t,i,r){return r!==void 0&&(n=M0(n,r,i)),M0(n,t,i)+e}function Uw(n,e=0,t=1,i,r){n.min=dP(n.min,e,t,i,r),n.max=dP(n.max,e,t,i,r)}function gF(n,{x:e,y:t}){Uw(n.x,e.translate,e.scale,e.originPoint),Uw(n.y,t.translate,t.scale,t.originPoint)}function FX(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ju(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gF(n,o)),i&&tl(s.latestValues)&&Ju(n,s.latestValues))}e.x=pP(e.x),e.y=pP(e.y)}function pP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Go(n,e){n.min=n.min+e,n.max=n.max+e}function mP(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=hn(n.min,n.max,s);Uw(n,e[t],e[i],o,e.scale)}const kX=["x","scaleX","originX"],OX=["y","scaleY","originY"];function Ju(n,e){mP(n.x,e,kX),mP(n.y,e,OX)}function yF(n,e){return pF(DX(n.getBoundingClientRect(),e))}function NX(n,e,t){const i=yF(n,t),{scroll:r}=e;return r&&(Go(i.x,r.offset.x),Go(i.y,r.offset.y)),i}const zX=new WeakMap;class UX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(xy(l,"page").point)},s=(l,u)=>{const{drag:f,dragPropagation:d,onDragStart:p}=this.getProps();if(f&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OD(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ps(g=>{let v=this.getAxisMotionValue(g).get()||0;if(ws.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[g];w&&(v=Zi(w)*(parseFloat(v)/100))}}this.originPoint[g]=v}),p&&rn.update(()=>p(l,u));const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:f,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:g}=u;if(d&&this.currentDirection===null){this.currentDirection=GX(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new fF(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&rn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!ng(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=EX(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Wu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=TX(i.layoutBox,e):this.constraints=!1,this.elastic=IX(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ps(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=RX(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=NX(i,r.root,this.visualElement.getTransformPagePoint());let o=PX(r.layout.layoutBox,s);if(t){const a=t(LX(o));this.hasMutatedConstraints=!!a,a&&(o=pF(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ps(f=>{if(!ng(f,t,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:i?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(xS(e,i,0,t))}stopAnimation(){ps(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ps(t=>{const{drag:i}=this.getProps();if(!ng(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-hn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Wu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ps(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=BX({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ps(o=>{if(!ng(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(hn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;zX.set(this.visualElement,this);const e=this.visualElement.current,t=so(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Wu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=no(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ps(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Nw,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ng(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function GX(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class HX extends Ta{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new UX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const gP=n=>(e,t)=>{n&&rn.update(()=>n(e,t))};class VX extends Ta{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new fF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:gP(e),onStart:gP(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&rn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function WX(){const n=H.useContext(qM);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=H.useId();return H.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function yP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rt.test(n))n=parseFloat(n);else return n;const t=yP(n,e.target.x),i=yP(n,e.target.y);return`${t}% ${i}%`}},vF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jX(n){const e=vF.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function Gw(n,e,t=1){const[i,r]=jX(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():Ew(r)?Gw(r,e,t+1):r}function JX(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!Ew(s))return;const o=Gw(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!Ew(s))continue;const o=Gw(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const vP="_$css",XX={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(vF,m=>(s.push(m),vP)));const o=xa.parse(n);if(o.length>5)return i;const a=xa.createTransformer(n),l=typeof o[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const d=hn(u,f,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(r){let m=0;p=p.replace(vP,()=>{const g=s[m];return m++,g})}return p}};class YX extends ac.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;q7(KX),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xF(n){const[e,t]=WX(),i=H.useContext(wD);return ac.createElement(YX,{...n,layoutGroup:i,switchLayoutGroup:H.useContext(AD),isPresent:e,safeToRemove:t})}const KX={borderRadius:{...Lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lh,borderTopRightRadius:Lh,borderBottomLeftRadius:Lh,borderBottomRightRadius:Lh,boxShadow:XX};class QX{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}get time(){return this.animations[0].time}set time(e){for(let t=0;t<this.animations.length;t++)this.animations[t].time=e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}}function _F(n,e,t={}){const i=Oi(n)?n:Cc(n);return i.start(xS("",i,e,t)),i.animation||new QX([])}const wF=["TopLeft","TopRight","BottomLeft","BottomRight"],qX=wF.length,xP=n=>typeof n=="string"?parseFloat(n):n,_P=n=>typeof n=="number"||rt.test(n);function ZX(n,e,t,i,r,s){r?(n.opacity=hn(0,t.opacity!==void 0?t.opacity:1,$X(i)),n.opacityExit=hn(e.opacity!==void 0?e.opacity:1,0,eY(i))):s&&(n.opacity=hn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<qX;o++){const a=`border${wF[o]}Radius`;let l=wP(e,a),u=wP(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_P(l)===_P(u)?(n[a]=Math.max(hn(xP(l),xP(u),i),0),(ws.test(u)||ws.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=hn(e.rotate||0,t.rotate||0,i))}function wP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const $X=AF(0,.5,yS),eY=AF(.5,.95,_i);function AF(n,e,t){return i=>i<n?0:i>e?1:t(nd(n,e,i))}function AP(n,e){n.min=e.min,n.max=e.max}function yr(n,e){AP(n.x,e.x),AP(n.y,e.y)}function MP(n,e,t,i,r){return n-=e,n=M0(n,1/t,i),r!==void 0&&(n=M0(n,1/r,i)),n}function tY(n,e=0,t=1,i=.5,r,s=n,o=n){if(ws.test(e)&&(e=parseFloat(e),e=hn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=hn(s.min,s.max,i);n===s&&(a-=e),n.min=MP(n.min,e,t,a,r),n.max=MP(n.max,e,t,a,r)}function SP(n,e,[t,i,r],s,o){tY(n,e[t],e[i],e[r],e.scale,s,o)}const nY=["x","scaleX","originX"],iY=["y","scaleY","originY"];function bP(n,e,t,i){SP(n.x,e,nY,t?t.x:void 0,i?i.x:void 0),SP(n.y,e,iY,t?t.y:void 0,i?i.y:void 0)}function CP(n){return n.translate===0&&n.scale===1}function MF(n){return CP(n.x)&&CP(n.y)}function Hw(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function EP(n){return Zi(n.x)/Zi(n.y)}class rY{constructor(){this.members=[]}add(e){lS(this.members,e),e.scheduleRender()}remove(e){if(uS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TP(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:f}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),f&&(i+=`rotateY(${f}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const sY=(n,e)=>n.depth-e.depth;class oY{constructor(){this.children=[],this.isDirty=!1}add(e){lS(this.children,e),this.isDirty=!0}remove(e){uS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sY),this.isDirty=!1,this.children.forEach(e)}}function aY(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(va.read(i),n(s-e))};return rn.read(i,!0),()=>va.read(i)}function lY(n){window.MotionDebug&&window.MotionDebug.record(n)}const PP=["","X","Y","Z"],BP=1e3;let uY=0;const nl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function SF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=uY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{nl.totalNodes=nl.resolvedTargetDeltas=nl.recalculatedProjection=0,this.nodes.forEach(fY),this.nodes.forEach(gY),this.nodes.forEach(yY),this.nodes.forEach(dY),lY(nl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new oY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=aY(p,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(IP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||AY,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=f.getProps(),_=!this.targetLayout||!Hw(this.targetLayout,g)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const S={...cF(v,"layout"),onPlay:x,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&IP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,va.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RP);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(MY),this.potentialNodes.clear()),this.nodes.forEach(mY),this.nodes.forEach(cY),this.nodes.forEach(hY),this.clearAllSnapshots(),r1.update(),r1.preRender(),r1.render())}clearAllSnapshots(){this.nodes.forEach(pY),this.sharedNodes.forEach(xY)}scheduleUpdateProjection(){rn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!MF(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||tl(this.latestValues)||f)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),SY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Go(a.x,l.offset.x),Go(a.y,l.offset.y)),a}removeElementScroll(o){const a=Pn();yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){yr(a,o);const{scroll:p}=this.root;p&&(Go(a.x,-p.offset.x),Go(a.y,-p.offset.y))}Go(a.x,f.offset.x),Go(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=Pn();yr(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ju(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),tl(f.latestValues)&&Ju(l,f.latestValues)}return tl(this.latestValues)&&Ju(l,this.latestValues),l}removeTransform(o){const a=Pn();yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!tl(u.latestValues))continue;zw(u.latestValues)&&u.updateSnapshot();const f=Pn(),d=u.measurePageBox();yr(f,d),bP(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return tl(this.latestValues)&&bP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=Boolean(this.resumingFrom)||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=qr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),hf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==qr.timestamp&&this.relativeParent.resolveTargetDelta(!0),CX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),gF(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&Boolean(m.resumingFrom)===Boolean(this.resumingFrom)&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),hf(this.relativeTargetOrigin,this.target,m.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zw(this.parent.latestValues)||mF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;yr(this.layoutCorrected,this.layout.layoutBox),FX(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=ff(),this.projectionDeltaWithTransform=ff());const m=this.treeScale.x,g=this.treeScale.y,v=this.projectionTransform;cf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=TP(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),nl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=ff();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Pn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,x=this.getStack(),w=!x||x.members.length<=1,_=Boolean(v&&!w&&this.options.crossfade===!0&&!this.path.some(wY));this.animationProgress=0;let A;this.mixTargetDelta=S=>{const E=S/1e3;LP(d.x,o.x,E),LP(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_Y(this.relativeTarget,this.relativeTargetOrigin,p,E),A&&Hw(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Pn()),yr(A,this.relativeTarget)),v&&(this.animationValues=f,ZX(f,u,this.latestValues,E,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(va.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{af.hasAnimatedSinceResize=!0,this.currentAnimation=_F(0,BP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&bF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Pn();const d=Zi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Zi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}yr(a,l),Ju(a,f),cf(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rY),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<PP.length;f++){const d="rotate"+PP[f];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Bg(o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bg(o.pointerEvents)||""),this.hasProjected&&!tl(this.latestValues)&&(v.transform=f?f({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=TP(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in m0){if(p[v]===void 0)continue;const{correct:x,applyTo:w}=m0[v],_=u.transform==="none"?p[v]:x(p[v],d);if(w){const A=w.length;for(let S=0;S<A;S++)u[w[S]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=d===this?Bg(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(RP),this.root.sharedNodes.clear()}}}function cY(n){n.updateLayout()}function hY(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ps(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Zi(p);p.min=i[d].min,p.max=p.min+m}):bF(s,t.layoutBox,i)&&ps(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Zi(i[d]);p.max=p.min+m});const a=ff();cf(a,i,t.layoutBox);const l=ff();o?cf(l,n.applyTransform(r,!0),t.measuredBox):cf(l,i,t.layoutBox);const u=!MF(a);let f=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const g=Pn();hf(g,t.layoutBox,p.layoutBox);const v=Pn();hf(v,i,m.layoutBox),Hw(g,v)||(f=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function fY(n){nl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function dY(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function pY(n){n.clearSnapshot()}function RP(n){n.clearMeasurements()}function mY(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function IP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function gY(n){n.resolveTargetDelta()}function yY(n){n.calcProjection()}function vY(n){n.resetRotation()}function xY(n){n.removeLeadSnapshot()}function LP(n,e,t){n.translate=hn(e.translate,0,t),n.scale=hn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function DP(n,e,t,i){n.min=hn(e.min,t.min,i),n.max=hn(e.max,t.max,i)}function _Y(n,e,t,i){DP(n.x,e.x,t.x,i),DP(n.y,e.y,t.y,i)}function wY(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const AY={duration:.45,ease:[.4,0,.1,1]};function MY(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function FP(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function SY(n){FP(n.x),FP(n.y)}function bF(n,e,t){return n==="position"||n==="preserve-aspect"&&!Ow(EP(e),EP(t),.2)}const bY=SF({attachResizeListener:(n,e)=>no(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),m1={current:void 0},CF=SF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!m1.current){const n=new bY(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),m1.current=n}return m1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),CY={pan:{Feature:VX},drag:{Feature:HX,ProjectionNode:CF,MeasureLayout:xF}},EY=new Set(["width","height","top","left","right","bottom","x","y"]),EF=n=>EY.has(n),TY=n=>Object.keys(n).some(EF),kP=n=>n===jl||n===rt,OP=(n,e)=>parseFloat(n.split(", ")[e]),NP=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return OP(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?OP(s[1],n):0}},PY=new Set(["x","y","z"]),BY=vy.filter(n=>!PY.has(n));function RY(n){const e=[];return BY.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const zP={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:NP(4,13),y:NP(5,14)},IY=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=zP[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const f=e.getValue(u);f&&f.jump(a[u]),n[u]=zP[u](l,s)}),n},LY=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(EF);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let f=t[l],d=Ih(f);const p=e[l];let m;if(y0(p)){const g=p.length,v=p[0]===null?1:0;f=p[v],d=Ih(f);for(let x=v;x<g;x++)m?_0(Ih(p[x])===m):m=Ih(p[x])}else m=Ih(p);if(d!==m)if(kP(d)&&kP(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===rt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(f===0||p===0)?f===0?u.set(m.transform(f)):e[l]=d.transform(p):(o||(s=RY(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=IY(e,n,a);return s.length&&s.forEach(([f,d])=>{n.getValue(f).set(d)}),n.render(),my&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function DY(n,e,t,i){return TY(e)?LY(n,e,t,i):{target:e,transitionEnd:i}}const FY=(n,e,t,i)=>{const r=JX(n,e,i);return e=r.target,i=r.transitionEnd,DY(n,e,t,i)},Vw={current:null},TF={current:!1};function kY(){if(TF.current=!0,!!my)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vw.current=n.matches;n.addListener(e),e()}else Vw.current=!1}function OY(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Oi(s))n.addValue(r,s),x0(i)&&i.add(r);else if(Oi(o))n.addValue(r,Cc(s,{owner:n})),x0(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Cc(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const PF=Object.keys($f),NY=PF.length,UP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zY=$M.length;class UY{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=yy(t),this.isVariantNode=xD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(t,{});for(const d in f){const p=f[d];a[d]!==void 0&&Oi(p)&&(p.set(a[d],!1),x0(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),TF.current||kY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va.update(this.notifyUpdate),va.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Wl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let u=0;u<NY;u++){const f=PF[u],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:g}=$f[f];m&&(a=m),d(t)&&(!this.features[f]&&p&&(this.features[f]=new p(this)),g&&(l=g))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:f,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:g}=t;this.projection.setOptions({layoutId:u,layout:f,alwaysMeasureLayout:Boolean(d)||p&&Wu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<UP.length;i++){const r=UP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=OY(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<zY;i++){const r=$M[i],s=this.props[r];(Zf(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Cc(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=aS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Oi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new cS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class BF extends UY{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=uJ(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){aJ(this,i,o);const a=FY(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function GY(n){return window.getComputedStyle(n)}class HY extends BF{readValueFromInstance(e,t){if(Wl.has(t)){const i=fS(t);return i&&i.default||0}else{const i=GY(e),r=(bD(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yF(e,t)}build(e,t,i,r){tS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return oS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Oi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){BD(e,t,i,r)}}class VY extends BF{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wl.has(t)){const i=fS(t);return i&&i.default||0}return t=RD.has(t)?t:sS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Pn()}scrapeMotionValuesFromProps(e,t){return LD(e,t)}build(e,t,i,r){iS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){ID(e,t,i,r)}mount(e){this.isSVGTag=rS(e.tagName),super.mount(e)}}const WY=(n,e)=>eS(n)?new VY(e,{enableHardwareAcceleration:!1}):new HY(e,{enableHardwareAcceleration:!0}),jY={layout:{ProjectionNode:CF,MeasureLayout:xF}},JY={...AX,...Uj,...CY,...jY},$i=K7((n,e)=>Mj(n,e,JY,WY)),er={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-8 px-6 sm:py-16 py-10",heroHeadText:"font-black text-[#797979] lg:text-[80px] sm:text-[60px] xs:text-[40px] text-[35px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[18px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-[#797979] font-normal md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},_S=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25}}}),Hd=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),GP=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),XY=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Vd=(n,e)=>function(){return ht($i.section,{variants:XY(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${er.padding} max-w-7xl mx-auto relative z-0`,children:[me("span",{className:"hash-span",id:e,children:""}),me(n,{})]})},YY="/portfolio/assets/kwlogowhite-088d314e.svg",KY="/portfolio/assets/backend-565fc01f.png",QY="/portfolio/assets/mobile-896ef2f5.png",qY="/portfolio/assets/web-0d05165f.png",ZY="/portfolio/assets/web_dev-3cef2eee.png",$Y="/portfolio/assets/seo-fa7eacd8.png",eK="/portfolio/assets/ai_ent-cfd615c3.png",tK="/portfolio/assets/ma_dev-ca114615.png",nK="/portfolio/assets/github-3b4e1609.png",iK="/portfolio/assets/css-79a7f026.png",rK="/portfolio/assets/figma-184a11e6.png",sK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",oK="/portfolio/assets/html-92b76a73.png",aK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",lK="/portfolio/assets/mongodb-54000b2b.png",uK="/portfolio/assets/nodejs-d83eb6dd.png",cK="/portfolio/assets/reactjs-966214a8.png",hK="/portfolio/assets/tailwind-6ece120d.png",fK="/portfolio/assets/threejs-fe160e71.svg",dK="/portfolio/assets/python-34762b57.png",pK="/portfolio/assets/APU-4eae360a.png",mK="/portfolio/assets/bikebear-05e47d84.png",gK="/portfolio/assets/sunway-5c8fb687.png",yK="/portfolio/assets/instagram-e4057aba.svg",vK="/portfolio/assets/linkedin-ef8eccc4.svg",xK="/portfolio/assets/github-fab00c2d.svg",_K="/portfolio/assets/clinic-ed1aba65.png",wK="/portfolio/assets/hoobank-2ee27ea5.png",AK="/portfolio/assets/javaprog-7bca32af.png",MK="/portfolio/assets/calc-cbf7c388.png",SK="/portfolio/assets/tkw-aeb5c2d9.png",bK="/portfolio/assets/tkw2-95a174a5.png",CK=()=>ht("section",{className:"relative w-full h-screen mx-auto",children:[me("div",{className:"absolute inset-0 mt-[40px]  max-w-6xl mx-auto sm:px-8 px-6 ",children:ht("div",{className:" lg:flex-row flex-col-reverse flex overflow-hidden bg-[rgba(255,255,255,0.35)] h-[70%] rounded-3xl backdrop-blur-md",children:[ht("div",{className:"flex ",children:[ht("div",{className:"flex flex-col justify-center items-center mt-5 mr-[10px] ml-[10px]",children:[me("div",{className:"w-5 h-5 rounded-full bg-[#ffffff]"}),me("div",{className:"w-1 sm:h-40 h-40 grey-gradient"})]}),ht("div",{className:"self-center",children:[ht("h1",{className:`${er.heroHeadText} text-[#797979]`,children:["Hi, I'm ",me("span",{className:"text-[#FFBF00]",children:"Kar Wei"})]}),ht("p",{className:`${er.heroSubText} mt-2 text-secondary`,children:["I am a software engineering student ",me("br",{className:"sm:block hidden"}),"I am currently studying at Sunway University"]})]})]}),me("div",{className:" self-center  xl:flex-1 xl:h-auto",children:me("img",{className:"mx-auto rounded-full  lg:h-[300px] h-[200px]",src:SK})})]})}),me("div",{className:"absolute xs:bottom-20 bottom-24 w-full flex justify-center items-center",children:me("a",{href:"#about",children:me("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:me($i.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),id={_origin:"https://api.emailjs.com"},EK=(n,e="https://api.emailjs.com")=>{id._userID=n,id._origin=e},RF=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class HP{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const IF=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new HP(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new HP(o))}),s.open("POST",id._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),TK=(n,e,t,i)=>{const r=i||id._userID;return RF(r,n,e),IF("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},PK=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},BK=(n,e,t,i)=>{const r=i||id._userID,s=PK(t);RF(r,n,e);const o=new FormData(s);return o.append("lib_version","3.10.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),IF("/api/v1.0/email/send-form",o)},RK={init:EK,send:TK,sendForm:BK},IK=()=>{const n=H.useRef(null),[e,t]=H.useState({name:"",email:"",message:""}),[i,r]=H.useState(!1),s=a=>{const{name:l,value:u}=a.target;t({...e,[l]:u})},o=a=>{a.preventDefault(),r(!0),RK.send("service_zj49sin","template_wkm7e67",{from_name:e.name,to_name:"Kar Wei",from_email:e.email,to_email:"karwei2002@gmail.com",message:e.message},"OBDTxX9y-7SW-zRhg").then(()=>{r(!1),alert("Thank You. I will get back to you ASAP!"),t({name:"",email:"",message:""})},l=>{r(!1),console.log(l),alert("Oops something went wrong, email was not send successfully")})};return ht("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden bg-[rgba(255,255,255,0.35)] rounded-3xl backdrop-blur-md",children:[ht($i.div,{variants:GP("left","tween",.2,1),className:"flex-[0.75]  p-8 rounded-2xl",children:[me("p",{className:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider ",children:"Get in touch"}),me("h3",{className:er.sectionHeadText,children:"Contact"}),ht("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[ht("label",{className:"flex flex-col",children:[me("span",{className:"text-secondary font-medium mb-4",children:"Your Name"}),me("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your name?",className:"bg-[rgba(255,255,255,0.45)] py-4 px-6 placeholder:text-secondary text-[#797979] rounded-lg outlined:none border-none font-medium"})]}),ht("label",{className:"flex flex-col",children:[me("span",{className:"text-secondary font-medium mb-4",children:"Your Email"}),me("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your email?",className:"bg-[rgba(255,255,255,0.45)] py-4 px-6 placeholder:text-secondary text-[#797979] rounded-lg outlined:none border-none font-medium"})]}),ht("label",{className:"flex flex-col",children:[me("span",{className:"text-secondary font-medium mb-4",children:"Your Message"}),me("textarea",{style:{maxHeight:"224px"},rows:"8",name:"message",value:e.message,onChange:s,placeholder:"What do you want to say?",className:"bg-[rgba(255,255,255,0.45)] py-4 px-6 placeholder:text-secondary text-[#797979] rounded-lg outlined:none border-none font-medium"})]}),me("button",{type:"submit",className:"cont-bt ",children:i?"Sending...":"Send"})]})]}),me($i.div,{variants:GP("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:me(N7,{})})]})},LK=Vd(IK,"contact");var Ay={},S0={},DK={get exports(){return S0},set exports(n){S0=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(DK);Ay.__esModule=!0;Ay.default=void 0;var FK=wS(H),Do=wS(p0),kK=wS(S0);function wS(n){return n&&n.__esModule?n:{default:n}}const LF=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),FK.default.createElement("div",{className:(0,kK.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));LF.propTypes={children:Do.default.oneOfType([Do.default.arrayOf(Do.default.node),Do.default.node]).isRequired,className:Do.default.string,animate:Do.default.bool,layout:Do.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Do.default.string};var OK=LF;Ay.default=OK;var My={};function Ww(){return Ww=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ww.apply(this,arguments)}function NK(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jw(n,e)}function jw(n,e){return jw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},jw(n,e)}function zK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Jw=new Map,ig=new WeakMap,VP=0,DF=void 0;function UK(n){DF=n}function GK(n){return n?(ig.has(n)||(VP+=1,ig.set(n,VP.toString())),ig.get(n)):"0"}function HK(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?GK(n.root):n[e])}).toString()}function VK(n){var e=HK(n),t=Jw.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(f){return a.intersectionRatio>=f});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(f){f(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},Jw.set(e,t)}return t}function AS(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=DF),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=VK(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),Jw.delete(o))}}var WK=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function WP(n){return typeof n.children!="function"}var b0=function(n){NK(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),WP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,f=r.fallbackInView;this._unobserveCb=AS(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},f)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!WP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,f=zK(a,WK);return H.createElement(u||"div",Ww({ref:this.handleNode},f),l)},e}(H.Component);b0.displayName="InView";b0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function jK(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,f=e.fallbackInView,d=H.useRef(),p=H.useState({inView:!!u}),m=p[0],g=p[1],v=H.useCallback(function(w){d.current!==void 0&&(d.current(),d.current=void 0),!l&&w&&(d.current=AS(w,function(_,A){g({inView:_,entry:A}),A.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},f))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,f,i]);H.useEffect(function(){!d.current&&m.entry&&!a&&!l&&g({inView:!!u})});var x=[v,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const JK=Object.freeze(Object.defineProperty({__proto__:null,InView:b0,default:b0,defaultFallbackInView:UK,observe:AS,useInView:jK},Symbol.toStringTag,{value:"Module"})),XK=kO(JK);My.__esModule=!0;My.default=void 0;var Fo=MS(H),tn=MS(p0),rg=MS(S0),YK=XK;function MS(n){return n&&n.__esModule?n:{default:n}}const FF=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:f=null,id:d="",position:p="",style:m=null,textClassName:g="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>Fo.default.createElement(YK.InView,v,({inView:w,ref:_})=>Fo.default.createElement("div",{ref:_,id:d,className:(0,rg.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Fo.default.createElement(Fo.default.Fragment,null,Fo.default.createElement("span",{style:f,onClick:l,className:(0,rg.default)(a,"vertical-timeline-element-icon",{"bounce-in":w||x,"is-hidden":!(w||x)})},o),Fo.default.createElement("div",{style:i,onClick:u,className:(0,rg.default)(g,"vertical-timeline-element-content",{"bounce-in":w||x,"is-hidden":!(w||x)})},Fo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Fo.default.createElement("span",{className:(0,rg.default)(s,"vertical-timeline-element-date")},r)))));FF.propTypes={children:tn.default.oneOfType([tn.default.arrayOf(tn.default.node),tn.default.node]),className:tn.default.string,contentArrowStyle:tn.default.shape({}),contentStyle:tn.default.shape({}),date:tn.default.node,dateClassName:tn.default.string,icon:tn.default.element,iconClassName:tn.default.string,iconStyle:tn.default.shape({}),iconOnClick:tn.default.func,onTimelineElementClick:tn.default.func,id:tn.default.string,position:tn.default.string,style:tn.default.shape({}),textClassName:tn.default.string,visible:tn.default.bool,intersectionObserverProps:tn.default.shape({root:tn.default.object,rootMargin:tn.default.string,threshold:tn.default.number,triggerOnce:tn.default.bool})};var KK=FF;My.default=KK;var kF={VerticalTimeline:Ay.default,VerticalTimelineElement:My.default};const QK=[{title:"Web Developer",icon:qY,bg:ZY},{title:"Mobile App Developer",icon:QY,bg:tK},{title:"SEO",icon:KY,bg:$Y},{title:"AI enthusiastic",bg:eK}],qK=[{name:"HTML 5",icon:oK},{name:"CSS 3",icon:iK},{name:"JavaScript",icon:aK},{name:"React JS",icon:cK},{name:"Tailwind CSS",icon:hK},{name:"Node JS",icon:uK},{name:"Python",icon:dK},{name:"MongoDB",icon:lK},{name:"Three JS",icon:fK},{name:"Git",icon:sK},{name:"Figma",icon:rK}],ZK=[{title:"Diploma Student",company_name:"Asia Pacific University",icon:pK,iconBg:"#FFFFFF",date:"June 2020 - August 2022",points:["Enroll in the course of Diploma in Information & Communication Technology with a specialism in Software Engineering","Learn a lot of different skills including basic networking, web development, database, Java & Python programming and etc","Graduated with a CGPA of 3.78"]},{title:"SEO Intern",company_name:"BikeBear",icon:mK,iconBg:"#fbda19",date:"May 2022 - August 2022",points:["Successfully completed my Diploma internship at BikeBear Sdn Bhd as an SEO intern","Learned how to help clients get their website index by Google","Improve SEO rating of clients site","Got the chance to learn and use a lot of SEO tools such as Google Analytics, Google Search Console, RankerX, RankMath, YoastSEO and etc"]},{title:"Degree Student",company_name:"Sunway University",icon:gK,iconBg:"#FFFFFF",date:"Jan 2023 - Present",points:["Enroll in the course of Bachelor in Software Engineering (BSE)","Direct enrollment to Degree year 2 by transfering credit from the previous Diploma studies.","Qualified for Jeffrey Cheah Entrance Scholarship"]}],$K=[{name:"Clinic Appointment Booking system",description:"Web-based platform that allows users to search, book, and manage doctor appointment details, providing a convenient and efficient way to mange appointment made by the patient.",tags:[{name:"HTML",color:"blue-text-gradient"},{name:"PHP",color:"green-text-gradient"},{name:"MySQL",color:"pink-text-gradient"}],image:_K,source_code_link:"",webp_link:""},{name:"Bank Branding Website",description:"React web application for me to learn about building responsive website using Tailwind CSS.",tags:[{name:"React",color:"blue-text-gradient"},{name:"Tailwind",color:"green-text-gradient"},{name:"Javascript",color:"pink-text-gradient"}],image:wK,source_code_link:"https://github.com/Karweiii/webp1",webp_link:"https://karweiii.github.io/webp1/"},{name:"Java GUI hotel booking program",description:"A simple graphical user interface (GUI) Java program using Java Swing to create a hotel booking system to allow user book their ideal type of room. This systems require users to create their own account in order to book a hotel room based on their account information",tags:[{name:"Java",color:"blue-text-gradient"},{name:"Java Swing",color:"green-text-gradient"}],image:AK,source_code_link:"",webp_link:""},{name:"Python GUI Calculator",description:"Simple graphical user interface (GUI) python program using python Tkinter. A simple calculator program just to show simple understanding of algorithms and make it happen on a gui program.",tags:[{name:"Python",color:"blue-text-gradient"},{name:"Tkinter",color:"green-text-gradient"}],image:MK,source_code_link:"",webp_link:""}],OF=[{id:"Instagram",icon:yK,link:"https://www.instagram.com/kar_weiii"},{id:"LinkedIn",icon:vK,link:"https://www.linkedin.com/in/tkarwei"},{id:"Github",icon:xK,link:"https://github.com/Karweiii"}],eQ=({experience:n})=>ht(kF.VerticalTimelineElement,{contentStyle:{background:"rgba(255,255,255,0.45)",color:"#000"},contentArrowStyle:{borderRight:"15px solid #A9A9A9"},date:n.date,iconStyle:{background:n.iconBg},icon:me("div",{className:"flex justify-center items-center w-full h-full",children:me("img",{src:n.icon,alt:n.company_name,className:"w-[70%] h-[70%] object-contain "})}),children:[ht("div",{children:[me("h3",{className:"text-black text-[24px] font-bold ",children:n.title}),me("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),me("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>me("li",{className:"text-black-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),tQ=()=>ht("div",{className:"p-10 bg-[rgba(255,255,255,0.35)] rounded-3xl backdrop-blur-md",children:[ht($i.div,{variants:_S(),children:[me("p",{className:er.sectionSubText,children:"What I have done so far"}),me("h2",{className:er.sectionHeadText,children:"Experience"})]}),me("div",{className:"mt-20 flex flex-col",children:me(kF.VerticalTimeline,{lineColor:"#A9A9A9",children:ZK.map((n,e)=>me(eQ,{experience:n},e))})})]}),nQ=Vd(tQ,"work");var NF={};Object.defineProperty(NF,"__esModule",{value:!0});var Dh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iQ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),zF=H,rQ=oQ(zF),sQ=xf;function oQ(n){return n&&n.__esModule?n:{default:n}}function aQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lQ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function uQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var cQ=function(n){uQ(e,n);function e(t){aQ(this,e);var i=lQ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return iQ(e,[{key:"componentDidMount",value:function(){this.element=(0,sQ.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Dh({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:Dh({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Dh({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:Dh({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),u=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),f=o*100,d=a*100;return{tiltX:l,tiltY:u,percentageX:f,percentageY:d}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:Dh({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return rQ.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(zF.Component),hQ=NF.default=cQ;const g1=`
url("http://allyourhtml.club/carousel/pattern.webp") center / 75%
`,Ya="5%",y1=n=>`
  repeating-linear-gradient(
    0deg,
    rgb(255, 119, 115) calc(${Ya} * 1),
    rgba(255, 237, 95, 1) calc(${Ya} * 2),
    rgba(168, 255, 95, 1) calc(${Ya} * 3),
    rgba(131, 255, 247, 1) calc(${Ya} * 4),
    rgba(120, 148, 255, 1) calc(${Ya} * 5),
    rgb(216, 117, 255) calc(${Ya} * 6),
    rgb(255, 119, 115) calc(${Ya} * 7)
  )
  0% ${n}% / 200% 700%
  `,v1=(n,e)=>`
  repeating-linear-gradient(
    128deg,
    #0e152e 0%,
    hsl(180, 10%, 60%) 3.8%,
    hsl(180, 10%, 60%) 4.5%,
    hsl(180, 10%, 60%) 5.2%,
    #0e152e 10%,
    #0e152e 12%
  )
  ${n}%  ${e}% / 300%
  `,fQ=(n,e,t,i)=>`
  radial-gradient(
    farthest-corner circle at ${n*100}% ${e*100}%,
    rgba(255, 255, 255, 0.1) 12%,
    rgba(255, 255, 255, 0.15) 20%,
    rgba(255, 255, 255, 0.25) 120%
  )
  ${t}% ${i}% / 300%
  `;function jP(n,e,t){const i=n.nativeEvent.offsetY/n.nativeEvent.offsetX;_F(t?n.nativeEvent.offsetX:0,t?0:n.nativeEvent.offsetX,{duration:.15,onUpdate:r=>{e.current.style.background=`radial-gradient(
        farthest-corner circle at ${r}px ${r*i}px,
        rgba(255, 255, 255, 0.8) 10%,
        rgba(255, 255, 255, 0.65) 20%,
        rgba(255, 255, 255, 0) 90%
      )
      `}})}function x1(n=0,e=0,t=40,i=40,r,s,o,a){let l=[];return a?l=[r,s(i),o(t,i),a(n,e,t,i)]:l=[r,s(i),o(t,i)],l.join(",")}function dQ(n){H.useRef({state:"out"});const e=H.useRef(null),t=H.useRef(null),i=H.useRef(null),r=H.useRef(null);return me($i.div,{variants:Hd("right","spring",.5*n.index,.75),className:"  drop-shadow-lg",children:me("div",{options:{max:45,scale:1,speed:150},ref:r,style:{width:250,height:280,transformStyle:"preserve-3d",perspective:800},children:ht("div",{role:"container",style:{position:"relative",width:"100%",height:"100%",borderRadius:30,backgroundColor:"black",transition:"transform 0.5s ease-out",overflow:"hidden"},onMouseMove:s=>{let o=s.nativeEvent.offsetX/parseInt(r.current.style.width),a=s.nativeEvent.offsetY/parseInt(r.current.style.height),l=-(o-.5)*25,u=(a-.5)*25,f=40+20*o,d=40+20*a;s.target.style.transform=`rotateY(${l}deg) rotateX(${u}deg)`,e.current.style.background=`radial-gradient(
          farthest-corner circle at ${100*o}% ${100*a}%,
          rgba(255, 255, 255, 0.8) 10%,
          rgba(255, 255, 255, 0.65) 20%,
          rgba(255, 255, 255, 0) 90%
        )
        `;const p=x1(o,a,f,d,g1,y1,v1);t.current.style.background=p,i.current.style.backgroundPosition=`
        center, 0% ${d}%, calc(${f}% * -1) calc(${d}% * -1), ${f}% ${d}%
        `},onMouseEnter:s=>{jP(s,e,!1),t.current.style.opacity=1},onMouseLeave:s=>{t.current.style.opacity=.2,jP(s,e,!0),s.target.style.transform="rotateY(0deg) rotateX(0deg)"},children:[me("div",{role:"layer1",ref:e,style:{zIndex:20,position:"absolute",mixBlendMode:"soft-light",pointerEvents:"none",width:"100%",height:"100%",background:`radial-gradient(
              farthest-corner circle at top left,
              rgba(255, 255, 255, 0.8) 10%,
              rgba(255, 255, 255, 0.65) 20%,
              rgba(255, 255, 255, 0) 90%
            )
            `}}),me("div",{role:"layer2-img",style:{pointerEvents:"none",width:"100%",height:"100%",zIndex:1,position:"absolute"},children:me("img",{style:{width:"100%",height:"100%"},src:n.bg,alt:""})}),me("div",{role:"layer3",ref:t,style:{position:"absolute",pointerEvents:"none",opacity:.2,transition:"opacity 0.5s ease",willChange:"background",mixBlendMode:"color-dodge",width:"100%",height:"100%",background:x1(0,0,40,40,g1,y1,v1),backgroundBlendMode:"hue, hue, hard-light, overlay",zIndex:30},children:me("div",{role:"layer4",ref:i,style:{position:"absolute",pointerEvents:"none",willChange:"background",mixBlendMode:"exclusion",width:"100%",height:"100%",background:x1(0,0,40,40,g1,y1,v1,fQ),backgroundBlendMode:"soft-light, hue, hard-light",backgroundSize:" 75%, 200% 400%, 800%, 200%",backgroundPosition:"center, 0% 40%, calc(40% * -1) calc(40% * -1), ${bgX}% 40%"}})})]})})})}const pQ=()=>ht("div",{className:"p-10 bg-[rgba(255,255,255,0.35)] rounded-3xl backdrop-blur-md z-[1] relative",children:[ht($i.div,{children:[me("p",{className:er.sectionSubText,children:"Introduction"}),me("h2",{className:er.sectionHeadText,children:"Overview."})]}),me($i.p,{variants:Hd("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Hello, my name is Tan Kar Wei and I'm currently studying Bachelor of Software Engineering at Sunway University. As a quick learner, I'm always eager to implement the skills that I learn in my daily life. While I'm studying software engineering, I do also have a high passion and interest in big data and artificial intelligence related field. I'm excited about the potential in these fields to transform the way of how we live and work, and that's why I'm eager to explore the possibilities and contribute myself to the development. I'm also enthusiastic about collaborating with others and learning from their experiences. Thank you for taking the time to learn a bit more about me  ^_^"}),me("div",{className:"mt-20 flex flex-wrap gap-10 justify-center ",children:QK.map((n,e)=>me(dQ,{index:e,...n},n.title))})]}),mQ=Vd(pQ,"about"),gQ=()=>{const[n,e]=H.useState(""),[t,i]=H.useState(!1);return ht("nav",{className:`${er.paddingX} w-full flex  py-5  top-0 z-20 bg-[rgba(255, 255, 255, .4)]`,id:"home",children:[me("div",{className:"w-full flex justify-between items-center  mx-auto",children:ht(N4,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[me("img",{src:YY,alt:"logo",className:"w-9 h-9 object-contain"}),ht("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Kar Wei ",me("span",{className:"md:block hidden",children:"| Personal Portfolio"})]})]})}),me("button",{className:"nav-toggler w-[50px] h-[50px] cursor-pointer rounded-full fixed	right-[3%] z-[1000] ",onClick:()=>i(!t),children:me("span",{})}),me("div",{className:`nav-menu ${t?"active":" "} bg-gradient-to-l from-[#EFEFBB] to-[#D4D3DD]`,children:ht("div",{className:"nav-inner justify-between sm:flex-row flex-col flex md:h-[80%] sm:mt-[10%] xl:mt-[5%] mt-[15%]  ",children:[me("div",{className:"items-center flex left-[10%] ",children:ht("ul",{children:[me("li",{children:me("a",{href:"#home",className:"nav-item flex-row",onClick:()=>i(!t),children:me("div",{className:"items-center w-fit whitespace-nowrap flex text-[#797979]",children:"home"})})}),me("li",{children:me("a",{href:"#about",className:"nav-item",onClick:()=>i(!t),children:me("div",{className:"items-center w-fit whitespace-nowrap flex text-[#797979]",children:"about"})})}),me("li",{children:me("a",{href:"#work",className:"nav-item",onClick:()=>i(!t),children:me("div",{className:"items-center w-fit whitespace-nowrap flex text-[#797979]",children:"work"})})}),me("li",{children:me("a",{href:"#contact",className:"nav-item",onClick:()=>i(!t),children:me("div",{className:"items-center w-fit whitespace-nowrap flex text-[#797979]",children:"contact"})})})]})}),ht("div",{className:"items-center w-[35%] p-[20px] sm:flex-col flex-row self-center flex justify-center",children:[me("div",{className:"mb-[20px] sm:block  hidden",children:me("img",{src:bK,alt:"photo",className:"h-[80%] aspect-square rounded-full "})}),me("div",{className:"flex gap-10",children:OF.map((r,s)=>me("a",{className:`w-10 h-10 bg-[#797979] flex items-center justify-center rounded-full mr-2 border \r
                    border-white border-[2px] relative overflow-hidden hover:bg-white hover:border-[#797979] group cursor-pointer`,href:r.link,target:"_blank",children:me("img",{className:`w-5 h-5 filter grayscale brightness-95 invert-0 sepia-7 saturate-100 hue-rotate-346 contrast-100 \r
                    group-hover:grayscale\r
                    group-hover:brightness-0 \r
                    group-hover:invert-100\r
                    group-hover:hue-rotate-346 \r
                    group-hover:saturate-98 \r
                    group-hover:contrast-86 \r
                    group-hover:sepia-7\r
                    transition ease-in-out duration-300`,src:r.icon,alt:r.id},r.id)}))})]})]})})]})};function yQ(n){return me($i.div,{variants:Hd("up","spring",.3*n.index,.75),children:ht("div",{className:"w-28 h-28  relative group bg-[rgba(108,122,137,0.35)] duration-500 rounded-full",children:[me("img",{className:"w-[90px] absolute top-[50%] left-[50%] transition-opacity duration-500 ease-in-out transform -translate-x-1/2 -translate-y-1/2 group-hover:opacity-0",src:n.icon}),me("p",{className:"font-bold text-lg text-white w-full break-words  absolute top-[50%] left-[50%] text-center transform -translate-x-1/2 -translate-y-1/2 transition-opacity duration-500 ease-in-out opacity-0 group-hover:opacity-100",children:n.sname})]})})}const vQ=()=>ht("div",{className:"bg-[rgba(255,255,255,0.35)] p-10 rounded-3xl backdrop-blur-md",children:[ht($i.div,{variants:_S(),children:[me("p",{className:er.sectionSubText,children:"What I know"}),me("h2",{className:er.sectionHeadText,children:"Skills"})]}),me("div",{className:"flex flex-row flex-wrap justify-center gap-10 mt-20",children:qK.map((n,e)=>me("div",{className:"w-28 h-28 ",children:me(yQ,{icon:n.icon,sname:n.name,index:e})},n.name))})]}),xQ=Vd(vQ,""),_Q=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s,webp_link:o})=>{const a=H.useRef(null);return me($i.div,{variants:Hd("right","spring",n*.5,.75),children:ht("div",{className:"bg-[rgba(255,255,255,0.45)] p-5 rounded-2xl sm:w-[338px] w-full",children:[me(hQ,{options:{max:45,scale:1,speed:450},ref:a,children:me("div",{className:"relative w-full h-[230px] border-solid border-[5px] border-[rgba(108,122,137,0.35)] rounded-xl",children:me("a",{href:o,children:me("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-2xl"})})})}),ht("div",{className:"mt-5",children:[me("h3",{className:"text-black font-bold text-[24px]",children:e}),me("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),ht("div",{className:"mt-2 flex flex-wrap gap-2 justify-between",children:[me("div",{className:"gap-2 flex place-items-center",children:i.map(l=>ht("p",{className:`text-[14px] ${l.color}`,children:["#",l.name]},l.name))}),me("div",{children:me("div",{onClick:()=>window.open(s,"_blank"),className:"bg-white w-12 h-12 rounded-full flex justify-center items-center cursor-pointer mr-[5px] group border-[3px] border-[rgba(108,122,137,0.35)]  hover:border-red-500 hover:bg-black",children:me("img",{src:nK,alt:"github",className:`w-1/2 h-1/2 object-contain  filter grayscale brightness-0 invert-0 sepia-7 saturate-98 hue-rotate-346 contrast-86 \r
                    group-hover:brightness-95 group-hover:invert-0 group-hover:hue-rotate-346 group-hover:saturate-100 group-hover:contrast-100 transition ease-in-out duration-300`})})})]})]})})},wQ=()=>ht("div",{className:"bg-[rgba(255,255,255,0.35)] p-10 rounded-3xl backdrop-blur-md",children:[ht($i.div,{variants:_S(),children:[me("p",{className:er.sectionSubText,children:"My Work"}),me("h2",{className:er.sectionHeadText,children:"Projects"})]}),me("div",{className:"w-full-flex",children:me($i.p,{variants:Hd("","",.1,1),className:"mt-2 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Here are some projects to showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability and knowledge to solve complex problems with different kind of skills and technologies, and also proven that I am able to manage projects effectively."})}),me("div",{className:"mt-20 flex flex-wrap gap-7 justify-center",children:$K.map((n,e)=>me(_Q,{...n,index:e},`project-${e}`))})]}),AQ=Vd(wQ,"");class MQ{constructor(){this._listeners=new Map}addEventListener(e,t){var i;this.removeEventListener(e,t),this._listeners.get(e)||this._listeners.set(e,[]),(i=this._listeners.get(e))===null||i===void 0||i.push(t)}dispatchEvent(e,t){var i;(i=this._listeners.get(e))===null||i===void 0||i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}class Wi{constructor(e,t,i){if(typeof e!="number"&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error("tsParticles - Vector3d not initialized correctly")}static get origin(){return Wi.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return Wi.create(e.x,e.y,e.z)}static create(e,t,i){return new Wi(e,t,i)}add(e){return Wi.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Wi.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Wi.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Wi.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}rotate(e){return Wi.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Wi.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}updateFromAngle(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}class tc extends Wi{constructor(e,t){super(e,t,0)}static get origin(){return tc.create(0,0)}static clone(e){return tc.create(e.x,e.y)}static create(e,t){return new tc(e,t)}}let SQ=Math.random;function _a(){return UF(SQ(),0,1-1e-16)}function UF(n,e,t){return Math.min(Math.max(n,e),t)}function nc(n){const e=bS(n);let t=SS(n);return e===t&&(t=0),_a()*(e-t)+t}function qt(n){return typeof n=="number"?n:nc(n)}function SS(n){return typeof n=="number"?n:n.min}function bS(n){return typeof n=="number"?n:n.max}function Ut(n,e){if(n===e||e===void 0&&typeof n=="number")return n;const t=SS(n),i=bS(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ut(t,i)}function bQ(n){const e=n.random,{enable:t,minimumValue:i}=typeof e=="boolean"?{enable:e,minimumValue:0}:e;return qt(t?Ut(n.value,i):n.value)}function CQ(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function CS(n,e){return CQ(n,e).distance}function EQ(n,e,t){if(typeof n=="number")return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return _a()*Math.PI*2}}function TQ(n){const e=tc.origin;return e.length=1,e.angle=n,e}function PQ(n){return n.position&&n.position.x!==void 0&&n.position.y!==void 0?{x:n.position.x*n.size.width/100,y:n.position.y*n.size.height/100}:void 0}function BQ(n){var e,t,i,r;return{x:(t=(e=n.position)===null||e===void 0?void 0:e.x)!==null&&t!==void 0?t:_a()*n.size.width,y:(r=(i=n.position)===null||i===void 0?void 0:i.y)!==null&&r!==void 0?r:_a()*n.size.height}}function GF(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}function Wd(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function RQ(){return!Wd()&&typeof matchMedia<"u"}function HF(n){if(RQ())return matchMedia(n)}function IQ(){return Wd()?n=>setTimeout(n):n=>(requestAnimationFrame||setTimeout)(n)}function LQ(){return Wd()?n=>clearTimeout(n):n=>(cancelAnimationFrame||clearTimeout)(n)}function DQ(n,e){return n===e||e instanceof Array&&e.indexOf(n)>-1}function FQ(n){return Math.floor(_a()*n.length)}function ES(n,e,t=!0){return n[e!==void 0&&t?e%n.length:FQ(n)]}function li(n,...e){for(const t of e){if(t==null)continue;if(typeof t!="object"){n=t;continue}const i=Array.isArray(t);i&&(typeof n!="object"||!n||!Array.isArray(n))?n=[]:!i&&(typeof n!="object"||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=typeof o=="object",l=n;l[r]=a&&Array.isArray(o)?o.map(u=>li(l[r],u)):li(l[r],o)}}return n}function Fl(n,e){return n instanceof Array?n.map((t,i)=>e(t,i)):e(n,0)}function df(n,e,t){return n instanceof Array?ES(n,e,t):n}const kQ="random",Sy=new Map;function VF(n){Sy.set(n.key,n)}function _1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function OQ(n){for(const[,s]of Sy)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,u)=>o+o+a+a+l+l+(u!==void 0?u+u:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function ic(n,e,t=!0){if(!n)return;const i=typeof n=="string"?{value:n}:n;if(typeof i.value=="string")return WF(i.value,e,t);if(i.value instanceof Array)return ic({value:ES(i.value,e,t)});for(const[,r]of Sy){const s=r.handleRangeColor(i);if(s)return s}}function WF(n,e,t=!0){if(!n)return;const i=typeof n=="string"?{value:n}:n;if(typeof i.value=="string")return i.value===kQ?GQ():zQ(i.value);if(i.value instanceof Array)return WF({value:ES(i.value,e,t)});for(const[,r]of Sy){const s=r.handleColor(i);if(s)return s}}function JP(n,e,t=!0){const i=ic(n,e,t);return i?NQ(i):void 0}function NQ(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function zQ(n){return OQ(n)}function Xw(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.b=t.l,e.g=t.l,e.r=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=_1(r,i,t.h+1/3),e.g=_1(r,i,t.h),e.b=_1(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function UQ(n){const e=Xw(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function GQ(n){const e=n??0;return{b:Math.floor(nc(Ut(e,256))),g:Math.floor(nc(Ut(e,256))),r:Math.floor(nc(Ut(e,256)))}}function Rg(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function XP(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function YP(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function HQ(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function VQ(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function w1(n,e){n.clearRect(0,0,e.width,e.height)}function WQ(n){var e,t,i,r,s;const{container:o,context:a,particle:l,delta:u,colorStyles:f,backgroundMask:d,composite:p,radius:m,opacity:g,shadow:v,transform:x}=n,w=l.getPosition(),_=l.rotation+(l.pathRotation?l.velocity.angle:0),A={sin:Math.sin(_),cos:Math.cos(_)},S={a:A.cos*((e=x.a)!==null&&e!==void 0?e:1),b:A.sin*((t=x.b)!==null&&t!==void 0?t:1),c:-A.sin*((i=x.c)!==null&&i!==void 0?i:1),d:A.cos*((r=x.d)!==null&&r!==void 0?r:1)};a.setTransform(S.a,S.b,S.c,S.d,w.x,w.y),a.beginPath(),d&&(a.globalCompositeOperation=p);const E=l.shadowColor;v.enable&&E&&(a.shadowBlur=v.blur,a.shadowColor=Rg(E),a.shadowOffsetX=v.offset.x,a.shadowOffsetY=v.offset.y),f.fill&&(a.fillStyle=f.fill);const P=(s=l.strokeWidth)!==null&&s!==void 0?s:0;a.lineWidth=P,f.stroke&&(a.strokeStyle=f.stroke),jQ(o,a,l,m,g,u),P>0&&a.stroke(),l.close&&a.closePath(),l.fill&&a.fill(),JQ(o,a,l,m,g,u),a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0)}function jQ(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function JQ(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o!=null&&o.afterEffect&&o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function XQ(n,e,t){e.draw&&e.draw(n,t)}function YQ(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function KQ(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}const pf="generated",KP="touchend",QQ="pointerdown",qQ="pointerup",QP="pointermove",ZQ="touchstart",$Q="touchmove",qP="pointerleave",eq="pointerout",tq="touchcancel",nq="resize",iq="visibilitychange";function rq(n,e,t){var i;const r=e[t];r!==void 0&&(n[t]=((i=n[t])!==null&&i!==void 0?i:1)*r)}class sq{constructor(e){this.container=e,this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=!Wd()&&typeof MutationObserver<"u"?new MutationObserver(t=>{for(const i of t)i.type==="attributes"&&i.attributeName==="style"&&this._repairStyle()}):void 0}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Rg(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{w1(r,this.size)})}destroy(){var e,t;(e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._generated?(t=this.element)===null||t===void 0||t.remove():this._resetOriginalStyle(),this.stop(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){if(this._context)return e(this._context)}drawParticle(e,t){var i;if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const s=e.getFillColor(),o=(i=e.getStrokeColor())!==null&&i!==void 0?i:s;let[a,l]=this._getPluginParticleColors(e);a||(a=s),l||(l=o),!(!a&&!l)&&this.draw(u=>{var f,d,p,m;const g=this.container.actualOptions,v=e.options.zIndex,x=(1-e.zIndexFactor)**v.opacityRate,w=(p=(f=e.bubble.opacity)!==null&&f!==void 0?f:(d=e.opacity)===null||d===void 0?void 0:d.value)!==null&&p!==void 0?p:1,_=(m=e.strokeOpacity)!==null&&m!==void 0?m:w,A=w*x,S=_*x,E={},P={fill:a?XP(a,A):void 0};P.stroke=l?XP(l,S):P.fill,this._applyPreDrawUpdaters(u,e,r,A,P,E),WQ({container:this.container,context:u,particle:e,delta:t,colorStyles:P,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**v.sizeRate,opacity:A,shadow:e.options.shadow,transform:E}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>{YQ(r,e,t,i)})}drawPlugin(e,t){this.draw(i=>{XQ(i,e,t)})}async init(){var e;this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(t){console.error(t)}this.initBackground(),this.element&&((e=this._mutationObserver)===null||e===void 0||e.observe(this.element,{attributes:!0})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element,r=i==null?void 0:i.style;if(r){if(t.color){const s=ic(t.color);r.backgroundColor=s?Rg(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){var t,i;this._generated&&((t=this.element)===null||t===void 0||t.remove()),this._generated=e.dataset&&pf in e.dataset?e.dataset[pf]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=li({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),(i=this._mutationObserver)===null||i===void 0||i.observe(this.element,{attributes:!0}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(w1(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return;const s=Object.assign({},i);this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height})}stop(){this.draw(e=>{w1(e,this.size)})}async windowResize(){if(!this.element)return;this.resize();const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}_applyPostDrawUpdaters(e){var t;for(const i of this._postDrawUpdaters)(t=i.afterDraw)===null||t===void 0||t.call(i,e)}_applyPreDrawUpdaters(e,t,i,r,s,o){var a;for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:u,stroke:f}=l.getColorStyles(t,e,i,r);u&&(s.fill=u),f&&(s.stroke=f)}if(l.getTransformValues){const u=l.getTransformValues(t);for(const f in u)rq(o,u,f)}(a=l.beforeDraw)===null||a===void 0||a.call(l,t)}}_applyResizePlugins(){for(const e of this._resizePlugins)e.resize&&e.resize()}_getPluginParticleColors(e){let t,i;for(const r of this._colorPlugins)if(!t&&r.particleFillColor&&(t=JP(r.particleFillColor(e))),!i&&r.particleStrokeColor&&(i=JP(r.particleStrokeColor(e))),t&&i)break;return[t,i]}_initCover(){const e=this.container.actualOptions,t=e.backgroundMask.cover,i=t.color,r=ic(i);if(r){const s={r:r.r,g:r.g,b:r.b,a:t.opacity};this._coverColorStyle=Rg(s,s.a)}}_initStyle(){const e=this.element,t=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=li({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const i in t.style){if(!i||!t.style)continue;const r=t.style[i];r&&e.style.setProperty(i,r,"important")}}}async _initTrail(){const e=this.container.actualOptions,t=e.particles.move.trail,i=t.fill;if(t.enable)if(i.color){const r=ic(i.color);if(!r)return;const s=e.particles.move.trail;this._trailFill={color:Object.assign({},r),opacity:1/s.length}}else await new Promise((r,s)=>{if(!i.image)return;const o=document.createElement("img");o.addEventListener("load",()=>{this._trailFill={image:o,opacity:1/t.length},r()}),o.addEventListener("error",a=>{s(a.error)}),o.src=i.image})}_paintBase(e){this.draw(t=>{HQ(t,this.size,e)})}_paintImage(e,t){this.draw(i=>{VQ(i,this.size,e,t)})}_repairStyle(){var e,t;const i=this.element;i&&((e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._initStyle(),this.initBackground(),(t=this._mutationObserver)===null||t===void 0||t.observe(i,{attributes:!0}))}_resetOriginalStyle(){const e=this.element,t=this._originalStyle;e&&t&&(e.style.position=t.position,e.style.zIndex=t.zIndex,e.style.top=t.top,e.style.left=t.left,e.style.width=t.width,e.style.height=t.height)}_setFullScreenStyle(){const e=this.element;if(!e)return;const t="important";e.style.setProperty("position","fixed",t),e.style.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),t),e.style.setProperty("top","0",t),e.style.setProperty("left","0",t),e.style.setProperty("width","100%",t),e.style.setProperty("height","100%",t)}}function vr(n,e,t,i,r){if(i){let s={passive:!0};typeof r=="boolean"?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class oq{constructor(e){this.container=e,this.canPush=!0,this.handlers={mouseMove:t=>this.mouseTouchMove(t),touchStart:t=>this.mouseTouchMove(t),touchMove:t=>this.mouseTouchMove(t),touchEnd:()=>this.mouseTouchFinish(),mouseLeave:()=>this.mouseTouchFinish(),touchCancel:()=>this.mouseTouchFinish(),touchEndClick:t=>this.mouseTouchClick(t),mouseUp:t=>this.mouseTouchClick(t),mouseDown:()=>this.mouseDown(),visibilityChange:()=>this.handleVisibilityChange(),themeChange:t=>this.handleThemeChange(t),oldThemeChange:t=>this.handleThemeChange(t),resize:()=>this.handleWindowResize()}}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const t=this.container,i=t.actualOptions;if(this.canPush){const r=t.interactivity.mouse,s=r.position;if(!s)return;r.clickPosition=Object.assign({},s),r.clickTime=new Date().getTime();const o=i.interactivity.events.onClick;Fl(o.mode,a=>this.handleClickMode(a))}e.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const t=e,i=this.container,r=i.options,s=r.defaultThemes,o=t.matches?s.dark:s.light,a=r.themes.find(l=>l.name===o);a&&a.default.auto&&i.loadTheme(o)}handleVisibilityChange(){const e=this.container,t=e.actualOptions;this.mouseTouchFinish(),t.pauseOnBlur&&(document!=null&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return(e=this.container.canvas)===null||e===void 0?void 0:e.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)}manageListeners(e){var t;const i=this.handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn;let a=qP;if(o==="window")r.interactivity.element=window,a=eq;else if(o==="parent"&&r.canvas.element){const d=r.canvas.element;r.interactivity.element=(t=d.parentElement)!==null&&t!==void 0?t:d.parentNode}else r.interactivity.element=r.canvas.element;const l=HF("(prefers-color-scheme: dark)");l&&(l.addEventListener!==void 0?vr(l,"change",i.themeChange,e):l.addListener!==void 0&&(e?l.addListener(i.oldThemeChange):l.removeListener(i.oldThemeChange)));const u=r.interactivity.element;if(!u)return;const f=u;(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(vr(u,QP,i.mouseMove,e),vr(u,ZQ,i.touchStart,e),vr(u,$Q,i.touchMove,e),s.interactivity.events.onClick.enable?(vr(u,KP,i.touchEndClick,e),vr(u,qQ,i.mouseUp,e),vr(u,QQ,i.mouseDown,e)):vr(u,KP,i.touchEnd,e),vr(u,a,i.mouseLeave,e),vr(u,tq,i.touchCancel,e)),r.canvas.element&&(r.canvas.element.style.pointerEvents=f===r.canvas.element?"initial":"none"),s.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(r.canvas.element&&this.resizeObserver.unobserve(r.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&r.canvas.element&&(this.resizeObserver=new ResizeObserver(d=>{d.find(m=>m.target===r.canvas.element)&&this.handleWindowResize()}),this.resizeObserver.observe(r.canvas.element)):vr(window,nq,i.resize,e)),document&&vr(document,iq,i.visibilityChange,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const t=e.mouse;t.clicking=!0,t.downPosition=t.position}}mouseTouchClick(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse;r.inside=!0;let s=!1;const o=r.position;if(!(!o||!i.interactivity.events.onClick.enable)){for(const[,a]of t.plugins)if(a.clickPositionValid&&(s=a.clickPositionValid(o),s))break;s||this.doMouseTouchClick(e),r.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=qP,t.inside=!1,t.clicking=!1}mouseTouchMove(e){var t,i,r,s,o,a,l;const u=this.container,f=u.actualOptions;if(!(!((t=u.interactivity)===null||t===void 0)&&t.element))return;u.interactivity.mouse.inside=!0;let d;const p=u.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const g=e;if(u.interactivity.element===window){if(p){const v=p.getBoundingClientRect();d={x:g.clientX-v.left,y:g.clientY-v.top}}}else if(f.interactivity.detectsOn==="parent"){const v=g.target,x=g.currentTarget,w=u.canvas.element;if(v&&x&&w){const _=v.getBoundingClientRect(),A=x.getBoundingClientRect(),S=w.getBoundingClientRect();d={x:g.offsetX+2*_.left-(A.left+S.left),y:g.offsetY+2*_.top-(A.top+S.top)}}else d={x:(i=g.offsetX)!==null&&i!==void 0?i:g.clientX,y:(r=g.offsetY)!==null&&r!==void 0?r:g.clientY}}else g.target===u.canvas.element&&(d={x:(s=g.offsetX)!==null&&s!==void 0?s:g.clientX,y:(o=g.offsetY)!==null&&o!==void 0?o:g.clientY})}else{this.canPush=e.type!=="touchmove";const g=e,v=g.touches[g.touches.length-1],x=p==null?void 0:p.getBoundingClientRect();d={x:v.clientX-((a=x==null?void 0:x.left)!==null&&a!==void 0?a:0),y:v.clientY-((l=x==null?void 0:x.top)!==null&&l!==void 0?l:0)}}const m=u.retina.pixelRatio;d&&(d.x*=m,d.y*=m),u.interactivity.mouse.position=d,u.interactivity.status=QP}}function aq(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}class lq{constructor(e){this.container=e}async nextFrame(e){var t;try{const i=this.container;if(!i.smooth&&i.lastFrameTime!==void 0&&e<i.lastFrameTime+1e3/i.fpsLimit){i.draw(!1);return}(t=i.lastFrameTime)!==null&&t!==void 0||(i.lastFrameTime=e);const r=aq(e-i.lastFrameTime,i.fpsLimit,i.smooth);if(i.lifeTime+=r.value,i.lastFrameTime=e,r.value>1e3){i.draw(!1);return}if(await i.particles.draw(r),i.duration>0&&i.lifeTime>i.duration){i.destroy();return}i.getAnimationStatus()&&i.draw(!1)}catch(i){console.error("tsParticles error in animation loop",i)}}}class bs{constructor(){this.value=""}static create(e,t){const i=new bs;return i.load(e),t!==void 0&&(typeof t=="string"||t instanceof Array?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class uq{constructor(){this.color=new bs,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=bs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class cq{constructor(){this.color=new bs,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=bs.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class hq{constructor(){this.composite="destination-out",this.cover=new cq,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=typeof e.cover=="string"?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class fq{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class dq{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class ZP{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Fl(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Fl(e,t=>`#${t}`)}load(e){var t,i;if(!e)return;const r=(i=(t=e.ids)!==null&&t!==void 0?t:e.elementId)!==null&&i!==void 0?i:e.el;r!==void 0&&(this.ids=r),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class pq{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class mq{constructor(){this.enable=!1,this.mode=[],this.parallax=new pq}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class gq{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class yq{constructor(){this.onClick=new dq,this.onDiv=new ZP,this.onHover=new mq,this.resize=new gq}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,i,r;if(!e)return;this.onClick.load((t=e.onClick)!==null&&t!==void 0?t:e.onclick);const s=(i=e.onDiv)!==null&&i!==void 0?i:e.ondiv;s!==void 0&&(this.onDiv=Fl(s,o=>{const a=new ZP;return a.load(o),a})),this.onHover.load((r=e.onHover)!==null&&r!==void 0?r:e.onhover),typeof e.resize=="boolean"?this.resize.enable=e.resize:this.resize.load(e.resize)}}class vq{constructor(e,t){this._engine=e,this._container=t}load(e){if(e&&this._container){const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}}class jF{constructor(e,t){this.detectsOn="window",this.events=new yq,this.modes=new vq(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t;if(!e)return;const i=(t=e.detectsOn)!==null&&t!==void 0?t:e.detect_on;i!==void 0&&(this.detectsOn=i),this.events.load(e.events),this.modes.load(e.modes)}}class xq{load(e){var t,i;e&&(e.position!==void 0&&(this.position={x:(t=e.position.x)!==null&&t!==void 0?t:50,y:(i=e.position.y)!==null&&i!==void 0?i:50}),e.options!==void 0&&(this.options=li({},e.options)))}}class _q{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=li({},e.options)))}}class wq{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Aq{constructor(){this.name="",this.default=new wq}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=li({},e.options)))}}class A1{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ut(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ut(e.offset)),e.speed!==void 0&&(this.speed=Ut(e.speed)),e.decay!==void 0&&(this.decay=Ut(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Mq{constructor(){this.h=new A1,this.s=new A1,this.l=new A1}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class rd extends bs{constructor(){super(),this.animation=new Mq}static create(e,t){const i=new rd;return i.load(e),t!==void 0&&(typeof t=="string"||t instanceof Array?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class Sq{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class bq{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Cq{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class jd{constructor(){this.random=new Cq,this.value=0}load(e){e&&(typeof e.random=="boolean"?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ut(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class $P extends jd{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class JF{constructor(){this.horizontal=new $P,this.vertical=new $P}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Eq{constructor(){this.absorb=new Sq,this.bounce=new JF,this.enable=!1,this.mode="bounce",this.overlap=new bq}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Tq{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ut(e.offset)),e.value!==void 0&&(this.value=Ut(e.value)))}}class Pq{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,i,r,s;if(!e)return;e.distance!==void 0&&(this.distance=Ut(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const o=(i=(t=e.rotate)===null||t===void 0?void 0:t.x)!==null&&i!==void 0?i:e.rotateX;o!==void 0&&(this.rotate.x=o);const a=(s=(r=e.rotate)===null||r===void 0?void 0:r.y)!==null&&s!==void 0?s:e.rotateY;a!==void 0&&(this.rotate.y=a)}}class Bq{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Rq{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ut(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ut(e.maxSpeed)))}}class Iq{constructor(){this.clamp=!0,this.delay=new jd,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=li(this.options,e.options)))}}class Lq{load(e){e&&(e.color!==void 0&&(this.color=bs.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Dq{constructor(){this.enable=!1,this.length=10,this.fill=new Lq}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class Fq{constructor(){this.default="out"}load(e){var t,i,r,s;e&&(e.default!==void 0&&(this.default=e.default),this.bottom=(t=e.bottom)!==null&&t!==void 0?t:e.default,this.left=(i=e.left)!==null&&i!==void 0?i:e.default,this.right=(r=e.right)!==null&&r!==void 0?r:e.default,this.top=(s=e.top)!==null&&s!==void 0?s:e.default)}}class kq{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ut(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),this.position=e.position?li({},e.position):void 0)}}class Oq{constructor(){this.angle=new Tq,this.attract=new Pq,this.center=new Bq,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new Rq,this.path=new Iq,this.outModes=new Fq,this.random=!1,this.size=!1,this.speed=2,this.spin=new kq,this.straight=!1,this.trail=new Dq,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var t,i,r;if(!e)return;this.angle.load(typeof e.angle=="number"?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ut(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=typeof e.distance=="number"?{horizontal:e.distance,vertical:e.distance}:Object.assign({},e.distance)),e.drift!==void 0&&(this.drift=Ut(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=(i=(t=e.outModes)!==null&&t!==void 0?t:e.outMode)!==null&&i!==void 0?i:e.out_mode;s!==void 0&&(typeof s=="object"?this.outModes.load(s):this.outModes.load({default:s})),this.path.load((r=e.path)!==null&&r!==void 0?r:e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ut(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class XF{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ut(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ut(e.speed)),e.decay!==void 0&&(this.decay=Ut(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Nq extends XF{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var t;e&&(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(t=e.minimumValue)!==null&&t!==void 0?t:e.opacity_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class zq extends jd{constructor(){super(),this.animation=new Nq,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const i=(t=e.animation)!==null&&t!==void 0?t:e.anim;i!==void 0&&(this.animation.load(i),this.value=Ut(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Uq{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t,i,r;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const s=(i=(t=e.width)!==null&&t!==void 0?t:e.area)!==null&&i!==void 0?i:e.value_area;s!==void 0&&(this.width=s);const o=(r=e.height)!==null&&r!==void 0?r:e.factor;o!==void 0&&(this.height=o)}}class Gq{constructor(){this.density=new Uq,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(!e)return;this.density.load(e.density);const i=(t=e.limit)!==null&&t!==void 0?t:e.max;i!==void 0&&(this.limit=i),e.value!==void 0&&(this.value=e.value)}}class Hq{constructor(){this.blur=0,this.color=new bs,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=bs.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const M1="character",S1="char",b1="image",C1="images",E1="polygon",T1="star";class Vq{constructor(){this.options={},this.type="circle"}get character(){var e;return(e=this.options[M1])!==null&&e!==void 0?e:this.options[S1]}set character(e){this.options[S1]=this.options[M1]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return(e=this.options[b1])!==null&&e!==void 0?e:this.options[C1]}set image(e){this.options[C1]=this.options[b1]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return(e=this.options[E1])!==null&&e!==void 0?e:this.options[T1]}set polygon(e){this.options[T1]=this.options[E1]=e}get stroke(){return[]}set stroke(e){}load(e){var t,i,r;if(!e)return;const s=(t=e.options)!==null&&t!==void 0?t:e.custom;if(s!==void 0)for(const o in s){const a=s[o];a&&(this.options[o]=li((i=this.options[o])!==null&&i!==void 0?i:{},a))}this.loadShape(e.character,M1,S1,!0),this.loadShape(e.polygon,E1,T1,!1),this.loadShape((r=e.image)!==null&&r!==void 0?r:e.images,b1,C1,!0),e.type!==void 0&&(this.type=e.type)}loadShape(e,t,i,r){var s,o;if(!e)return;const a=e instanceof Array,l=a?[]:{},u=a!==this.options[t]instanceof Array,f=a!==this.options[i]instanceof Array;u&&(this.options[t]=l),f&&r&&(this.options[i]=l),this.options[t]=li((s=this.options[t])!==null&&s!==void 0?s:l,e),(!this.options[i]||r)&&(this.options[i]=li((o=this.options[i])!==null&&o!==void 0?o:l,e))}}class Wq extends XF{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var t;super.load(e),e&&(e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(t=e.minimumValue)!==null&&t!==void 0?t:e.size_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class jq extends jd{constructor(){super(),this.animation=new Wq,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(super.load(e),!e)return;const i=(t=e.animation)!==null&&t!==void 0?t:e.anim;i!==void 0&&(this.animation.load(i),this.value=Ut(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class e3{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=rd.create(this.color,e.color)),e.width!==void 0&&(this.width=Ut(e.width)),e.opacity!==void 0&&(this.opacity=Ut(e.opacity)))}}class Jq extends jd{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Xq{constructor(e,t){this._engine=e,this._container=t,this.bounce=new JF,this.collisions=new Eq,this.color=new rd,this.color.value="#fff",this.groups={},this.move=new Oq,this.number=new Gq,this.opacity=new zq,this.reduceDuplicates=!1,this.shadow=new Hq,this.shape=new Vq,this.size=new jq,this.stroke=new e3,this.zIndex=new Jq}load(e){var t,i,r,s,o,a;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(rd.create(this.color,e.color)),e.groups!==void 0)for(const f in e.groups){const d=e.groups[f];d!==void 0&&(this.groups[f]=li((t=this.groups[f])!==null&&t!==void 0?t:{},d))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const l=(r=(i=e.move)===null||i===void 0?void 0:i.collisions)!==null&&r!==void 0?r:(s=e.move)===null||s===void 0?void 0:s.bounce;l!==void 0&&(this.collisions.enable=l),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=li({},e.interactivity));const u=(o=e.stroke)!==null&&o!==void 0?o:(a=e.shape)===null||a===void 0?void 0:a.stroke;if(u&&(this.stroke=Fl(u,f=>{const d=new e3;return d.load(f),d})),this._container){const f=this._engine.plugins.updaters.get(this._container);if(f)for(const p of f)p.loadOptions&&p.loadOptions(this,e);const d=this._engine.plugins.interactors.get(this._container);if(d)for(const p of d)p.loadParticlesOptions&&p.loadParticlesOptions(this,e)}}}function YF(n,...e){for(const t of e)n.load(t)}function KF(n,e,...t){const i=new Xq(n,e);return YF(i,...t),i}class Yq{constructor(e,t){this._engine=e,this._container=t,this.autoPlay=!0,this.background=new uq,this.backgroundMask=new hq,this.defaultThemes={},this.delay=0,this.fullScreen=new fq,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new jF(e,t),this.manualParticles=[],this.particles=KF(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var t,i,r,s,o;if(!e)return;e.preset!==void 0&&Fl(e.preset,d=>this._importPreset(d)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ut(e.delay));const a=(t=e.detectRetina)!==null&&t!==void 0?t:e.retina_detect;a!==void 0&&(this.detectRetina=a),e.duration!==void 0&&(this.duration=Ut(e.duration));const l=(i=e.fpsLimit)!==null&&i!==void 0?i:e.fps_limit;l!==void 0&&(this.fpsLimit=l),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const u=(r=e.fullScreen)!==null&&r!==void 0?r:e.backgroundMode;typeof u=="boolean"?this.fullScreen.enable=u:this.fullScreen.load(u),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles!==void 0&&(this.manualParticles=e.manualParticles.map(d=>{const p=new xq;return p.load(d),p})),this.particles.load(e.particles),this.style=li(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const f=this._engine.plugins.interactors.get(this._container);if(f)for(const d of f)d.loadOptions&&d.loadOptions(this,e);if(e.responsive!==void 0)for(const d of e.responsive){const p=new _q;p.load(d),this.responsive.push(p)}if(this.responsive.sort((d,p)=>d.maxWidth-p.maxWidth),e.themes!==void 0)for(const d of e.themes){const p=this.themes.find(m=>m.name===d.name);if(p)p.load(d);else{const m=new Aq;m.load(d),this.themes.push(m)}}this.defaultThemes.dark=(s=this._findDefaultTheme("dark"))===null||s===void 0?void 0:s.name,this.defaultThemes.light=(o=this._findDefaultTheme("light"))===null||o===void 0?void 0:o.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=HF("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}_findDefaultTheme(e){var t;return(t=this.themes.find(i=>i.default.value&&i.default.mode===e))!==null&&t!==void 0?t:this.themes.find(i=>i.default.value&&i.default.mode==="any")}_importPreset(e){this.load(this._engine.plugins.getPreset(e))}}class Kq{constructor(e,t){this.container=t,this._engine=e,this._interactors=this._engine.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&await t.reset(e)}}const t3=n=>{DQ(n.outMode,n.checkModes)&&(n.coord>n.maxCoord-n.radius*2?n.setCb(-n.radius):n.coord<n.radius*2&&n.setCb(n.radius))};class Qq{constructor(e,t,i,r,s,o){this.container=i,this._engine=e,this.init(t,r,s,o)}destroy(e){var t;if(!(this.unbreakable||this.destroyed)){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;for(const[,i]of this.container.plugins)i.particleDestroyed&&i.particleDestroyed(this,e);for(const i of this.container.particles.updaters)i.particleDestroyed&&i.particleDestroyed(this,e);(t=this.pathGenerator)===null||t===void 0||t.reset(this)}}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor((e=this.bubble.color)!==null&&e!==void 0?e:YP(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return(e=this.bubble.radius)!==null&&e!==void 0?e:this.size.value}getStrokeColor(){var e;return this._getRollColor((e=this.bubble.color)!==null&&e!==void 0?e:YP(this.strokeColor))}init(e,t,i,r){var s,o,a,l,u,f,d,p,m;const g=this.container,v=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const x=g.retina.pixelRatio,w=g.actualOptions,_=KF(this._engine,g,w.particles),A=_.shape.type,{reduceDuplicates:S}=_;this.shape=df(A,this.id,S);const E=_.shape;if(i&&i.shape&&i.shape.type){const ne=i.shape.type,I=df(ne,this.id,S);I&&(this.shape=I,E.load(i.shape))}this.shapeData=this._loadShapeData(E,S),_.load(i),_.load((s=this.shapeData)===null||s===void 0?void 0:s.particles),this.interactivity=new jF(v,g),this.interactivity.load(g.actualOptions.interactivity),this.interactivity.load(_.interactivity),this.fill=(a=(o=this.shapeData)===null||o===void 0?void 0:o.fill)!==null&&a!==void 0?a:this.fill,this.close=(u=(l=this.shapeData)===null||l===void 0?void 0:l.close)!==null&&u!==void 0?u:this.close,this.options=_;const P=this.options.move.path;this.pathDelay=bQ(P.delay)*1e3,P.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(P.generator),this.pathGenerator&&g.addPath(P.generator,this.pathGenerator)&&this.pathGenerator.init(g));const R=qt(this.options.zIndex.value);g.retina.initParticle(this);const C=this.options.size,B=C.value,D=C.animation;if(this.size={enable:C.animation.enable,value:qt(C.value)*g.retina.pixelRatio,max:bS(B)*x,min:SS(B)*x,loops:0,maxLoops:qt(C.animation.count)},D.enable)switch(this.size.status="increasing",this.size.decay=1-qt(D.decay),D.startValue){case"min":this.size.value=this.size.min,this.size.status="increasing";break;case"random":this.size.value=nc(this.size),this.size.status=_a()>=.5?"increasing":"decreasing";break;case"max":default:this.size.value=this.size.max,this.size.status="decreasing";break}this.size.initialValue=this.size.value,this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this.position=this._calcPosition(g,t,UF(R,0,g.zLayers)),this.initialPosition=this.position.copy();const O=g.canvas.size,Y=Object.assign({},this.options.move.center),W=Y.mode==="percent";switch(this.moveCenter={x:Y.x*(W?O.width/100:1),y:Y.y*(W?O.height/100:1),radius:(f=this.options.move.center.radius)!==null&&f!==void 0?f:0,mode:(d=this.options.move.center.mode)!==null&&d!==void 0?d:"percent"},this.direction=EQ(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-qt(this.options.move.decay),this.offset=tc.origin;const j=g.particles;j.needsSort=j.needsSort||j.lastZIndex<this.position.z,j.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/g.zLayers,this.sides=24;let X=g.drawers.get(this.shape);X||(X=this._engine.plugins.getShapeDrawer(this.shape),X&&g.drawers.set(this.shape,X)),X!=null&&X.loadShape&&(X==null||X.loadShape(this));const ee=X==null?void 0:X.getSidesCount;ee&&(this.sides=ee(this)),this.spawning=!1,this.shadowColor=ic(this.options.shadow.color);for(const ne of g.particles.updaters)ne.init(this);for(const ne of g.particles.movers)(p=ne.init)===null||p===void 0||p.call(ne,this);X!=null&&X.particleInit&&X.particleInit(g,this);for(const[,ne]of g.plugins)(m=ne.particleCreated)===null||m===void 0||m.call(ne,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=t.height+e&&this.position.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)(e=t.reset)===null||e===void 0||e.call(t,this)}_calcPosition(e,t,i,r=0){var s,o,a,l;for(const[,x]of e.plugins){const w=x.particlePosition!==void 0?x.particlePosition(t,this):void 0;if(w!==void 0)return Wi.create(w.x,w.y,i)}const u=e.canvas.size,f=BQ({size:u,position:t}),d=Wi.create(f.x,f.y,i),p=this.getRadius(),m=this.options.move.outModes,g=x=>{t3({outMode:x,checkModes:["bounce","bounce-horizontal"],coord:d.x,maxCoord:e.canvas.size.width,setCb:w=>d.x+=w,radius:p})},v=x=>{t3({outMode:x,checkModes:["bounce","bounce-vertical"],coord:d.y,maxCoord:e.canvas.size.height,setCb:w=>d.y+=w,radius:p})};return g((s=m.left)!==null&&s!==void 0?s:m.default),g((o=m.right)!==null&&o!==void 0?o:m.default),v((a=m.top)!==null&&a!==void 0?a:m.default),v((l=m.bottom)!==null&&l!==void 0?l:m.default),this._checkOverlap(d,r)?this._calcPosition(e,void 0,i,r+1):d}_calculateVelocity(){const e=TQ(this.direction),t=e.copy(),i=this.options.move;if(i.direction==="inside"||i.direction==="outside")return t;const r=Math.PI/180*qt(i.angle.value),s=Math.PI/180*qt(i.angle.offset),o={left:s-r/2,right:s+r/2};return i.straight||(t.angle+=nc(Ut(o.left,o.right))),i.random&&typeof i.speed=="number"&&(t.length*=_a()),t}_checkOverlap(e,t=0){const i=this.options.collisions,r=this.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const o=s.retries;if(o>=0&&t>o)throw new Error("Particle is overlapping and can't be placed");let a=!1;for(const l of this.container.particles.array)if(CS(e,l.position)<r+l.getRadius()){a=!0;break}return a}_getRollColor(e){var t;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const i=this.roll.horizontal&&this.roll.vertical?2:1,r=this.roll.horizontal?Math.PI/2:0;return Math.floor((((t=this.roll.angle)!==null&&t!==void 0?t:0)+r)/(Math.PI/i))%2?this.backColor?this.backColor:this.roll.alter?KQ(e,this.roll.alter.type,this.roll.alter.value):e:e}_loadShapeData(e,t){const i=e.options[this.shape];if(i)return li({},df(i,this.id,t))}}class qq{constructor(e,t){this.position=e,this.particle=t}}class QF{constructor(e,t){this.position={x:e,y:t}}}class qF extends QF{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return CS(e,this.position)<=this.radius}intersects(e){const t=e,i=e,r=this.position,s=e.position,o={x:Math.abs(s.x-r.x),y:Math.abs(s.y-r.y)},a=this.radius;if(i.radius!==void 0){const l=a+i.radius,u=Math.sqrt(o.x**2+o.y**2);return l>u}else if(t.size!==void 0){const l=t.size.width,u=t.size.height;return Math.pow(o.x-l,2)+Math.pow(o.y-u,2)<=a**2||o.x<=a+l&&o.y<=a+u||o.x<=l||o.y<=u}return!1}}class Qs extends QF{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof qF&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Qs?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class gl{constructor(e,t){this.rectangle=e,this.capacity=t,this._points=[],this._divided=!1}insert(e){var t,i,r,s,o;return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this.subdivide(),(o=((t=this._NE)===null||t===void 0?void 0:t.insert(e))||((i=this._NW)===null||i===void 0?void 0:i.insert(e))||((r=this._SE)===null||r===void 0?void 0:r.insert(e))||((s=this._SW)===null||s===void 0?void 0:s.insert(e)))!==null&&o!==void 0?o:!1):!1}query(e,t,i){var r,s,o,a;const l=i??[];if(!e.intersects(this.rectangle))return[];for(const u of this._points)!e.contains(u.position)&&CS(e.position,u.position)>u.particle.getRadius()&&(!t||t(u.particle))||l.push(u.particle);return this._divided&&((r=this._NE)===null||r===void 0||r.query(e,t,l),(s=this._NW)===null||s===void 0||s.query(e,t,l),(o=this._SE)===null||o===void 0||o.query(e,t,l),(a=this._SW)===null||a===void 0||a.query(e,t,l)),l}queryCircle(e,t,i){return this.query(new qF(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Qs(e.x,e.y,t.width,t.height),i)}subdivide(){const e=this.rectangle.position.x,t=this.rectangle.position.y,i=this.rectangle.size.width,r=this.rectangle.size.height,s=this.capacity;this._NE=new gl(new Qs(e,t,i/2,r/2),s),this._NW=new gl(new Qs(e+i/2,t,i/2,r/2),s),this._SE=new gl(new Qs(e,t+r/2,i/2,r/2),s),this._SW=new gl(new Qs(e+i/2,t+r/2,i/2,r/2),s),this._divided=!0}}let Zq=class{constructor(e,t){this.container=t,this._engine=e,this.nextId=0,this.array=[],this.zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.interactionManager=new Kq(this._engine,t);const i=this.container.canvas.size;this.quadTree=new gl(new Qs(-i.width/4,-i.height/4,i.width*3/2,i.height*3/2),4),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(PQ({size:e.canvas.size,position:i.position}),i.options)}addParticle(e,t,i,r){const s=this.container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this.container,i=this.container.canvas.size;this.quadTree=new gl(new Qs(-i.width/4,-i.height/4,i.width*3/2,i.height*3/2),4),t.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((r,s)=>s.position.z-r.position.z||r.id-s.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,r]of t.plugins)t.canvas.drawPlugin(r,e);for(const r of this.zArray)r.draw(e)}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const t=this.container,i=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let r=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this.interactionManager.init();for(const[,s]of t.plugins)if(s.particlesInitialization!==void 0&&(r=s.particlesInitialization()),r)break;this.interactionManager.init();for(const[,s]of t.pathGenerators)s.init(t);if(this.addManualParticles(),!r){for(const s in i.particles.groups){const o=i.particles.groups[s];for(let a=this.count,l=0;l<((e=o.number)===null||e===void 0?void 0:e.value)&&a<i.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<i.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this.array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++){const a=this.array[o];if(!a||a.group!==i)continue;a.destroy(r),this.array.splice(o--,1);const l=this.zArray.indexOf(a);this.zArray.splice(l,1),this.pool.push(a),s++,this._engine.dispatchEvent("particleRemoved",{container:this.container,data:{particle:a}})}}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this.container.actualOptions;for(const t in e.particles.groups)this._applyDensity(e.particles.groups[t],0,t);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){var t,i;const r=this.container,s=[];for(const[,o]of r.pathGenerators)o.update();for(const[,o]of r.plugins)(t=o.update)===null||t===void 0||t.call(o,e);for(const o of this.array){const a=r.canvas.resizeFactor;a&&!o.ignoresResizeRatio&&(o.position.x*=a.width,o.position.y*=a.height,o.initialPosition.x*=a.width,o.initialPosition.y*=a.height),o.ignoresResizeRatio=!1,await this.interactionManager.reset(o);for(const[,l]of this.container.plugins){if(o.destroyed)break;(i=l.particleUpdate)===null||i===void 0||i.call(l,o,e)}for(const l of this.movers)l.isEnabled(o)&&l.move(o,e);if(o.destroyed){s.push(o);continue}this.quadTree.insert(new qq(o.getPosition(),o))}for(const o of s)this.remove(o);await this.interactionManager.externalInteract(e);for(const o of this.array){for(const a of this.updaters)a.update(o,e);!o.destroyed&&!o.spawning&&await this.interactionManager.particlesInteract(o,e)}delete r.canvas.resizeFactor}_applyDensity(e,t,i){var r;if(!(!((r=e.number.density)===null||r===void 0)&&r.enable))return;const s=e.number,o=this._initDensityFactor(s.density),a=s.value,l=s.limit>0?s.limit:a,u=Math.min(a,l)*o+t,f=Math.min(this.count,this.array.filter(d=>d.group===i).length);this.limit=s.limit*o,f<u?this.push(Math.abs(u-f),void 0,e,i):f>u&&this.removeQuantity(f-u,i)}_initDensityFactor(e){const t=this.container;if(!t.canvas.element||!e.enable)return 1;const i=t.canvas.element,r=t.retina.pixelRatio;return i.width*i.height/(e.factor*r**2*e.area)}_pushParticle(e,t,i,r){try{let s=this.pool.pop();s?s.init(this.nextId,e,t,i):s=new Qq(this._engine,this.nextId,this.container,e,t,i);let o=!0;return r&&(o=r(s)),o?(this.array.push(s),this.zArray.push(s),this.nextId++,this._engine.dispatchEvent("particleAdded",{container:this.container,data:{particle:s}}),s):void 0}catch(s){console.warn(`error adding particle: ${s}`);return}}};class $q{constructor(e){this.container=e}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Wd()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const s=e.canvas.element;e.canvas.size.width=s.offsetWidth*i,e.canvas.size.height=s.offsetHeight*i}const r=t.particles;this.attractDistance=qt(r.move.attract.distance)*i,this.sizeAnimationSpeed=qt(r.size.animation.speed)*i,this.maxSpeed=qt(r.move.gravity.maxSpeed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move.distance,s=e.retina;s.attractDistance=qt(t.move.attract.distance)*i,s.moveDrift=qt(t.move.drift)*i,s.moveSpeed=qt(t.move.speed)*i,s.sizeAnimationSpeed=qt(t.size.animation.speed)*i;const o=s.maxDistance;o.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,o.vertical=r.vertical!==void 0?r.vertical*i:void 0,s.maxSpeed=qt(t.move.gravity.maxSpeed)*i}}function an(n){return n&&!n.destroyed}function Fh(n,e,...t){const i=new Yq(n,e);return YF(i,...t),i}const eZ="default",n3={generate:n=>{const e=n.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{},reset:()=>{}};class tZ{constructor(e,t,i){this.id=t,this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this.duration=0,this.lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new $q(this),this.canvas=new sq(this),this.particles=new Zq(this._engine,this),this.frameManager=new lq(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Fh(this._engine,this),this.actualOptions=Fh(this._engine,this),this._eventListeners=new oq(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!an(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,p,m)=>{if(!an(this))return;const g=this.retina.pixelRatio,v={x:p.x*g,y:p.y*g},x=this.particles.quadTree.queryCircle(v,m*g);e(d,x)},r=d=>{if(!an(this))return;const p=d,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(d,m,1)},s=()=>{an(this)&&(u=!0,f=!1)},o=()=>{an(this)&&(f=!0)},a=d=>{if(an(this)){if(u&&!f){const p=d;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const g=this.canvas.element,v=g?g.getBoundingClientRect():void 0,x={x:m.clientX-(v?v.left:0),y:m.clientY-(v?v.top:0)};i(d,x,Math.max(m.radiusX,m.radiusY))}u=!1,f=!1}},l=()=>{an(this)&&(u=!1,f=!1)};let u=!1,f=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addPath(e,t,i=!1){return!an(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??n3),!0)}destroy(){if(!an(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!an(this))return;let t=e;this._drawAnimationFrame=IQ()(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this.frameManager.nextFrame(i)})}exportConfiguration(){return JSON.stringify(this.actualOptions,(e,t)=>{if(!(e==="_engine"||e==="_container"))return t},2)}exportImage(e,t,i){const r=this.canvas.element;r&&r.toBlob(e,t??"image/png",i)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&an(this)}handleClickMode(e){if(an(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!an(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Fh(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Fh(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=qt(this.actualOptions.duration)*1e3,this._delay=qt(this.actualOptions.delay)*1e3,this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){an(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(an(this)&&(this._drawAnimationFrame!==void 0&&(LQ()(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!an(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(an(this))return this.stop(),this.start()}async reset(){if(an(this))return this._options=Fh(this._engine,this),this.refresh()}setNoise(e,t,i){an(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!an(this))return;const r=Object.assign({},n3);if(typeof e=="function")r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(eZ,r,!0)}async start(){!an(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!an(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}_intersectionManager(e){if(!(!an(this)||!this.actualOptions.pauseOnOutsideViewport))for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play:this.pause)()}}async function nZ(n,e){const t=df(n,e);if(!t)return;const i=await fetch(t);if(i.ok)return i.json();console.error(`tsParticles - Error ${i.status} while retrieving config file`)}class iZ{constructor(e){this._engine=e}load(e,t,i){const r={index:i,remote:!1};return typeof e=="string"?r.tagId=e:r.options=e,typeof t=="number"?r.index=t:r.options=t??r.options,this.loadOptions(r)}async loadJSON(e,t,i){let r,s;return typeof t=="number"||t===void 0?r=e:(s=e,r=t),this.loadRemoteOptions({tagId:s,url:r,index:i,remote:!0})}async loadOptions(e){var t,i,r;const s=(t=e.tagId)!==null&&t!==void 0?t:`tsparticles${Math.floor(_a()*1e4)}`,{index:o,url:a,remote:l}=e,u=l?await nZ(a,o):e.options;let f=(i=e.element)!==null&&i!==void 0?i:document.getElementById(s);f||(f=document.createElement("div"),f.id=s,(r=document.querySelector("body"))===null||r===void 0||r.append(f));const d=df(u,o),p=this._engine.dom(),m=p.findIndex(x=>x.id===s);if(m>=0){const x=this._engine.domItem(m);x&&!x.destroyed&&(x.destroy(),p.splice(m,1))}let g;if(f.tagName.toLowerCase()==="canvas")g=f,g.dataset[pf]="false";else{const x=f.getElementsByTagName("canvas");x.length?(g=x[0],g.dataset[pf]="false"):(g=document.createElement("canvas"),g.dataset[pf]="true",f.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new tZ(this._engine,s,d);return m>=0?p.splice(m,0,v):p.push(v),v.canvas.loadCanvas(g),await v.start(),v}async loadRemoteOptions(e){return this.loadOptions(e)}async set(e,t,i,r){const s={index:r,remote:!1};return typeof e=="string"?s.tagId=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,typeof i=="number"?s.index=i:s.options=i??s.options,this.loadOptions(s)}async setJSON(e,t,i,r){let s,o,a,l;return e instanceof HTMLElement?(l=e,s=t,a=i):(o=e,l=t,s=i,a=r),this.loadRemoteOptions({tagId:o,url:s,index:a,element:l,remote:!0})}}function P1(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class rZ{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){this.getPathGenerator(e)||this.pathGenerators.set(e,t)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Fl(e,i=>{this.getShapeDrawer(i)||this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return P1(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return P1(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return P1(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}class sZ{constructor(){this._domArray=[],this._eventDispatcher=new MQ,this._initialized=!1,this._loader=new iZ(this),this.plugins=new rZ(this)}get version(){return"2.9.3"}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t){this.plugins.addInteractor(e,t),await this.refresh()}async addMover(e,t){this.plugins.addParticleMover(e,t),await this.refresh()}async addParticleUpdater(e,t){this.plugins.addParticleUpdater(e,t),await this.refresh()}async addPathGenerator(e,t){this.plugins.addPathGenerator(e,t),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPreset(e,t,i=!1){this.plugins.addPreset(e,t,i),await this.refresh()}async addShape(e,t,i,r,s){let o;typeof t=="function"?o={afterEffect:r,destroy:s,draw:t,init:i}:o=t,this.plugins.addShapeDrawer(e,o),await this.refresh()}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(i&&!i.destroyed)return i;t.splice(e,1)}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this._loader.load(e,t)}async loadFromArray(e,t,i){return this._loader.load(e,t,i)}async loadJSON(e,t,i){return this._loader.loadJSON(e,t,i)}async refresh(){for(const e of this.dom())await e.refresh()}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i){return this._loader.set(e,t,i)}async setJSON(e,t,i,r){return this._loader.setJSON(e,t,i,r)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const i of t)i.addClickHandler(e)}}class oZ{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const i=e.value,r=(t=i.hsl)!==null&&t!==void 0?t:e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return Xw(r)}handleRangeColor(e){var t;const i=e.value,r=(t=i.hsl)!==null&&t!==void 0?t:e.value;if(r.h!==void 0&&r.l!==void 0)return Xw({h:qt(r.h),l:qt(r.l),s:qt(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?UQ({a:i.length>4?GF(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class aZ{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const i=e.value,r=(t=i.rgb)!==null&&t!==void 0?t:e.value;if(r.r!==void 0)return r}handleRangeColor(e){var t;const i=e.value,r=(t=i.rgb)!==null&&t!==void 0?t:e.value;if(r.r!==void 0)return{r:qt(r.r),g:qt(r.g),b:qt(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?GF(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}const lZ=new aZ,uZ=new oZ;VF(lZ);VF(uZ);const Ig=new sZ;Ig.init();var cZ=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t};const ZF="tsparticles";class TS extends H.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return!cZ(e,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Ig),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return ac.createElement("div",{className:i,id:s},ac.createElement("canvas",{className:r,style:Object.assign(Object.assign({},this.props.style),{width:e,height:t})}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var e,t,i;if(!this.state.init)return;const r=async a=>{this.props.container&&(this.props.container.current=a),this.setState({library:a}),this.props.loaded&&await this.props.loaded(a)},s=(t=(e=this.props.id)!==null&&e!==void 0?e:TS.defaultProps.id)!==null&&t!==void 0?t:ZF,o=this.props.url?await Ig.loadJSON(s,this.props.url):await Ig.load(s,(i=this.props.params)!==null&&i!==void 0?i:this.props.options);await r(o)}}TS.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:ZF};const hZ=()=>me("div",{className:"w-full justify-end flex items-center md:flex-row flex-col pt-6  sm:py-6 py-6 bg-[rgba(255,255,255,0.35)]",children:me("div",{className:"social-icon flex flex-row md:mt-0 mt-6 gap-6 float-right",children:OF.map((n,e)=>me("a",{className:`w-10 h-10  flex items-center justify-center rounded-full mr-2 border bg-[#797979]\r
                    border-white border-[2px] relative overflow-hidden hover:bg-white hover:border-[#797979] group cursor-pointer`,href:n.link,target:"_blank",children:me("img",{className:`w-5 h-5 filter grayscale brightness-95 invert-0 sepia-7 saturate-100 hue-rotate-346 contrast-100 \r
                    group-hover:grayscale\r
                    group-hover:brightness-0 \r
                    group-hover:invert-100\r
                    group-hover:hue-rotate-346 \r
                    group-hover:saturate-98 \r
                    group-hover:contrast-86 \r
                    group-hover:sepia-7\r
                    transition ease-in-out duration-300`,src:n.icon,alt:n.id},n.id)}))})}),fZ=()=>ht("div",{className:"bg-circles",children:[me("div",{className:"circle-1"}),me("div",{className:"circle-2"}),me("div",{className:"circle-3"}),me("div",{className:"circle-4"})]});var PS=Xd(),Ht=n=>Jd(n,PS),BS=Xd();Ht.write=n=>Jd(n,BS);var by=Xd();Ht.onStart=n=>Jd(n,by);var RS=Xd();Ht.onFrame=n=>Jd(n,RS);var IS=Xd();Ht.onFinish=n=>Jd(n,IS);var rc=[];Ht.setTimeout=(n,e)=>{let t=Ht.now()+e,i=()=>{let s=rc.findIndex(o=>o.cancel==i);~s&&rc.splice(s,1),Ko-=~s?1:0},r={time:t,handler:n,cancel:i};return rc.splice($F(t),0,r),Ko+=1,ek(),r};var $F=n=>~(~rc.findIndex(e=>e.time>n)||~rc.length);Ht.cancel=n=>{by.delete(n),RS.delete(n),IS.delete(n),PS.delete(n),BS.delete(n)};Ht.sync=n=>{Yw=!0,Ht.batchedUpdates(n),Yw=!1};Ht.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,Ht.onStart(t)}return i.handler=n,i.cancel=()=>{by.delete(t),e=null},i};var LS=typeof window<"u"?window.requestAnimationFrame:()=>{};Ht.use=n=>LS=n;Ht.now=typeof performance<"u"?()=>performance.now():Date.now;Ht.batchedUpdates=n=>n();Ht.catch=console.error;Ht.frameLoop="always";Ht.advance=()=>{Ht.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nk()};var Yo=-1,Ko=0,Yw=!1;function Jd(n,e){Yw?(e.delete(n),n(0)):(e.add(n),ek())}function ek(){Yo<0&&(Yo=0,Ht.frameLoop!=="demand"&&LS(tk))}function dZ(){Yo=-1}function tk(){~Yo&&(LS(tk),Ht.batchedUpdates(nk))}function nk(){let n=Yo;Yo=Ht.now();let e=$F(Yo);if(e&&(ik(rc.splice(0,e),t=>t.handler()),Ko-=e),!Ko){dZ();return}by.flush(),PS.flush(n?Math.min(64,Yo-n):16.667),RS.flush(),BS.flush(),IS.flush()}function Xd(){let n=new Set,e=n;return{add(t){Ko+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Ko-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Ko-=e.size,ik(e,i=>i(t)&&n.add(i)),Ko+=n.size,e=n)}}}function ik(n,e){n.forEach(t=>{try{e(t)}catch(i){Ht.catch(i)}})}var pZ=Object.defineProperty,mZ=(n,e)=>{for(var t in e)pZ(n,t,{get:e[t],enumerable:!0})},gZ={};mZ(gZ,{assign:()=>vZ,colors:()=>ok,createStringInterpolator:()=>rk,skipAnimation:()=>ak,to:()=>sk,willAdvance:()=>lk});function yZ(){}var rk,sk,ok=null,ak=!1,lk=yZ,vZ=n=>{n.to&&(sk=n.to),n.now&&(Ht.now=n.now),n.colors!==void 0&&(ok=n.colors),n.skipAnimation!=null&&(ak=n.skipAnimation),n.createStringInterpolator&&(rk=n.createStringInterpolator),n.requestAnimationFrame&&Ht.use(n.requestAnimationFrame),n.batchedUpdates&&(Ht.batchedUpdates=n.batchedUpdates),n.willAdvance&&(lk=n.willAdvance),n.frameLoop&&(Ht.frameLoop=n.frameLoop)},jr="[-+]?\\d*\\.?\\d+",C0=jr+"%";function Cy(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}new RegExp("rgb"+Cy(jr,jr,jr));new RegExp("rgba"+Cy(jr,jr,jr,jr));new RegExp("hsl"+Cy(jr,C0,C0));new RegExp("hsla"+Cy(jr,C0,C0,jr));var xZ="react-spring: ",uk=n=>{let e=n,t=!1;if(typeof e!="function")throw new TypeError(`${xZ}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}};uk(console.warn);uk(console.warn);function Kw(n,e){let[t]=H.useState(()=>({inputs:e,result:n()})),i=H.useRef(),r=i.current,s=r;return s?Boolean(e&&s.inputs&&_Z(e,s.inputs))||(s={inputs:e,result:n()}):s=t,H.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function _Z(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var Qw=n=>H.useEffect(n,wZ),wZ=[],DS=Kd(),ct=n=>Yd(n,DS),FS=Kd();ct.write=n=>Yd(n,FS);var Ey=Kd();ct.onStart=n=>Yd(n,Ey);var kS=Kd();ct.onFrame=n=>Yd(n,kS);var OS=Kd();ct.onFinish=n=>Yd(n,OS);var sc=[];ct.setTimeout=(n,e)=>{let t=ct.now()+e,i=()=>{let s=sc.findIndex(o=>o.cancel==i);~s&&sc.splice(s,1),qo-=~s?1:0},r={time:t,handler:n,cancel:i};return sc.splice(ck(t),0,r),qo+=1,hk(),r};var ck=n=>~(~sc.findIndex(e=>e.time>n)||~sc.length);ct.cancel=n=>{Ey.delete(n),kS.delete(n),OS.delete(n),DS.delete(n),FS.delete(n)};ct.sync=n=>{qw=!0,ct.batchedUpdates(n),qw=!1};ct.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,ct.onStart(t)}return i.handler=n,i.cancel=()=>{Ey.delete(t),e=null},i};var NS=typeof window<"u"?window.requestAnimationFrame:()=>{};ct.use=n=>NS=n;ct.now=typeof performance<"u"?()=>performance.now():Date.now;ct.batchedUpdates=n=>n();ct.catch=console.error;ct.frameLoop="always";ct.advance=()=>{ct.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):dk()};var Qo=-1,qo=0,qw=!1;function Yd(n,e){qw?(e.delete(n),n(0)):(e.add(n),hk())}function hk(){Qo<0&&(Qo=0,ct.frameLoop!=="demand"&&NS(fk))}function AZ(){Qo=-1}function fk(){~Qo&&(NS(fk),ct.batchedUpdates(dk))}function dk(){let n=Qo;Qo=ct.now();let e=ck(Qo);if(e&&(pk(sc.splice(0,e),t=>t.handler()),qo-=e),!qo){AZ();return}Ey.flush(),DS.flush(n?Math.min(64,Qo-n):16.667),kS.flush(),FS.flush(),OS.flush()}function Kd(){let n=new Set,e=n;return{add(t){qo+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return qo-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,qo-=e.size,pk(e,i=>i(t)&&n.add(i)),qo+=n.size,e=n)}}}function pk(n,e){n.forEach(t=>{try{e(t)}catch(i){ct.catch(i)}})}var MZ=Object.defineProperty,SZ=(n,e)=>{for(var t in e)MZ(n,t,{get:e[t],enumerable:!0})},es={};SZ(es,{assign:()=>CZ,colors:()=>ca,createStringInterpolator:()=>US,skipAnimation:()=>gk,to:()=>mk,willAdvance:()=>GS});function Zw(){}var bZ=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Le={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Js(n,e){if(Le.arr(n)){if(!Le.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var fn=(n,e)=>n.forEach(e);function po(n,e,t){if(Le.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(let i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Cr=n=>Le.und(n)?[]:Le.arr(n)?n:[n];function mf(n,e){if(n.size){let t=Array.from(n);n.clear(),fn(t,e)}}var jh=(n,...e)=>mf(n,t=>t(...e)),zS=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),US,mk,ca=null,gk=!1,GS=Zw,CZ=n=>{n.to&&(mk=n.to),n.now&&(ct.now=n.now),n.colors!==void 0&&(ca=n.colors),n.skipAnimation!=null&&(gk=n.skipAnimation),n.createStringInterpolator&&(US=n.createStringInterpolator),n.requestAnimationFrame&&ct.use(n.requestAnimationFrame),n.batchedUpdates&&(ct.batchedUpdates=n.batchedUpdates),n.willAdvance&&(GS=n.willAdvance),n.frameLoop&&(ct.frameLoop=n.frameLoop)},gf=new Set,Sr=[],B1=[],E0=0,Ty={get idle(){return!gf.size&&!Sr.length},start(n){E0>n.priority?(gf.add(n),ct.onStart(EZ)):(yk(n),ct($w))},advance:$w,sort(n){if(E0)ct.onFrame(()=>Ty.sort(n));else{let e=Sr.indexOf(n);~e&&(Sr.splice(e,1),vk(n))}},clear(){Sr=[],gf.clear()}};function EZ(){gf.forEach(yk),gf.clear(),ct($w)}function yk(n){Sr.includes(n)||vk(n)}function vk(n){Sr.splice(TZ(Sr,e=>e.priority>n.priority),0,n)}function $w(n){let e=B1;for(let t=0;t<Sr.length;t++){let i=Sr[t];E0=i.priority,i.idle||(GS(i),i.advance(n),i.idle||e.push(i))}return E0=0,B1=Sr,B1.length=0,Sr=e,Sr.length>0}function TZ(n,e){let t=n.findIndex(e);return t<0?n.length:t}var PZ=(n,e,t)=>Math.min(Math.max(t,n),e),BZ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Jr="[-+]?\\d*\\.?\\d+",T0=Jr+"%";function Py(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var RZ=new RegExp("rgb"+Py(Jr,Jr,Jr)),IZ=new RegExp("rgba"+Py(Jr,Jr,Jr,Jr)),LZ=new RegExp("hsl"+Py(Jr,T0,T0)),DZ=new RegExp("hsla"+Py(Jr,T0,T0,Jr)),FZ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,kZ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,OZ=/^#([0-9a-fA-F]{6})$/,NZ=/^#([0-9a-fA-F]{8})$/;function zZ(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=OZ.exec(n))?parseInt(e[1]+"ff",16)>>>0:ca&&ca[n]!==void 0?ca[n]:(e=RZ.exec(n))?(bu(e[1])<<24|bu(e[2])<<16|bu(e[3])<<8|255)>>>0:(e=IZ.exec(n))?(bu(e[1])<<24|bu(e[2])<<16|bu(e[3])<<8|s3(e[4]))>>>0:(e=FZ.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=NZ.exec(n))?parseInt(e[1],16)>>>0:(e=kZ.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=LZ.exec(n))?(i3(r3(e[1]),sg(e[2]),sg(e[3]))|255)>>>0:(e=DZ.exec(n))?(i3(r3(e[1]),sg(e[2]),sg(e[3]))|s3(e[4]))>>>0:null}function R1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function i3(n,e,t){let i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,s=R1(r,i,n+1/3),o=R1(r,i,n),a=R1(r,i,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function bu(n){let e=parseInt(n,10);return e<0?0:e>255?255:e}function r3(n){return(parseFloat(n)%360+360)%360/360}function s3(n){let e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function sg(n){let e=parseFloat(n);return e<0?0:e>100?1:e/100}function o3(n){let e=zZ(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${s})`}var sd=(n,e,t)=>{if(Le.fun(n))return n;if(Le.arr(n))return sd({range:n,output:e,extrapolate:t});if(Le.str(n.output[0]))return US(n);let i=n,r=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(u=>u);return u=>{let f=GZ(u,s);return UZ(u,s[f],s[f+1],r[f],r[f+1],l,o,a,i.map)}};function UZ(n,e,t,i,r,s,o,a,l){let u=l?l(n):n;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>t){if(a==="identity")return u;a==="clamp"&&(u=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?u=-u:t===1/0?u=u-e:u=(u-e)/(t-e),u=s(u),i===-1/0?u=-u:r===1/0?u=u+i:u=u*(r-i)+i,u)}function GZ(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var HZ=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);let i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return PZ(0,1,r/n)},P0=1.70158,og=P0*1.525,a3=P0+1,l3=2*Math.PI/3,u3=2*Math.PI/4.5,ag=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,VZ={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>a3*n*n*n-P0*n*n,easeOutBack:n=>1+a3*Math.pow(n-1,3)+P0*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((og+1)*2*n-og)/2:(Math.pow(2*n-2,2)*((og+1)*(n*2-2)+og)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*l3),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*l3)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*u3))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*u3)/2+1,easeInBounce:n=>1-ag(1-n),easeOutBounce:ag,easeInOutBounce:n=>n<.5?(1-ag(1-2*n))/2:(1+ag(2*n-1))/2,steps:HZ},Tc=Symbol.for("FluidValue.get"),kl=Symbol.for("FluidValue.observers"),Ar=n=>Boolean(n&&n[Tc]),Pi=n=>n&&n[Tc]?n[Tc]():n,c3=n=>n[kl]||null;function WZ(n,e){n.eventObserved?n.eventObserved(e):n(e)}function od(n,e){let t=n[kl];t&&t.forEach(i=>{WZ(i,e)})}var U$,G$,C3,xk=(C3=class{constructor(n){He(this,U$);He(this,G$);if(!n&&!(n=this.get))throw Error("Unknown getter");jZ(this,n)}},U$=Tc,G$=kl,C3),jZ=(n,e)=>_k(n,Tc,e);function Qd(n,e){if(n[Tc]){let t=n[kl];t||_k(n,kl,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function ad(n,e){let t=n[kl];if(t&&t.has(e)){let i=t.size-1;i?t.delete(e):n[kl]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var _k=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Lg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,JZ=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,h3=new RegExp(`(${Lg.source})(%|[a-z]+)`,"i"),XZ=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,By=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wk=n=>{let[e,t]=YZ(n);if(!e||zS())return n;let i=window.getComputedStyle(document.documentElement).getPropertyValue(e);return i?i.trim():t&&t.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(t)||n:t&&By.test(t)?wk(t):t||n},YZ=n=>{let e=By.exec(n);if(!e)return[,];let[,t,i]=e;return[t,i]},I1,KZ=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,Ak=n=>{I1||(I1=ca?new RegExp(`(${Object.keys(ca).join("|")})(?!\\w)`,"g"):/^\b$/);let e=n.output.map(r=>Pi(r).replace(By,wk).replace(JZ,o3).replace(I1,o3)),t=e.map(r=>r.match(Lg).map(Number)),i=t[0].map((r,s)=>t.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(r=>sd({...n,output:r}));return r=>{var a;let s=!h3.test(e[0])&&((a=e.find(l=>h3.test(l)))==null?void 0:a.replace(Lg,"")),o=0;return e[0].replace(Lg,()=>`${i[o++](r)}${s||""}`).replace(XZ,KZ)}},Mk="react-spring: ",Sk=n=>{let e=n,t=!1;if(typeof e!="function")throw new TypeError(`${Mk}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},QZ=Sk(console.warn);function qZ(){QZ(`${Mk}The "interpolate" function is deprecated in v9 (use "to" instead)`)}Sk(console.warn);function Ry(n){return Le.str(n)&&(n[0]=="#"||/\d/.test(n)||!zS()&&By.test(n)||n in(ca||{}))}var bk=zS()?H.useEffect:H.useLayoutEffect,ZZ=()=>{let n=H.useRef(!1);return bk(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function $Z(){let n=H.useState()[1],e=ZZ();return()=>{e.current&&n(Math.random())}}function e$(n,e){let[t]=H.useState(()=>({inputs:e,result:n()})),i=H.useRef(),r=i.current,s=r;return s?Boolean(e&&s.inputs&&t$(e,s.inputs))||(s={inputs:e,result:n()}):s=t,H.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function t$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var n$=n=>H.useEffect(n,i$),i$=[],ld=Symbol.for("Animated:node"),r$=n=>!!n&&n[ld]===n,ms=n=>n&&n[ld],HS=(n,e)=>bZ(n,ld,e),Iy=n=>n&&n[ld]&&n[ld].getPayload(),Ck=class{constructor(){He(this,"payload");HS(this,this)}getPayload(){return this.payload||[]}},qd=class extends Ck{constructor(e){super();He(this,"done",!0);He(this,"elapsedTime");He(this,"lastPosition");He(this,"lastVelocity");He(this,"v0");He(this,"durationProgress",0);this._value=e,Le.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new qd(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Le.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,Le.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},ud=class extends qd{constructor(e){super(0);He(this,"_string",null);He(this,"_toString");this._toString=sd({output:[e,e]})}static create(e){return new ud(e)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(e){if(Le.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=sd({output:[this.getValue(),e]})),this._value=0,super.reset()}},B0={dependencies:null},Ly=class extends Ck{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){let e={};return po(this.source,(t,i)=>{r$(t)?e[i]=t.getValue(n):Ar(t)?e[i]=Pi(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&fn(this.payload,n=>n.reset())}_makePayload(n){if(n){let e=new Set;return po(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){B0.dependencies&&Ar(n)&&B0.dependencies.add(n);let e=Iy(n);e&&fn(e,t=>this.add(t))}},Ek=class extends Ly{constructor(e){super(e)}static create(e){return new Ek(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(s$)),!0)}};function s$(n){return(Ry(n)?ud:qd).create(n)}function eA(n){let e=ms(n);return e?e.constructor:Le.arr(n)?Ek:Ry(n)?ud:qd}var f3=(n,e)=>{let t=!Le.fun(n)||n.prototype&&n.prototype.isReactComponent;return H.forwardRef((i,r)=>{let s=H.useRef(null),o=t&&H.useCallback(g=>{s.current=l$(r,g)},[r]),[a,l]=a$(i,e),u=$Z(),f=()=>{let g=s.current;t&&!g||(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},d=new o$(f,l),p=H.useRef();bk(()=>(p.current=d,fn(l,g=>Qd(g,d)),()=>{p.current&&(fn(p.current.deps,g=>ad(g,p.current)),ct.cancel(p.current.update))})),H.useEffect(f,[]),n$(()=>()=>{let g=p.current;fn(g.deps,v=>ad(v,g))});let m=e.getComponentProps(a.getValue());return H.createElement(n,{...m,ref:o})})},o$=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&ct.write(this.update)}};function a$(n,e){let t=new Set;return B0.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new Ly(n),B0.dependencies=null,[n,t]}function l$(n,e){return n&&(Le.fun(n)?n(e):n.current=e),e}var d3=Symbol.for("AnimatedComponent"),u$=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new Ly(r),getComponentProps:i=r=>r}={})=>{let r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},s=o=>{let a=p3(o)||"Anonymous";return Le.str(o)?o=s[o]||(s[o]=f3(o,r)):o=o[d3]||(o[d3]=f3(o,r)),o.displayName=`Animated(${a})`,o};return po(n,(o,a)=>{Le.arr(n)&&(a=p3(o)),s[a]=s(o)}),{animated:s}},p3=n=>Le.str(n)?n:n&&Le.str(n.displayName)?n.displayName:Le.fun(n)&&n.name||null;function sl(n,...e){return Le.fun(n)?n(...e):n}var yf=(n,e)=>n===!0||!!(e&&n&&(Le.fun(n)?n(e):Cr(n).includes(e))),Tk=(n,e)=>Le.obj(n)?e&&n[e]:n,Pk=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,c$=n=>n,Bk=(n,e=c$)=>{let t=h$;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));let i={};for(let r of t){let s=e(n[r],r);Le.und(s)||(i[r]=s)}return i},h$=["config","onProps","onStart","onChange","onPause","onResume","onRest"],f$={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function d$(n){let e={},t=0;if(po(n,(i,r)=>{f$[r]||(e[r]=i,t++)}),t)return e}function Rk(n){let e=d$(n);if(e){let t={to:e};return po(n,(i,r)=>r in e||(t[r]=i)),t}return{...n}}function cd(n){return n=Pi(n),Le.arr(n)?n.map(cd):Ry(n)?es.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function tA(n){return Le.fun(n)||Le.arr(n)&&Le.obj(n[0])}var Ik={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},nA={...Ik.default,mass:1,damping:1,easing:VZ.linear,clamp:!1},p$=class{constructor(){He(this,"tension");He(this,"friction");He(this,"frequency");He(this,"damping");He(this,"mass");He(this,"velocity",0);He(this,"restVelocity");He(this,"precision");He(this,"progress");He(this,"duration");He(this,"easing");He(this,"clamp");He(this,"bounce");He(this,"decay");He(this,"round");Object.assign(this,nA)}};function m$(n,e,t){t&&(t={...t},m3(t,e),e={...t,...e}),m3(n,e),Object.assign(n,e);for(let o in nA)n[o]==null&&(n[o]=nA[o]);let{mass:i,frequency:r,damping:s}=n;return Le.und(r)||(r<.01&&(r=.01),s<0&&(s=0),n.tension=Math.pow(2*Math.PI/r,2)*i,n.friction=4*Math.PI*s*i/r),n}function m3(n,e){if(!Le.und(e.decay))n.duration=void 0;else{let t=!Le.und(e.tension)||!Le.und(e.friction);(t||!Le.und(e.frequency)||!Le.und(e.damping)||!Le.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var g3=[],g$=class{constructor(){He(this,"changed",!1);He(this,"values",g3);He(this,"toValues",null);He(this,"fromValues",g3);He(this,"to");He(this,"from");He(this,"config",new p$);He(this,"immediate",!1)}};function Lk(n,{key:e,props:t,defaultProps:i,state:r,actions:s}){return new Promise((o,a)=>{let l,u,f=yf(t.cancel??(i==null?void 0:i.cancel),e);if(f)m();else{Le.und(t.pause)||(r.paused=yf(t.pause,e));let g=i==null?void 0:i.pause;g!==!0&&(g=r.paused||yf(g,e)),l=sl(t.delay||0,e),g?(r.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){r.resumeQueue.add(p),r.timeouts.delete(u),u.cancel(),l=u.time-ct.now()}function p(){l>0&&!es.skipAnimation?(r.delayed=!0,u=ct.setTimeout(m,l),r.pauseQueue.add(d),r.timeouts.add(u)):m()}function m(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(d),r.timeouts.delete(u),n<=(r.cancelId||0)&&(f=!0);try{s.start({...t,callId:n,cancel:f},o)}catch(g){a(g)}}})}var VS=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?oc(n.get()):e.every(t=>t.noop)?Dk(n.get()):Vr(n.get(),e.every(t=>t.finished)),Dk=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Vr=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),oc=n=>({value:n,cancelled:!0,finished:!1});function Fk(n,e,t,i){let{callId:r,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;let u=Bk(e,(x,w)=>w==="onRest"?void 0:x),f,d,p=new Promise((x,w)=>(f=x,d=w)),m=x=>{let w=r<=(t.cancelId||0)&&oc(i)||r!==t.asyncId&&Vr(i,!1);if(w)throw x.result=w,d(x),x},g=(x,w)=>{let _=new y3,A=new v3;return(async()=>{if(es.skipAnimation)throw hd(t),A.result=Vr(i,!1),d(A),A;m(_);let S=Le.obj(x)?{...x}:{...w,to:x};S.parentId=r,po(u,(P,R)=>{Le.und(S[R])&&(S[R]=P)});let E=await i.start(S);return m(_),t.paused&&await new Promise(P=>{t.resumeQueue.add(P)}),E})()},v;if(es.skipAnimation)return hd(t),Vr(i,!1);try{let x;Le.arr(n)?x=(async w=>{for(let _ of w)await g(_)})(n):x=Promise.resolve(n(g,i.stop.bind(i))),await Promise.all([x.then(f),p]),v=Vr(i.get(),!0,!1)}catch(x){if(x instanceof y3)v=x.result;else if(x instanceof v3)v=x.result;else throw x}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return Le.fun(o)&&ct.batchedUpdates(()=>{o(v,i,i.item)}),v})()}function hd(n,e){mf(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var y3=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");He(this,"result")}},v3=class extends Error{constructor(){super("SkipAnimationSignal");He(this,"result")}},iA=n=>n instanceof WS,y$=1,WS=class extends xk{constructor(){super(...arguments);He(this,"id",y$++);He(this,"_priority",0)}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=ms(this);return e&&e.getValue()}to(...e){return es.to(this,e)}interpolate(...e){return qZ(),es.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){od(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ty.sort(this),od(this,{type:"priority",parent:this,priority:e})}},Ol=Symbol.for("SpringPhase"),kk=1,rA=2,sA=4,L1=n=>(n[Ol]&kk)>0,ko=n=>(n[Ol]&rA)>0,kh=n=>(n[Ol]&sA)>0,x3=(n,e)=>e?n[Ol]|=rA|kk:n[Ol]&=~rA,_3=(n,e)=>e?n[Ol]|=sA:n[Ol]&=~sA,v$=class extends WS{constructor(e,t){super();He(this,"key");He(this,"animation",new g$);He(this,"queue");He(this,"defaultProps",{});He(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});He(this,"_pendingCalls",new Set);He(this,"_lastCallId",0);He(this,"_lastToId",0);He(this,"_memoizedDuration",0);if(!Le.und(e)||!Le.und(t)){let i=Le.obj(e)?{...e}:{...t,from:e};Le.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(ko(this)||this._state.asyncTo)||kh(this)}get goal(){return Pi(this.animation.to)}get velocity(){let e=ms(this);return e instanceof qd?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return L1(this)}get isAnimating(){return ko(this)}get isPaused(){return kh(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1,r=this.animation,{config:s,toValues:o}=r,a=Iy(r.to);!a&&Ar(r.to)&&(o=Cr(Pi(r.to))),r.values.forEach((f,d)=>{if(f.done)return;let p=f.constructor==ud?1:a?a[d].lastPosition:o[d],m=r.immediate,g=p;if(!m){if(g=f.lastPosition,s.tension<=0){f.done=!0;return}let v=f.elapsedTime+=e,x=r.fromValues[d],w=f.v0!=null?f.v0:f.v0=Le.arr(s.velocity)?s.velocity[d]:s.velocity,_,A=s.precision||(x==p?.005:Math.min(1,Math.abs(p-x)*.001));if(Le.und(s.duration))if(s.decay){let S=s.decay===!0?.998:s.decay,E=Math.exp(-(1-S)*v);g=x+w/(1-S)*(1-E),m=Math.abs(f.lastPosition-g)<=A,_=w*E}else{_=f.lastVelocity==null?w:f.lastVelocity;let S=s.restVelocity||A/10,E=s.clamp?0:s.bounce,P=!Le.und(E),R=x==p?f.v0>0:x<p,C,B=!1,D=1,O=Math.ceil(e/D);for(let Y=0;Y<O&&(C=Math.abs(_)>S,!(!C&&(m=Math.abs(p-g)<=A,m)));++Y){P&&(B=g==p||g>p==R,B&&(_=-_*E,g=p));let W=-s.tension*1e-6*(g-p),j=-s.friction*.001*_,X=(W+j)/s.mass;_=_+X*D,g=g+_*D}}else{let S=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,f.durationProgress>0&&(f.elapsedTime=s.duration*f.durationProgress,v=f.elapsedTime+=e)),S=(s.progress||0)+v/this._memoizedDuration,S=S>1?1:S<0?0:S,f.durationProgress=S),g=x+s.easing(S)*(p-x),_=(g-f.lastPosition)/e,m=S==1}f.lastVelocity=_,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[d].done&&(m=!1),m?f.done=!0:t=!1,f.setValue(g,s.round)&&(i=!0)});let l=ms(this),u=l.getValue();if(t){let f=Pi(r.to);(u!==f||i)&&!s.decay?(l.setValue(f),this._onChange(f)):i&&s.decay&&this._onChange(u),this._stop()}else i&&this._onChange(u)}set(e){return ct.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ko(this)){let{to:e,config:t}=this.animation;ct.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return Le.und(e)?(i=this.queue||[],this.queue=[]):i=[Le.obj(e)?e:{...t,to:e}],Promise.all(i.map(r=>this._update(r))).then(r=>VS(this,r))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),hd(this._state,e&&this._lastCallId),ct.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:i,from:r}=e;i=Le.obj(i)?i[t]:i,(i==null||tA(i))&&(i=void 0),r=Le.obj(r)?r[t]:r,r==null&&(r=void 0);let s={to:i,from:r};return L1(this)||(e.reverse&&([i,r]=[r,i]),r=Pi(r),Le.und(r)?ms(this)||this._set(i):this._set(r)),s}_update({...e},t){let{key:i,defaultProps:r}=this;e.default&&Object.assign(r,Bk(e,(a,l)=>/^on/.test(l)?Tk(a,i):a)),A3(this,e,"onProps"),Nh(this,"onProps",e,this);let s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return Lk(++this._lastCallId,{key:i,props:e,defaultProps:r,state:o,actions:{pause:()=>{kh(this)||(_3(this,!0),jh(o.pauseQueue),Nh(this,"onPause",Vr(this,Oh(this,this.animation.to)),this))},resume:()=>{kh(this)&&(_3(this,!1),ko(this)&&this._resume(),jh(o.resumeQueue),Nh(this,"onResume",Vr(this,Oh(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(a=>{if(e.loop&&a.finished&&!(t&&a.noop)){let l=Ok(e);if(l)return this._update(l,!0)}return a})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(oc(this));let r=!Le.und(e.to),s=!Le.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(oc(this));let{key:o,defaultProps:a,animation:l}=this,{to:u,from:f}=l,{to:d=u,from:p=f}=e;s&&!r&&(!t.default||Le.und(d))&&(d=p),t.reverse&&([d,p]=[p,d]);let m=!Js(p,f);m&&(l.from=p),p=Pi(p);let g=!Js(d,u);g&&this._focus(d);let v=tA(t.to),{config:x}=l,{decay:w,velocity:_}=x;(r||s)&&(x.velocity=0),t.config&&!v&&m$(x,sl(t.config,o),t.config!==a.config?sl(a.config,o):void 0);let A=ms(this);if(!A||Le.und(d))return i(Vr(this,!0));let S=Le.und(t.reset)?s&&!t.default:!Le.und(p)&&yf(t.reset,o),E=S?p:this.get(),P=cd(d),R=Le.num(P)||Le.arr(P)||Ry(P),C=!v&&(!R||yf(a.immediate||t.immediate,o));if(g){let Y=eA(d);if(Y!==A.constructor)if(C)A=this._set(P);else throw Error(`Cannot animate between ${A.constructor.name} and ${Y.name}, as the "to" prop suggests`)}let B=A.constructor,D=Ar(d),O=!1;if(!D){let Y=S||!L1(this)&&m;(g||Y)&&(O=Js(cd(E),P),D=!O),(!Js(l.immediate,C)&&!C||!Js(x.decay,w)||!Js(x.velocity,_))&&(D=!0)}if(O&&ko(this)&&(l.changed&&!S?D=!0:D||this._stop(u)),!v&&((D||Ar(u))&&(l.values=A.getPayload(),l.toValues=Ar(d)?null:B==ud?[1]:Cr(P)),l.immediate!=C&&(l.immediate=C,!C&&!S&&this._set(u)),D)){let{onRest:Y}=l;fn(x$,j=>A3(this,t,j));let W=Vr(this,Oh(this,u));jh(this._pendingCalls,W),this._pendingCalls.add(i),l.changed&&ct.batchedUpdates(()=>{var j;l.changed=!S,Y==null||Y(W,this),S?sl(a.onRest,W):(j=l.onStart)==null||j.call(l,W,this)})}S&&this._set(E),v?i(Fk(t.to,t,this._state,this)):D?this._start():ko(this)&&!g?this._pendingCalls.add(i):i(Dk(E))}_focus(e){let t=this.animation;e!==t.to&&(c3(this)&&this._detach(),t.to=e,c3(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;Ar(t)&&(Qd(t,this),iA(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Ar(e)&&ad(e,this)}_set(e,t=!0){let i=Pi(e);if(!Le.und(i)){let r=ms(this);if(!r||!Js(i,r.getValue())){let s=eA(i);!r||r.constructor!=s?HS(this,s.create(i)):r.setValue(i),r&&ct.batchedUpdates(()=>{this._onChange(i,t)})}}return ms(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,Nh(this,"onStart",Vr(this,Oh(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),sl(this.animation.onChange,e,this)),sl(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;ms(this).reset(Pi(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),ko(this)||(x3(this,!0),kh(this)||this._resume())}_resume(){es.skipAnimation?this.finish():Ty.start(this)}_stop(e,t){if(ko(this)){x3(this,!1);let i=this.animation;fn(i.values,s=>{s.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),od(this,{type:"idle",parent:this});let r=t?oc(this.get()):Vr(this.get(),Oh(this,e??i.to));jh(this._pendingCalls,r),i.changed&&(i.changed=!1,Nh(this,"onRest",r,this))}}};function Oh(n,e){let t=cd(e),i=cd(n.get());return Js(i,t)}function Ok(n,e=n.loop,t=n.to){let i=sl(e);if(i){let r=i!==!0&&Rk(i),s=(r||n).reverse,o=!r||r.reset;return oA({...n,loop:e,default:!1,pause:void 0,to:!s||tA(t)?t:void 0,from:o?n.from:void 0,reset:o,...r})}}function oA(n){let{to:e,from:t}=n=Rk(n),i=new Set;return Le.obj(e)&&w3(e,i),Le.obj(t)&&w3(t,i),n.keys=i.size?Array.from(i):null,n}function w3(n,e){po(n,(t,i)=>t!=null&&e.add(i))}var x$=["onStart","onRest","onChange","onPause","onResume"];function A3(n,e,t){n.animation[t]=e[t]!==Pk(e,t)?Tk(e[t],n.key):void 0}function Nh(n,e,...t){var i,r,s,o;(r=(i=n.animation)[e])==null||r.call(i,...t),(o=(s=n.defaultProps)[e])==null||o.call(s,...t)}var _$=["onStart","onChange","onRest"],w$=1,Nk=class{constructor(n,e){He(this,"id",w$++);He(this,"springs",{});He(this,"queue",[]);He(this,"ref");He(this,"_flush");He(this,"_initialProps");He(this,"_lastAsyncId",0);He(this,"_active",new Set);He(this,"_changed",new Set);He(this,"_started",!1);He(this,"_item");He(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});He(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){let n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(let e in n){let t=n[e];Le.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(oA(n)),this}start(n){let{queue:e}=this;return n?e=Cr(n).map(oA):this.queue=[],this._flush?this._flush(this,e):(Uk(this,e),A$(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){let t=this.springs;fn(Cr(e),i=>t[i].stop(!!n))}else hd(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(Le.und(n))this.start({pause:!0});else{let e=this.springs;fn(Cr(n),t=>e[t].pause())}return this}resume(n){if(Le.und(n))this.start({pause:!1});else{let e=this.springs;fn(Cr(n),t=>e[t].resume())}return this}each(n){po(this.springs,n)}_onFrame(){let{onStart:n,onChange:e,onRest:t}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,mf(n,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));let s=!i&&this._started,o=r||s&&t.size?this.get():null;r&&e.size&&mf(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,mf(t,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;ct.onFrame(this._onFrame)}};function A$(n,e){return Promise.all(e.map(t=>zk(n,t))).then(t=>VS(n,t))}async function zk(n,e,t){let{keys:i,to:r,from:s,loop:o,onRest:a,onResolve:l}=e,u=Le.obj(e.default)&&e.default;o&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);let f=Le.arr(r)||Le.fun(r)?r:void 0;f?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):fn(_$,v=>{let x=e[v];if(Le.fun(x)){let w=n._events[v];e[v]=({finished:_,cancelled:A})=>{let S=w.get(x);S?(_||(S.finished=!1),A&&(S.cancelled=!0)):w.set(x,{value:null,finished:_||!1,cancelled:A||!1})},u&&(u[v]=e[v])}});let d=n._state;e.pause===!d.paused?(d.paused=e.pause,jh(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);let p=(i||Object.keys(n.springs)).map(v=>n.springs[v].start(e)),m=e.cancel===!0||Pk(e,"cancel")===!0;(f||m&&d.asyncId)&&p.push(Lk(++n._lastAsyncId,{props:e,state:d,actions:{pause:Zw,resume:Zw,start(v,x){m?(hd(d,n._lastAsyncId),x(oc(n))):(v.onRest=a,x(Fk(f,v,d,n)))}}})),d.paused&&await new Promise(v=>{d.resumeQueue.add(v)});let g=VS(n,await Promise.all(p));if(o&&g.finished&&!(t&&g.noop)){let v=Ok(e,o,r);if(v)return Uk(n,[v]),zk(n,v,!0)}return l&&ct.batchedUpdates(()=>l(g,n,n.item)),g}function M$(n,e){let t=new v$;return t.key=n,e&&Qd(t,e),t}function S$(n,e,t){e.keys&&fn(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function Uk(n,e){fn(e,t=>{S$(n.springs,t,i=>M$(i,n))})}var jS=({children:n,...e})=>{let t=H.useContext(R0),i=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=e$(()=>({pause:i,immediate:r}),[i,r]);let{Provider:s}=R0;return H.createElement(s,{value:e},n)},R0=b$(jS,{});jS.Provider=R0.Provider;jS.Consumer=R0.Consumer;function b$(n,e){return Object.assign(n,H.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var C$=class extends WS{constructor(e,t){super();He(this,"key");He(this,"idle",!0);He(this,"calc");He(this,"_active",new Set);this.source=e,this.calc=sd(...t);let i=this._get(),r=eA(i);HS(this,r.create(i))}advance(e){let t=this._get(),i=this.get();Js(t,i)||(ms(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&M3(this._active)&&D1(this)}_get(){let e=Le.arr(this.source)?this.source.map(Pi):Cr(Pi(this.source));return this.calc(...e)}_start(){this.idle&&!M3(this._active)&&(this.idle=!1,fn(Iy(this),e=>{e.done=!1}),es.skipAnimation?(ct.batchedUpdates(()=>this.advance()),D1(this)):Ty.start(this))}_attach(){let e=1;fn(Cr(this.source),t=>{Ar(t)&&Qd(t,this),iA(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){fn(Cr(this.source),e=>{Ar(e)&&ad(e,this)}),this._active.clear(),D1(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Cr(this.source).reduce((t,i)=>Math.max(t,(iA(i)?i.priority:0)+1),0))}};function E$(n){return n.idle!==!1}function M3(n){return!n.size||Array.from(n).every(E$)}function D1(n){n.idle||(n.idle=!0,fn(Iy(n),e=>{e.done=!0}),od(n,{type:"idle",parent:n}))}es.assign({createStringInterpolator:Ak,to:(n,e)=>new C$(n,e)});var Gk=/^--/;function T$(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Gk.test(n)&&!(vf.hasOwnProperty(n)&&vf[n])?e+"px":(""+e).trim()}var S3={};function P$(n,e){if(!n.nodeType||!n.setAttribute)return!1;let t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{style:i,children:r,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,u=Object.values(l),f=Object.keys(l).map(d=>t||n.hasAttribute(d)?d:S3[d]||(S3[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));r!==void 0&&(n.textContent=r);for(let d in i)if(i.hasOwnProperty(d)){let p=T$(d,i[d]);Gk.test(d)?n.style.setProperty(d,p):n.style[d]=p}f.forEach((d,p)=>{n.setAttribute(d,u[p])}),s!==void 0&&(n.scrollTop=s),o!==void 0&&(n.scrollLeft=o),a!==void 0&&n.setAttribute("viewBox",a)}var vf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B$=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),R$=["Webkit","Ms","Moz","O"];vf=Object.keys(vf).reduce((n,e)=>(R$.forEach(t=>n[B$(t,e)]=n[e]),n),vf);var I$=/^(matrix|translate|scale|rotate|skew)/,L$=/^(translate)/,D$=/^(rotate|skew)/,F1=(n,e)=>Le.num(n)&&n!==0?n+e:n,Dg=(n,e)=>Le.arr(n)?n.every(t=>Dg(t,e)):Le.num(n)?n===e:parseFloat(n)===e,F$=class extends Ly{constructor({x:n,y:e,z:t,...i}){let r=[],s=[];(n||e||t)&&(r.push([n||0,e||0,t||0]),s.push(o=>[`translate3d(${o.map(a=>F1(a,"px")).join(",")})`,Dg(o,0)])),po(i,(o,a)=>{if(a==="transform")r.push([o||""]),s.push(l=>[l,l===""]);else if(I$.test(a)){if(delete i[a],Le.und(o))return;let l=L$.test(a)?"px":D$.test(a)?"deg":"";r.push(Cr(o)),s.push(a==="rotate3d"?([u,f,d,p])=>[`rotate3d(${u},${f},${d},${F1(p,l)})`,Dg(p,0)]:u=>[`${a}(${u.map(f=>F1(f,l)).join(",")})`,Dg(u,a.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new k$(r,s)),super(i)}},k$=class extends xk{constructor(e,t){super();He(this,"_value",null);this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return fn(this.inputs,(i,r)=>{let s=Pi(i[0]),[o,a]=this.transforms[r](Le.arr(s)?s:i.map(Pi));e+=" "+o,t=t&&a}),t?"none":e}observerAdded(e){e==1&&fn(this.inputs,t=>fn(t,i=>Ar(i)&&Qd(i,this)))}observerRemoved(e){e==0&&fn(this.inputs,t=>fn(t,i=>Ar(i)&&ad(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),od(this,e)}},O$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];es.assign({batchedUpdates:xf.unstable_batchedUpdates,createStringInterpolator:Ak,colors:BZ});var N$=u$(O$,{applyAnimatedValues:P$,createAnimatedStyle:n=>new F$(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),aA=N$.animated,lA=H.createContext(null);function k1(n){return n?"scrollLeft":"scrollTop"}function uA(n,e){let t=i=>i.type?i.type===H.Fragment:i===H.Fragment;return H.Children.map(n,i=>t(i)?uA(i.props.children,e):e(i))}var b3="translate3d(0px,0px,0px)",lg="translate(0px,0px)";H.memo(H.forwardRef(({horizontal:n,factor:e=1,offset:t=0,speed:i=0,sticky:r,...s},o)=>{let a=H.useContext(lA),l=Kw(()=>{let m;if(r)m=(r.start||0)*a.space;else{let g=Math.floor(t)*a.space,v=a.space*t+g*i;m=-(a.current*i)+v}return new Nk({space:r?a.space:a.space*e,translate:m})},[]),u=Kw(()=>({horizontal:n===void 0||r?a.horizontal:n,sticky:void 0,isSticky:!1,setPosition(m,g,v=!1){if(r)d(m,g);else{let x=Math.floor(t)*m,w=m*t+x*i;l.start({translate:-(g*i)+w,config:a.config,immediate:v})}},setHeight(m,g=!1){l.start({space:r?m:m*e,config:a.config,immediate:g})}}),[]);Qw(()=>{if(r){let m=r.start||0,g=r.end||m+1;u.sticky={start:m,end:g}}}),H.useImperativeHandle(o,()=>u);let f=H.useRef(),d=(m,g)=>{let v=u.sticky.start*m,x=u.sticky.end*m,w=g>=v&&g<=x;if(w===u.isSticky)return;u.isSticky=w;let _=f.current;_.style.position=w?"sticky":"absolute",l.set({translate:w?0:g<v?v:x})};Qw(()=>{if(a)return a.layers.add(u),a.update(),()=>{a.layers.delete(u),a.update()}});let p=l.springs.translate.to(u.horizontal?m=>`translate3d(${m}px,0,0)`:m=>`translate3d(0,${m}px,0)`);return H.createElement(aA.div,{...s,ref:f,style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundSize:"auto",backgroundRepeat:"no-repeat",willChange:"transform",[u.horizontal?"height":"width"]:"100%",[u.horizontal?"width":"height"]:l.springs.space,WebkitTransform:p,msTransform:p,transform:p,...s.style}})}));H.memo(H.forwardRef((n,e)=>{let[t,i]=H.useState(!1),{pages:r,innerStyle:s,config:o=Ik.slow,enabled:a=!0,horizontal:l=!1,children:u,...f}=n,d=H.useRef(),p=H.useRef(),m=Kw(()=>({config:o,horizontal:l,busy:!1,space:0,current:0,offset:0,controller:new Nk({scroll:0}),layers:new Set,container:d,content:p,update:()=>g(),scrollTo:_=>v(_),stop:()=>m.controller.stop()}),[]);H.useEffect(()=>{m.config=o},[o]),H.useImperativeHandle(e,()=>m);let g=()=>{let _=d.current;if(!_)return;let A=l?"clientWidth":"clientHeight";m.space=_[A];let S=k1(l);a?m.current=_[S]:_[S]=m.current=m.offset*m.space;let E=p.current;if(E){let P=l?"width":"height";E.style[P]=`${m.space*r}px`}m.layers.forEach(P=>{P.setHeight(m.space,!0),P.setPosition(m.space,m.current,!0)})},v=_=>{let A=d.current,S=k1(l);m.offset=_,m.controller.set({scroll:m.current}),m.controller.stop().start({scroll:_*m.space,config:o,onChange({value:{scroll:E}}){A[S]=E}})},x=_=>{m.busy||(m.busy=!0,m.current=_.target[k1(l)],Ht.onStart(()=>{m.layers.forEach(A=>A.setPosition(m.space,m.current)),m.busy=!1}))};H.useEffect(()=>m.update()),Qw(()=>{i(!0);let _=()=>{let A=()=>m.update();Ht.onFrame(A),setTimeout(A,150)};return window.addEventListener("resize",_,!1),()=>window.removeEventListener("resize",_,!1)});let w=a?{overflowY:l?"hidden":"scroll",overflowX:l?"scroll":"hidden"}:{overflowY:"hidden",overflowX:"hidden"};return H.createElement(aA.div,{...f,ref:d,onScroll:x,onWheel:a?m.stop:void 0,onTouchStart:a?m.stop:void 0,style:{position:"absolute",width:"100%",height:"100%",...w,WebkitOverflowScrolling:"touch",WebkitTransform:lg,msTransform:lg,transform:b3,...f.style}},t&&H.createElement(H.Fragment,null,H.createElement(aA.div,{ref:p,style:{overflow:"hidden",position:"absolute",[l?"height":"width"]:"100%",[l?"width":"height"]:m.space*r,WebkitTransform:lg,msTransform:lg,transform:b3,...n.innerStyle}},H.createElement(lA.Provider,{value:m},uA(u,_=>!_.props.sticky&&_))),H.createElement(lA.Provider,{value:m},uA(u,_=>_.props.sticky&&_))))}));const z$=()=>ht(F4,{children:[me(fZ,{}),me(gQ,{}),ht("div",{className:"",children:[me(CK,{}),me(mQ,{})]}),me(nQ,{}),me(xQ,{}),me(AQ,{}),me(LK,{}),me(hZ,{})]});N1.createRoot(document.getElementById("root")).render(me(ac.StrictMode,{children:me(z$,{})}));
